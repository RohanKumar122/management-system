let e,t,n,r;function i(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function a(e){return e&&e.__esModule?e.default:e}var s,o,l,u,c,h,f,d,p,m,g,y,v,w,b,E,_,S,k,T,x,I,C,R,N,A,P,D,L,O,M,U,F,V,j,B,z,$,q,H,W=globalThis,K={},G={},Q=W.parcelRequire94c2;null==Q&&((Q=function(e){if(e in K)return K[e].exports;if(e in G){var t=G[e];delete G[e];var n={id:e,exports:{}};return K[e]=n,t.call(n.exports,n,n.exports),n.exports}var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){G[e]=t},W.parcelRequire94c2=Q);var Y=Q.register;Y("1b2ls",function(e,t){i(e.exports,"Fragment",()=>n,e=>n=e),i(e.exports,"jsx",()=>r,e=>r=e),i(e.exports,"jsxs",()=>a,e=>a=e);var n,r,a,s=Q("acw62"),o=Symbol.for("react.element"),l=Symbol.for("react.fragment"),u=Object.prototype.hasOwnProperty,c=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,h={key:!0,ref:!0,__self:!0,__source:!0};function f(e,t,n){var r,i={},a=null,s=null;for(r in void 0!==n&&(a=""+n),void 0!==t.key&&(a=""+t.key),void 0!==t.ref&&(s=t.ref),t)u.call(t,r)&&!h.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:c.current}}n=l,r=f,a=f}),Y("acw62",function(e,t){e.exports=Q("2pUnB")}),Y("2pUnB",function(e,t){i(e.exports,"Children",()=>n,e=>n=e),i(e.exports,"Component",()=>r,e=>r=e),i(e.exports,"Fragment",()=>a,e=>a=e),i(e.exports,"Profiler",()=>s,e=>s=e),i(e.exports,"PureComponent",()=>o,e=>o=e),i(e.exports,"StrictMode",()=>l,e=>l=e),i(e.exports,"Suspense",()=>u,e=>u=e),i(e.exports,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",()=>c,e=>c=e),i(e.exports,"act",()=>h,e=>h=e),i(e.exports,"cloneElement",()=>f,e=>f=e),i(e.exports,"createContext",()=>d,e=>d=e),i(e.exports,"createElement",()=>p,e=>p=e),i(e.exports,"createFactory",()=>m,e=>m=e),i(e.exports,"createRef",()=>g,e=>g=e),i(e.exports,"forwardRef",()=>y,e=>y=e),i(e.exports,"isValidElement",()=>v,e=>v=e),i(e.exports,"lazy",()=>w,e=>w=e),i(e.exports,"memo",()=>b,e=>b=e),i(e.exports,"startTransition",()=>E,e=>E=e),i(e.exports,"unstable_act",()=>_,e=>_=e),i(e.exports,"useCallback",()=>S,e=>S=e),i(e.exports,"useContext",()=>k,e=>k=e),i(e.exports,"useDebugValue",()=>T,e=>T=e),i(e.exports,"useDeferredValue",()=>x,e=>x=e),i(e.exports,"useEffect",()=>I,e=>I=e),i(e.exports,"useId",()=>C,e=>C=e),i(e.exports,"useImperativeHandle",()=>R,e=>R=e),i(e.exports,"useInsertionEffect",()=>N,e=>N=e),i(e.exports,"useLayoutEffect",()=>A,e=>A=e),i(e.exports,"useMemo",()=>P,e=>P=e),i(e.exports,"useReducer",()=>D,e=>D=e),i(e.exports,"useRef",()=>L,e=>L=e),i(e.exports,"useState",()=>O,e=>O=e),i(e.exports,"useSyncExternalStore",()=>M,e=>M=e),i(e.exports,"useTransition",()=>U,e=>U=e),i(e.exports,"version",()=>F,e=>F=e);var n,r,a,s,o,l,u,c,h,f,d,p,m,g,y,v,w,b,E,_,S,k,T,x,I,C,R,N,A,P,D,L,O,M,U,F,V=Symbol.for("react.element"),j=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),H=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),G=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),Y=Symbol.iterator,X={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,Z={};function ee(e,t,n){this.props=e,this.context=t,this.refs=Z,this.updater=n||X}function et(){}function en(e,t,n){this.props=e,this.context=t,this.refs=Z,this.updater=n||X}ee.prototype.isReactComponent={},ee.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},ee.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},et.prototype=ee.prototype;var er=en.prototype=new et;er.constructor=en,J(er,ee.prototype),er.isPureReactComponent=!0;var ei=Array.isArray,ea=Object.prototype.hasOwnProperty,es={current:null},eo={key:!0,ref:!0,__self:!0,__source:!0};function el(e,t,n){var r,i={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)ea.call(t,r)&&!eo.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(1===o)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===i[r]&&(i[r]=o[r]);return{$$typeof:V,type:e,key:a,ref:s,props:i,_owner:es.current}}function eu(e){return"object"==typeof e&&null!==e&&e.$$typeof===V}var ec=/\/+/g;function eh(e,t){var n,r;return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return r[e]})):t.toString(36)}function ef(e,t,n){if(null==e)return e;var r=[],i=0;return function e(t,n,r,i,a){var s,o,l,u=typeof t;("undefined"===u||"boolean"===u)&&(t=null);var c=!1;if(null===t)c=!0;else switch(u){case"string":case"number":c=!0;break;case"object":switch(t.$$typeof){case V:case j:c=!0}}if(c)return a=a(c=t),t=""===i?"."+eh(c,0):i,ei(a)?(r="",null!=t&&(r=t.replace(ec,"$&/")+"/"),e(a,n,r,"",function(e){return e})):null!=a&&(eu(a)&&(s=a,o=r+(!a.key||c&&c.key===a.key?"":(""+a.key).replace(ec,"$&/")+"/")+t,a={$$typeof:V,type:s.type,key:o,ref:s.ref,props:s.props,_owner:s._owner}),n.push(a)),1;if(c=0,i=""===i?".":i+":",ei(t))for(var h=0;h<t.length;h++){var f=i+eh(u=t[h],h);c+=e(u,n,r,f,a)}else if("function"==typeof(f=null===(l=t)||"object"!=typeof l?null:"function"==typeof(l=Y&&l[Y]||l["@@iterator"])?l:null))for(t=f.call(t),h=0;!(u=t.next()).done;)f=i+eh(u=u.value,h++),c+=e(u,n,r,f,a);else if("object"===u)throw Error("Objects are not valid as a React child (found: "+("[object Object]"===(n=String(t))?"object with keys {"+Object.keys(t).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return c}(e,r,"","",function(e){return t.call(n,e,i++)}),r}function ed(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){(0===e._status||-1===e._status)&&(e._status=1,e._result=t)},function(t){(0===e._status||-1===e._status)&&(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var ep={current:null},em={transition:null};function eg(){throw Error("act(...) is not supported in production builds of React.")}n={map:ef,forEach:function(e,t,n){ef(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ef(e,function(){t++}),t},toArray:function(e){return ef(e,function(e){return e})||[]},only:function(e){if(!eu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},r=ee,a=B,s=$,o=en,l=z,u=K,c={ReactCurrentDispatcher:ep,ReactCurrentBatchConfig:em,ReactCurrentOwner:es},h=eg,f=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=J({},e.props),i=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=es.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)ea.call(t,l)&&!eo.hasOwnProperty(l)&&(r[l]=void 0===t[l]&&void 0!==o?o[l]:t[l])}var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:V,type:e.type,key:i,ref:a,props:r,_owner:s}},d=function(e){return(e={$$typeof:H,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:q,_context:e},e.Consumer=e},p=el,m=function(e){var t=el.bind(null,e);return t.type=e,t},g=function(){return{current:null}},y=function(e){return{$$typeof:W,render:e}},v=eu,w=function(e){return{$$typeof:Q,_payload:{_status:-1,_result:e},_init:ed}},b=function(e,t){return{$$typeof:G,type:e,compare:void 0===t?null:t}},E=function(e){var t=em.transition;em.transition={};try{e()}finally{em.transition=t}},_=eg,S=function(e,t){return ep.current.useCallback(e,t)},k=function(e){return ep.current.useContext(e)},T=function(){},x=function(e){return ep.current.useDeferredValue(e)},I=function(e,t){return ep.current.useEffect(e,t)},C=function(){return ep.current.useId()},R=function(e,t,n){return ep.current.useImperativeHandle(e,t,n)},N=function(e,t){return ep.current.useInsertionEffect(e,t)},A=function(e,t){return ep.current.useLayoutEffect(e,t)},P=function(e,t){return ep.current.useMemo(e,t)},D=function(e,t,n){return ep.current.useReducer(e,t,n)},L=function(e){return ep.current.useRef(e)},O=function(e){return ep.current.useState(e)},M=function(e,t,n){return ep.current.useSyncExternalStore(e,t,n)},U=function(){return ep.current.useTransition()},F="18.3.1"}),Y("Xw6Mv",function(e,t){i(e.exports,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",()=>z,e=>z=e),i(e.exports,"createPortal",()=>$,e=>$=e),i(e.exports,"createRoot",()=>q,e=>q=e),i(e.exports,"findDOMNode",()=>H,e=>H=e),i(e.exports,"flushSync",()=>W,e=>W=e),i(e.exports,"hydrate",()=>K,e=>K=e),i(e.exports,"hydrateRoot",()=>G,e=>G=e),i(e.exports,"render",()=>Y,e=>Y=e),i(e.exports,"unmountComponentAtNode",()=>X,e=>X=e),i(e.exports,"unstable_batchedUpdates",()=>J,e=>J=e),i(e.exports,"unstable_renderSubtreeIntoContainer",()=>Z,e=>Z=e),i(e.exports,"version",()=>ee,e=>ee=e);var n,r,a,s,o,l,u=Q("acw62"),c=Q("fO90s");function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f=new Set,d={};function p(e,t){m(e,t),m(e+"Capture",t)}function m(e,t){for(d[e]=t,e=0;e<t.length;e++)f.add(t[e])}var g=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),y=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},b={};function E(e,t,n,r,i,a,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_[e]=new E(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_[t]=new E(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){_[e]=new E(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_[e]=new E(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_[e]=new E(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){_[e]=new E(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){_[e]=new E(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){_[e]=new E(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){_[e]=new E(e,5,!1,e.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function T(e,t,n,r){var i,a=_.hasOwnProperty(t)?_[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":if(r)return!1;if(null!==n)return!n.acceptsBooleans;return"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e;default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?(i=t,(!!y.call(b,i)||!y.call(w,i)&&(v.test(i)?b[i]=!0:(w[i]=!0,!1)))&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n))):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(S,k);_[t]=new E(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(S,k);_[t]=new E(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(S,k);_[t]=new E(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){_[e]=new E(e,1,!1,e.toLowerCase(),null,!1,!1)}),_.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){_[e]=new E(e,1,!1,e.toLowerCase(),null,!0,!0)});var x=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),C=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),D=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),F=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var V=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var j=Symbol.iterator;function B(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=j&&e[j]||e["@@iterator"])?e:null}var z,$,q,H,W,K,G,Y,X,J,Z,ee,et,en=Object.assign;function er(e){if(void 0===et)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);et=t&&t[1]||""}return"\n"+et+e}var ei=!1;function ea(e,t){if(!e||ei)return"";ei=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t){if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),a=r.stack.split("\n"),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(1!==s||1!==o)do if(s--,0>--o||i[s]!==a[o]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o)break}}}finally{ei=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?er(e):""}function es(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function eo(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function el(e){e._valueTracker||(e._valueTracker=function(e){var t=eo(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function eu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=eo(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ec(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function eh(e,t){var n=t.checked;return en({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ef(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=es(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function ed(e,t){null!=(t=t.checked)&&T(e,"checked",t,!1)}function ep(e,t){ed(e,t);var n=es(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r){e.removeAttribute("value");return}t.hasOwnProperty("value")?eg(e,t.type,n):t.hasOwnProperty("defaultValue")&&eg(e,t.type,es(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function em(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function eg(e,t,n){("number"!==t||ec(e.ownerDocument)!==e)&&(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ey=Array.isArray;function ev(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(i=0,n=""+es(n),t=null;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ew(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(h(91));return en({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function eb(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(h(92));if(ey(n)){if(1<n.length)throw Error(h(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:es(n)}}function eE(e,t){var n=es(t.value),r=es(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function e_(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function eS(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ek(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?eS(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var eT,ex,eI=(eT=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ex=ex||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ex.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return eT(e,t,n,r)})}:eT);function eC(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType){n.nodeValue=t;return}}e.textContent=t}var eR={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eN=["Webkit","ms","Moz","O"];function eA(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||eR.hasOwnProperty(e)&&eR[e]?(""+t).trim():t+"px"}function eP(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=eA(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(eR).forEach(function(e){eN.forEach(function(t){eR[t=t+e.charAt(0).toUpperCase()+e.substring(1)]=eR[e]})});var eD=en({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eL(e,t){if(t){if(eD[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(h(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(h(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(h(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(h(62))}}function eO(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eM=null;function eU(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var eF=null,eV=null,ej=null;function eB(e){if(e=rQ(e)){if("function"!=typeof eF)throw Error(h(280));var t=e.stateNode;t&&(t=rX(t),eF(e.stateNode,e.type,t))}}function ez(e){eV?ej?ej.push(e):ej=[e]:eV=e}function e$(){if(eV){var e=eV,t=ej;if(ej=eV=null,eB(e),t)for(e=0;e<t.length;e++)eB(t[e])}}function eq(e,t){return e(t)}function eH(){}var eW=!1;function eK(e,t,n){if(eW)return e(t,n);eW=!0;try{return eq(e,t,n)}finally{eW=!1,(null!==eV||null!==ej)&&(eH(),e$())}}function eG(e,t){var n=e.stateNode;if(null===n)return null;var r=rX(n);if(null===r)return null;switch(n=r[t],t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(h(231,t,typeof n));return n}var eQ=!1;if(g)try{var eY={};Object.defineProperty(eY,"passive",{get:function(){eQ=!0}}),window.addEventListener("test",eY,eY),window.removeEventListener("test",eY,eY)}catch(e){eQ=!1}function eX(e,t,n,r,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var eJ=!1,eZ=null,e0=!1,e1=null,e2={onError:function(e){eJ=!0,eZ=e}};function e3(e,t,n,r,i,a,s,o,l){eJ=!1,eZ=null,eX.apply(e2,arguments)}function e4(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do 0!=(4098&(t=e).flags)&&(n=t.return),e=t.return;while(e)}return 3===t.tag?n:null}function e6(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function e5(e){if(e4(e)!==e)throw Error(h(188))}function e8(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=e4(e)))throw Error(h(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return e5(i),e;if(a===r)return e5(i),t;a=a.sibling}throw Error(h(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(h(189))}}if(n.alternate!==r)throw Error(h(190))}if(3!==n.tag)throw Error(h(188));return n.stateNode.current===n?e:t}(e))?function e(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var n=e(t);if(null!==n)return n;t=t.sibling}return null}(e):null}var e7=c.unstable_scheduleCallback,e9=c.unstable_cancelCallback,te=c.unstable_shouldYield,tt=c.unstable_requestPaint,tn=c.unstable_now,tr=c.unstable_getCurrentPriorityLevel,ti=c.unstable_ImmediatePriority,ta=c.unstable_UserBlockingPriority,ts=c.unstable_NormalPriority,to=c.unstable_LowPriority,tl=c.unstable_IdlePriority,tu=null,tc=null,th=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(tf(e)/td|0)|0},tf=Math.log,td=Math.LN2,tp=64,tm=4194304;function tg(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:return 0x7c00000&e;case 0x8000000:return 0x8000000;case 0x10000000:return 0x10000000;case 0x20000000:return 0x20000000;case 0x40000000:return 0x40000000;default:return e}}function ty(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=0xfffffff&n;if(0!==s){var o=s&~i;0!==o?r=tg(o):0!=(a&=s)&&(r=tg(a))}else 0!=(s=n&~i)?r=tg(s):0!==a&&(r=tg(a));if(0===r)return 0;if(0!==t&&t!==r&&0==(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!=(4194240&a)))return t;if(0!=(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-th(t)),r|=e[n],t&=~i;return r}function tv(e){return 0!=(e=-0x40000001&e.pendingLanes)?e:0x40000000&e?0x40000000:0}function tw(){var e=tp;return 0==(4194240&(tp<<=1))&&(tp=64),e}function tb(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function tE(e,t,n){e.pendingLanes|=t,0x20000000!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-th(t)]=n}function t_(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-th(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var tS=0;function tk(e){return 1<(e&=-e)?4<e?0!=(0xfffffff&e)?16:0x20000000:4:1}var tT,tx,tI,tC,tR,tN=!1,tA=[],tP=null,tD=null,tL=null,tO=new Map,tM=new Map,tU=[],tF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tV(e,t){switch(e){case"focusin":case"focusout":tP=null;break;case"dragenter":case"dragleave":tD=null;break;case"mouseover":case"mouseout":tL=null;break;case"pointerover":case"pointerout":tO.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":tM.delete(t.pointerId)}}function tj(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&null!==(t=rQ(t))&&tx(t)):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i)),e}function tB(e){var t=rG(e.target);if(null!==t){var n=e4(t);if(null!==n){if(13===(t=n.tag)){if(null!==(t=e6(n))){e.blockedOn=t,tR(e.priority,function(){tI(n)});return}}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=3===n.tag?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tz(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=tZ(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=rQ(n))&&tx(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);eM=r,n.target.dispatchEvent(r),eM=null,t.shift()}return!0}function t$(e,t,n){tz(e)&&n.delete(t)}function tq(){tN=!1,null!==tP&&tz(tP)&&(tP=null),null!==tD&&tz(tD)&&(tD=null),null!==tL&&tz(tL)&&(tL=null),tO.forEach(t$),tM.forEach(t$)}function tH(e,t){e.blockedOn===t&&(e.blockedOn=null,tN||(tN=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,tq)))}function tW(e){function t(t){return tH(t,e)}if(0<tA.length){tH(tA[0],e);for(var n=1;n<tA.length;n++){var r=tA[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==tP&&tH(tP,e),null!==tD&&tH(tD,e),null!==tL&&tH(tL,e),tO.forEach(t),tM.forEach(t),n=0;n<tU.length;n++)(r=tU[n]).blockedOn===e&&(r.blockedOn=null);for(;0<tU.length&&null===(n=tU[0]).blockedOn;)tB(n),null===n.blockedOn&&tU.shift()}var tK=x.ReactCurrentBatchConfig,tG=!0;function tQ(e,t,n,r){var i=tS,a=tK.transition;tK.transition=null;try{tS=1,tX(e,t,n,r)}finally{tS=i,tK.transition=a}}function tY(e,t,n,r){var i=tS,a=tK.transition;tK.transition=null;try{tS=4,tX(e,t,n,r)}finally{tS=i,tK.transition=a}}function tX(e,t,n,r){if(tG){var i=tZ(e,t,n,r);if(null===i)rb(e,t,r,tJ,n),tV(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return tP=tj(tP,e,t,n,r,i),!0;case"dragenter":return tD=tj(tD,e,t,n,r,i),!0;case"mouseover":return tL=tj(tL,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return tO.set(a,tj(tO.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,tM.set(a,tj(tM.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(tV(e,r),4&t&&-1<tF.indexOf(e)){for(;null!==i;){var a=rQ(i);if(null!==a&&tT(a),null===(a=tZ(e,t,n,r))&&rb(e,t,r,tJ,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else rb(e,t,r,null,n)}}var tJ=null;function tZ(e,t,n,r){if(tJ=null,null!==(e=rG(e=eU(r)))){if(null===(t=e4(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=e6(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}return tJ=e,null}function t0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tr()){case ti:return 1;case ta:return 4;case ts:case to:return 16;case tl:return 0x20000000;default:return 16}default:return 16}}var t1=null,t2=null,t3=null;function t4(){if(t3)return t3;var e,t,n=t2,r=n.length,i="value"in t1?t1.value:t1.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[a-t];t++);return t3=i.slice(e,1<t?1-t:void 0)}function t6(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function t5(){return!0}function t8(){return!1}function t7(e){function t(t,n,r,i,a){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?t5:t8,this.isPropagationStopped=t8,this}return en(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=t5)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=t5)},persist:function(){},isPersistent:t5}),t}var t9,ne,nt,nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nr=t7(nn),ni=en({},nn,{view:0,detail:0}),na=t7(ni),ns=en({},ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ny,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nt&&(nt&&"mousemove"===e.type?(t9=e.screenX-nt.screenX,ne=e.screenY-nt.screenY):ne=t9=0,nt=e),t9)},movementY:function(e){return"movementY"in e?e.movementY:ne}}),no=t7(ns),nl=t7(en({},ns,{dataTransfer:0})),nu=t7(en({},ni,{relatedTarget:0})),nc=t7(en({},nn,{animationName:0,elapsedTime:0,pseudoElement:0})),nh=t7(en({},nn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),nf=t7(en({},nn,{data:0})),nd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},np={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ng(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=nm[e])&&!!t[e]}function ny(){return ng}var nv=t7(en({},ni,{key:function(e){if(e.key){var t=nd[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=t6(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?np[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ny,charCode:function(e){return"keypress"===e.type?t6(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?t6(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),nw=t7(en({},ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),nb=t7(en({},ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ny})),nE=t7(en({},nn,{propertyName:0,elapsedTime:0,pseudoElement:0})),n_=t7(en({},ns,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),nS=[9,13,27,32],nk=g&&"CompositionEvent"in window,nT=null;g&&"documentMode"in document&&(nT=document.documentMode);var nx=g&&"TextEvent"in window&&!nT,nI=g&&(!nk||nT&&8<nT&&11>=nT),nC=!1;function nR(e,t){switch(e){case"keyup":return -1!==nS.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nN(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var nA=!1,nP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nD(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!nP[e.type]:"textarea"===t}function nL(e,t,n,r){ez(r),0<(t=r_(t,"onChange")).length&&(n=new nr("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var nO=null,nM=null;function nU(e){rp(e,0)}function nF(e){if(eu(rY(e)))return e}function nV(e,t){if("change"===e)return t}var nj=!1;if(g){if(g){var nB="oninput"in document;if(!nB){var nz=document.createElement("div");nz.setAttribute("oninput","return;"),nB="function"==typeof nz.oninput}n=nB}else n=!1;nj=n&&(!document.documentMode||9<document.documentMode)}function n$(){nO&&(nO.detachEvent("onpropertychange",nq),nM=nO=null)}function nq(e){if("value"===e.propertyName&&nF(nM)){var t=[];nL(t,nM,e,eU(e)),eK(nU,t)}}function nH(e,t,n){"focusin"===e?(n$(),nO=t,nM=n,nO.attachEvent("onpropertychange",nq)):"focusout"===e&&n$()}function nW(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return nF(nM)}function nK(e,t){if("click"===e)return nF(t)}function nG(e,t){if("input"===e||"change"===e)return nF(t)}var nQ="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function nY(e,t){if(nQ(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!y.call(t,i)||!nQ(e[i],t[i]))return!1}return!0}function nX(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nJ(e,t){var n,r=nX(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=nX(r)}}function nZ(){for(var e=window,t=ec();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(n)e=t.contentWindow;else break;t=ec(e.document)}return t}function n0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var n1=g&&"documentMode"in document&&11>=document.documentMode,n2=null,n3=null,n4=null,n6=!1;function n5(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;n6||null==n2||n2!==ec(r)||(r="selectionStart"in(r=n2)&&n0(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},n4&&nY(n4,r)||(n4=r,0<(r=r_(n3,"onSelect")).length&&(t=new nr("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=n2)))}function n8(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var n7={animationend:n8("Animation","AnimationEnd"),animationiteration:n8("Animation","AnimationIteration"),animationstart:n8("Animation","AnimationStart"),transitionend:n8("Transition","TransitionEnd")},n9={},re={};function rt(e){if(n9[e])return n9[e];if(!n7[e])return e;var t,n=n7[e];for(t in n)if(n.hasOwnProperty(t)&&t in re)return n9[e]=n[t];return e}g&&(re=document.createElement("div").style,"AnimationEvent"in window||(delete n7.animationend.animation,delete n7.animationiteration.animation,delete n7.animationstart.animation),"TransitionEvent"in window||delete n7.transitionend.transition);var rn=rt("animationend"),rr=rt("animationiteration"),ri=rt("animationstart"),ra=rt("transitionend"),rs=new Map,ro="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rl(e,t){rs.set(e,t),p(t,[e])}for(var ru=0;ru<ro.length;ru++){var rc=ro[ru];rl(rc.toLowerCase(),"on"+(rc[0].toUpperCase()+rc.slice(1)))}rl(rn,"onAnimationEnd"),rl(rr,"onAnimationIteration"),rl(ri,"onAnimationStart"),rl("dblclick","onDoubleClick"),rl("focusin","onFocus"),rl("focusout","onBlur"),rl(ra,"onTransitionEnd"),m("onMouseEnter",["mouseout","mouseover"]),m("onMouseLeave",["mouseout","mouseover"]),m("onPointerEnter",["pointerout","pointerover"]),m("onPointerLeave",["pointerout","pointerover"]),p("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),p("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),p("onBeforeInput",["compositionend","keypress","textInput","paste"]),p("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rf=new Set("cancel close invalid load scroll toggle".split(" ").concat(rh));function rd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,o,l){if(e3.apply(this,arguments),eJ){if(eJ){var u=eZ;eJ=!1,eZ=null}else throw Error(h(198));e0||(e0=!0,e1=u)}}(r,t,void 0,e),e.currentTarget=null}function rp(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;rd(i,o,u),a=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;rd(i,o,u),a=l}}}if(e0)throw e=e1,e0=!1,e1=null,e}function rm(e,t){var n=t[rH];void 0===n&&(n=t[rH]=new Set);var r=e+"__bubble";n.has(r)||(rw(t,e,2,!1),n.add(r))}function rg(e,t,n){var r=0;t&&(r|=4),rw(n,e,r,t)}var ry="_reactListening"+Math.random().toString(36).slice(2);function rv(e){if(!e[ry]){e[ry]=!0,f.forEach(function(t){"selectionchange"!==t&&(rf.has(t)||rg(t,!1,e),rg(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[ry]||(t[ry]=!0,rg("selectionchange",!1,t))}}function rw(e,t,n,r){switch(t0(t)){case 1:var i=tQ;break;case 4:i=tY;break;default:i=tX}n=i.bind(null,t,n,e),i=void 0,eQ&&("touchstart"===t||"touchmove"===t||"wheel"===t)&&(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function rb(e,t,n,r,i){var a=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==o;){if(null===(s=rG(o)))return;if(5===(l=s.tag)||6===l){r=a=s;continue e}o=o.parentNode}}r=r.return}eK(function(){var r=a,i=eU(n),s=[];e:{var o=rs.get(e);if(void 0!==o){var l=nr,u=e;switch(e){case"keypress":if(0===t6(n))break e;case"keydown":case"keyup":l=nv;break;case"focusin":u="focus",l=nu;break;case"focusout":u="blur",l=nu;break;case"beforeblur":case"afterblur":l=nu;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=no;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=nl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=nb;break;case rn:case rr:case ri:l=nc;break;case ra:l=nE;break;case"scroll":l=na;break;case"wheel":l=n_;break;case"copy":case"cut":case"paste":l=nh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=nw}var c=0!=(4&t),h=!c&&"scroll"===e,f=c?null!==o?o+"Capture":null:o;c=[];for(var d,p=r;null!==p;){var m=(d=p).stateNode;if(5===d.tag&&null!==m&&(d=m,null!==f&&null!=(m=eG(p,f))&&c.push(rE(p,m,d))),h)break;p=p.return}0<c.length&&(o=new l(o,u,null,n,i),s.push({event:o,listeners:c}))}}if(0==(7&t)){if(o="mouseover"===e||"pointerover"===e,l="mouseout"===e||"pointerout"===e,!(o&&n!==eM&&(u=n.relatedTarget||n.fromElement)&&(rG(u)||u[rq]))&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(u=n.relatedTarget||n.toElement,l=r,null!==(u=u?rG(u):null)&&(h=e4(u),u!==h||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=no,m="onMouseLeave",f="onMouseEnter",p="mouse",("pointerout"===e||"pointerover"===e)&&(c=nw,m="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==l?o:rY(l),d=null==u?o:rY(u),(o=new c(m,p+"leave",l,n,i)).target=h,o.relatedTarget=d,m=null,rG(i)===r&&((c=new c(f,p+"enter",u,n,i)).target=d,c.relatedTarget=h,m=c),h=m,l&&u)t:{for(c=l,f=u,p=0,d=c;d;d=rS(d))p++;for(d=0,m=f;m;m=rS(m))d++;for(;0<p-d;)c=rS(c),p--;for(;0<d-p;)f=rS(f),d--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break t;c=rS(c),f=rS(f)}c=null}else c=null;null!==l&&rk(s,o,l,c,!1),null!==u&&null!==h&&rk(s,h,u,c,!0)}e:{if("select"===(l=(o=r?rY(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g,y=nV;else if(nD(o)){if(nj)y=nG;else{y=nW;var v=nH}}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(y=nK);if(y&&(y=y(e,r))){nL(s,y,n,i);break e}v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&eg(o,"number",o.value)}switch(v=r?rY(r):window,e){case"focusin":(nD(v)||"true"===v.contentEditable)&&(n2=v,n3=r,n4=null);break;case"focusout":n4=n3=n2=null;break;case"mousedown":n6=!0;break;case"contextmenu":case"mouseup":case"dragend":n6=!1,n5(s,n,i);break;case"selectionchange":if(n1)break;case"keydown":case"keyup":n5(s,n,i)}if(nk)t:{switch(e){case"compositionstart":var w="onCompositionStart";break t;case"compositionend":w="onCompositionEnd";break t;case"compositionupdate":w="onCompositionUpdate";break t}w=void 0}else nA?nR(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(nI&&"ko"!==n.locale&&(nA||"onCompositionStart"!==w?"onCompositionEnd"===w&&nA&&(g=t4()):(t2="value"in(t1=i)?t1.value:t1.textContent,nA=!0)),0<(v=r_(r,w)).length&&(w=new nf(w,e,null,n,i),s.push({event:w,listeners:v}),g?w.data=g:null!==(g=nN(n))&&(w.data=g))),(g=nx?function(e,t){switch(e){case"compositionend":return nN(t);case"keypress":if(32!==t.which)return null;return nC=!0," ";case"textInput":return" "===(e=t.data)&&nC?null:e;default:return null}}(e,n):function(e,t){if(nA)return"compositionend"===e||!nk&&nR(e,t)?(e=t4(),t3=t2=t1=null,nA=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nI&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=r_(r,"onBeforeInput")).length&&(i=new nf("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=g)}rp(s,t)})}function rE(e,t,n){return{instance:e,listener:t,currentTarget:n}}function r_(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=eG(e,n))&&r.unshift(rE(e,a,i)),null!=(a=eG(e,t))&&r.push(rE(e,a,i))),e=e.return}return r}function rS(e){if(null===e)return null;do e=e.return;while(e&&5!==e.tag)return e||null}function rk(e,t,n,r,i){for(var a=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==u&&(o=u,i?null!=(l=eG(n,a))&&s.unshift(rE(n,l,o)):i||null!=(l=eG(n,a))&&s.push(rE(n,l,o))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var rT=/\r\n?/g,rx=/\u0000|\uFFFD/g;function rI(e){return("string"==typeof e?e:""+e).replace(rT,"\n").replace(rx,"")}function rC(e,t,n){if(t=rI(t),rI(e)!==t&&n)throw Error(h(425))}function rR(){}var rN=null,rA=null;function rP(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rD="function"==typeof setTimeout?setTimeout:void 0,rL="function"==typeof clearTimeout?clearTimeout:void 0,rO="function"==typeof Promise?Promise:void 0,rM="function"==typeof queueMicrotask?queueMicrotask:void 0!==rO?function(e){return rO.resolve(null).then(e).catch(rU)}:rD;function rU(e){setTimeout(function(){throw e})}function rF(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType){if("/$"===(n=i.data)){if(0===r){e.removeChild(i),tW(t);return}r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++}n=i}while(n)tW(t)}function rV(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function rj(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var rB=Math.random().toString(36).slice(2),rz="__reactFiber$"+rB,r$="__reactProps$"+rB,rq="__reactContainer$"+rB,rH="__reactEvents$"+rB,rW="__reactListeners$"+rB,rK="__reactHandles$"+rB;function rG(e){var t=e[rz];if(t)return t;for(var n=e.parentNode;n;){if(t=n[rq]||n[rz]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=rj(e);null!==e;){if(n=e[rz])return n;e=rj(e)}return t}n=(e=n).parentNode}return null}function rQ(e){return(e=e[rz]||e[rq])&&(5===e.tag||6===e.tag||13===e.tag||3===e.tag)?e:null}function rY(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(h(33))}function rX(e){return e[r$]||null}var rJ=[],rZ=-1;function r0(e){return{current:e}}function r1(e){0>rZ||(e.current=rJ[rZ],rJ[rZ]=null,rZ--)}function r2(e,t){rJ[++rZ]=e.current,e.current=t}var r3={},r4=r0(r3),r6=r0(!1),r5=r3;function r8(e,t){var n=e.type.contextTypes;if(!n)return r3;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function r7(e){return null!=(e=e.childContextTypes)}function r9(){r1(r6),r1(r4)}function ie(e,t,n){if(r4.current!==r3)throw Error(h(168));r2(r4,t),r2(r6,n)}function it(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(h(108,function(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return function e(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case R:return"Fragment";case C:return"Portal";case A:return"Profiler";case N:return"StrictMode";case O:return"Suspense";case M:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case D:return(t.displayName||"Context")+".Consumer";case P:return(t._context.displayName||"Context")+".Provider";case L:var n=t.render;return(t=t.displayName)||(t=""!==(t=n.displayName||n.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case U:return null!==(n=t.displayName||null)?n:e(t.type)||"Memo";case F:n=t._payload,t=t._init;try{return e(t(n))}catch(e){}}return null}(t);case 8:return t===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}(e)||"Unknown",i));return en({},n,r)}function ir(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||r3,r5=r4.current,r2(r4,e),r2(r6,r6.current),!0}function ii(e,t,n){var r=e.stateNode;if(!r)throw Error(h(169));n?(e=it(e,t,r5),r.__reactInternalMemoizedMergedChildContext=e,r1(r6),r1(r4),r2(r4,e)):r1(r6),r2(r6,n)}var ia=null,is=!1,io=!1;function il(e){null===ia?ia=[e]:ia.push(e)}function iu(){if(!io&&null!==ia){io=!0;var e=0,t=tS;try{var n=ia;for(tS=1;e<n.length;e++){var r=n[e];do r=r(!0);while(null!==r)}ia=null,is=!1}catch(t){throw null!==ia&&(ia=ia.slice(e+1)),e7(ti,iu),t}finally{tS=t,io=!1}}return null}var ic=[],ih=0,id=null,ip=0,im=[],ig=0,iy=null,iv=1,iw="";function ib(e,t){ic[ih++]=ip,ic[ih++]=id,id=e,ip=t}function iE(e,t,n){im[ig++]=iv,im[ig++]=iw,im[ig++]=iy,iy=e;var r=iv;e=iw;var i=32-th(r)-1;r&=~(1<<i),n+=1;var a=32-th(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,iv=1<<32-th(t)+i|n<<i|r,iw=a+e}else iv=1<<a|n<<i|r,iw=e}function i_(e){null!==e.return&&(ib(e,1),iE(e,1,0))}function iS(e){for(;e===id;)id=ic[--ih],ic[ih]=null,ip=ic[--ih],ic[ih]=null;for(;e===iy;)iy=im[--ig],im[ig]=null,iw=im[--ig],im[ig]=null,iv=im[--ig],im[ig]=null}var ik=null,iT=null,ix=!1,iI=null;function iC(e,t){var n=o8(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function iR(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ik=e,iT=rV(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ik=e,iT=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==iy?{id:iv,overflow:iw}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:0x40000000},(n=o8(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ik=e,iT=null,!0);default:return!1}}function iN(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function iA(e){if(ix){var t=iT;if(t){var n=t;if(!iR(e,t)){if(iN(e))throw Error(h(418));t=rV(n.nextSibling);var r=ik;t&&iR(e,t)?iC(r,n):(e.flags=-4097&e.flags|2,ix=!1,ik=e)}}else{if(iN(e))throw Error(h(418));e.flags=-4097&e.flags|2,ix=!1,ik=e}}}function iP(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ik=e}function iD(e){if(e!==ik)return!1;if(!ix)return iP(e),ix=!0,!1;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!rP(e.type,e.memoizedProps)),t&&(t=iT)){if(iN(e))throw iL(),Error(h(418));for(;t;)iC(e,t),t=rV(t.nextSibling)}if(iP(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(h(317));e:{for(t=0,e=e.nextSibling;e;){if(8===e.nodeType){var t,n=e.data;if("/$"===n){if(0===t){iT=rV(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}iT=null}}else iT=ik?rV(e.stateNode.nextSibling):null;return!0}function iL(){for(var e=iT;e;)e=rV(e.nextSibling)}function iO(){iT=ik=null,ix=!1}function iM(e){null===iI?iI=[e]:iI.push(e)}var iU=x.ReactCurrentBatchConfig;function iF(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(h(309));var r=n.stateNode}if(!r)throw Error(h(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:((t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e})._stringRef=a,t)}if("string"!=typeof e)throw Error(h(284));if(!n._owner)throw Error(h(290,e))}return e}function iV(e,t){throw Error(h(31,"[object Object]"===(e=Object.prototype.toString.call(t))?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ij(e){return(0,e._init)(e._payload)}function iB(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=o9(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return(t.index=r,e)?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,n,r){return null===t||6!==t.tag?(t=lr(n,e.mode,r)).return=e:(t=i(t,n)).return=e,t}function l(e,t,n,r){var a=n.type;return a===R?c(e,t,n.props.children,r,n.key):(null!==t&&(t.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===F&&ij(a)===t.type)?(r=i(t,n.props)).ref=iF(e,t,n):(r=le(n.type,n.key,n.props,null,e.mode,r)).ref=iF(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=li(n,e.mode,r)).return=e:(t=i(t,n.children||[])).return=e,t}function c(e,t,n,r,a){return null===t||7!==t.tag?(t=lt(n,e.mode,r,a)).return=e:(t=i(t,n)).return=e,t}function f(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=lr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case I:return(n=le(t.type,t.key,t.props,null,e.mode,n)).ref=iF(e,null,t),n.return=e,n;case C:return(t=li(t,e.mode,n)).return=e,t;case F:return f(e,(0,t._init)(t._payload),n)}if(ey(t)||B(t))return(t=lt(t,e.mode,n,null)).return=e,t;iV(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:o(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case I:return n.key===i?l(e,t,n,r):null;case C:return n.key===i?u(e,t,n,r):null;case F:return d(e,t,(i=n._init)(n._payload),r)}if(ey(n)||B(n))return null!==i?null:c(e,t,n,r,null);iV(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return o(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case I:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case C:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case F:return p(e,t,n,(0,r._init)(r._payload),i)}if(ey(r)||B(r))return c(t,e=e.get(n)||null,r,i,null);iV(t,r)}return null}return function o(l,u,c,m){if("object"==typeof c&&null!==c&&c.type===R&&null===c.key&&(c=c.props.children),"object"==typeof c&&null!==c){switch(c.$$typeof){case I:e:{for(var g=c.key,y=u;null!==y;){if(y.key===g){if((g=c.type)===R){if(7===y.tag){n(l,y.sibling),(u=i(y,c.props.children)).return=l,l=u;break e}}else if(y.elementType===g||"object"==typeof g&&null!==g&&g.$$typeof===F&&ij(g)===y.type){n(l,y.sibling),(u=i(y,c.props)).ref=iF(l,y,c),u.return=l,l=u;break e}n(l,y);break}t(l,y),y=y.sibling}c.type===R?((u=lt(c.props.children,l.mode,m,c.key)).return=l,l=u):((m=le(c.type,c.key,c.props,null,l.mode,m)).ref=iF(l,u,c),m.return=l,l=m)}return s(l);case C:e:{for(y=c.key;null!==u;){if(u.key===y){if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(l,u.sibling),(u=i(u,c.children||[])).return=l,l=u;break e}n(l,u);break}t(l,u),u=u.sibling}(u=li(c,l.mode,m)).return=l,l=u}return s(l);case F:return o(l,u,(y=c._init)(c._payload),m)}if(ey(c))return function(i,s,o,l){for(var u=null,c=null,h=s,m=s=0,g=null;null!==h&&m<o.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=d(i,h,o[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),s=a(y,s,m),null===c?u=y:c.sibling=y,c=y,h=g}if(m===o.length)return n(i,h),ix&&ib(i,m),u;if(null===h){for(;m<o.length;m++)null!==(h=f(i,o[m],l))&&(s=a(h,s,m),null===c?u=h:c.sibling=h,c=h);return ix&&ib(i,m),u}for(h=r(i,h);m<o.length;m++)null!==(g=p(h,i,m,o[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=a(g,s,m),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach(function(e){return t(i,e)}),ix&&ib(i,m),u}(l,u,c,m);if(B(c))return function(i,s,o,l){var u=B(o);if("function"!=typeof u)throw Error(h(150));if(null==(o=u.call(o)))throw Error(h(151));for(var c=u=null,m=s,g=s=0,y=null,v=o.next();null!==m&&!v.done;g++,v=o.next()){m.index>g?(y=m,m=null):y=m.sibling;var w=d(i,m,v.value,l);if(null===w){null===m&&(m=y);break}e&&m&&null===w.alternate&&t(i,m),s=a(w,s,g),null===c?u=w:c.sibling=w,c=w,m=y}if(v.done)return n(i,m),ix&&ib(i,g),u;if(null===m){for(;!v.done;g++,v=o.next())null!==(v=f(i,v.value,l))&&(s=a(v,s,g),null===c?u=v:c.sibling=v,c=v);return ix&&ib(i,g),u}for(m=r(i,m);!v.done;g++,v=o.next())null!==(v=p(m,i,g,v.value,l))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=a(v,s,g),null===c?u=v:c.sibling=v,c=v);return e&&m.forEach(function(e){return t(i,e)}),ix&&ib(i,g),u}(l,u,c,m);iV(l,c)}return"string"==typeof c&&""!==c||"number"==typeof c?(c=""+c,null!==u&&6===u.tag?(n(l,u.sibling),(u=i(u,c)).return=l):(n(l,u),(u=lr(c,l.mode,m)).return=l),s(l=u)):n(l,u)}}var iz=iB(!0),i$=iB(!1),iq=r0(null),iH=null,iW=null,iK=null;function iG(){iK=iW=iH=null}function iQ(e){var t=iq.current;r1(iq),e._currentValue=t}function iY(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function iX(e,t){iH=e,iK=iW=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(sb=!0),e.firstContext=null)}function iJ(e){var t=e._currentValue;if(iK!==e){if(e={context:e,memoizedValue:t,next:null},null===iW){if(null===iH)throw Error(h(308));iW=e,iH.dependencies={lanes:0,firstContext:e}}else iW=iW.next=e}return t}var iZ=null;function i0(e){null===iZ?iZ=[e]:iZ.push(e)}function i1(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,i0(t)):(n.next=i.next,i.next=n),t.interleaved=n,i2(e,r)}function i2(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var i3=!1;function i4(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function i6(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function i5(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function i8(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!=(2&oo)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,i2(e,n)}return null===(i=r.interleaved)?(t.next=t,i0(r)):(t.next=i.next,i.next=t),r.interleaved=t,i2(e,n)}function i7(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,t_(e,n)}}function i9(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=s:a=a.next=s,n=n.next}while(null!==n)null===a?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ae(e,t,n,r){var i=e.updateQueue;i3=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,u=l.next;l.next=null,null===s?a=u:s.next=u,s=l;var c=e.alternate;null!==c&&(o=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===o?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l)}if(null!==a){var h=i.baseState;for(s=0,c=u=l=null,o=a;;){var f=o.lane,d=o.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(f=t,d=n,m.tag){case 1:if("function"==typeof(p=m.payload)){h=p.call(d,h,f);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(f="function"==typeof(p=m.payload)?p.call(d,h,f):p))break e;h=en({},h,f);break e;case 2:i3=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[o]:f.push(o))}else d={eventTime:d,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(u=c=d,l=h):c=c.next=d,s|=f;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(f=o).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do s|=i.lane,i=i.next;while(i!==t)}else null===a&&(i.shared.lanes=0);om|=s,e.lanes=s,e.memoizedState=h}}function at(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(h(191,i));i.call(r)}}}var an={},ar=r0(an),ai=r0(an),aa=r0(an);function as(e){if(e===an)throw Error(h(174));return e}function ao(e,t){switch(r2(aa,t),r2(ai,e),r2(ar,an),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ek(null,"");break;default:t=ek(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}r1(ar),r2(ar,t)}function al(){r1(ar),r1(ai),r1(aa)}function au(e){as(aa.current);var t=as(ar.current),n=ek(t,e.type);t!==n&&(r2(ai,e),r2(ar,n))}function ac(e){ai.current===e&&(r1(ar),r1(ai))}var ah=r0(0);function af(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ad=[];function ap(){for(var e=0;e<ad.length;e++)ad[e]._workInProgressVersionPrimary=null;ad.length=0}var am=x.ReactCurrentDispatcher,ag=x.ReactCurrentBatchConfig,ay=0,av=null,aw=null,ab=null,aE=!1,a_=!1,aS=0,ak=0;function aT(){throw Error(h(321))}function ax(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!nQ(e[n],t[n]))return!1;return!0}function aI(e,t,n,r,i,a){if(ay=a,av=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,am.current=null===e||null===e.memoizedState?se:st,e=n(r,i),a_){a=0;do{if(a_=!1,aS=0,25<=a)throw Error(h(301));a+=1,ab=aw=null,t.updateQueue=null,am.current=sn,e=n(r,i)}while(a_)}if(am.current=a9,t=null!==aw&&null!==aw.next,ay=0,ab=aw=av=null,aE=!1,t)throw Error(h(300));return e}function aC(){var e=0!==aS;return aS=0,e}function aR(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ab?av.memoizedState=ab=e:ab=ab.next=e,ab}function aN(){if(null===aw){var e=av.alternate;e=null!==e?e.memoizedState:null}else e=aw.next;var t=null===ab?av.memoizedState:ab.next;if(null!==t)ab=t,aw=e;else{if(null===e)throw Error(h(310));e={memoizedState:(aw=e).memoizedState,baseState:aw.baseState,baseQueue:aw.baseQueue,queue:aw.queue,next:null},null===ab?av.memoizedState=ab=e:ab=ab.next=e}return ab}function aA(e,t){return"function"==typeof t?t(e):t}function aP(e){var t=aN(),n=t.queue;if(null===n)throw Error(h(311));n.lastRenderedReducer=e;var r=aw,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var o=s=null,l=null,u=a;do{var c=u.lane;if((ay&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(o=l=f,s=r):l=l.next=f,av.lanes|=c,om|=c}u=u.next}while(null!==u&&u!==a)null===l?s=r:l.next=o,nQ(r,t.memoizedState)||(sb=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do a=i.lane,av.lanes|=a,om|=a,i=i.next;while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function aD(e){var t=aN(),n=t.queue;if(null===n)throw Error(h(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i)nQ(a,t.memoizedState)||(sb=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function aL(){}function aO(e,t){var n=av,r=aN(),i=t(),a=!nQ(r.memoizedState,i);if(a&&(r.memoizedState=i,sb=!0),r=r.queue,aK(aF.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ab&&1&ab.memoizedState.tag){if(n.flags|=2048,az(9,aU.bind(null,n,r,i,t),void 0,null),null===ol)throw Error(h(349));0!=(30&ay)||aM(n,t,i)}return i}function aM(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=av.updateQueue)?(t={lastEffect:null,stores:null},av.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function aU(e,t,n,r){t.value=n,t.getSnapshot=r,aV(t)&&aj(e)}function aF(e,t,n){return n(function(){aV(t)&&aj(e)})}function aV(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!nQ(e,n)}catch(e){return!0}}function aj(e){var t=i2(e,1);null!==t&&oO(t,e,1,-1)}function aB(e){var t=aR();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:aA,lastRenderedState:e},t.queue=e,e=e.dispatch=a6.bind(null,av,e),[t.memoizedState,e]}function az(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=av.updateQueue)?(t={lastEffect:null,stores:null},av.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function a$(){return aN().memoizedState}function aq(e,t,n,r){var i=aR();av.flags|=e,i.memoizedState=az(1|t,n,void 0,void 0===r?null:r)}function aH(e,t,n,r){var i=aN();r=void 0===r?null:r;var a=void 0;if(null!==aw){var s=aw.memoizedState;if(a=s.destroy,null!==r&&ax(r,s.deps)){i.memoizedState=az(t,n,a,r);return}}av.flags|=e,i.memoizedState=az(1|t,n,a,r)}function aW(e,t){return aq(8390656,8,e,t)}function aK(e,t){return aH(2048,8,e,t)}function aG(e,t){return aH(4,2,e,t)}function aQ(e,t){return aH(4,4,e,t)}function aY(e,t){return"function"==typeof t?(t(e=e()),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function aX(e,t,n){return n=null!=n?n.concat([e]):null,aH(4,4,aY.bind(null,t,e),n)}function aJ(){}function aZ(e,t){var n=aN();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ax(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function a0(e,t){var n=aN();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ax(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function a1(e,t,n){return 0==(21&ay)?(e.baseState&&(e.baseState=!1,sb=!0),e.memoizedState=n):(nQ(n,t)||(n=tw(),av.lanes|=n,om|=n,e.baseState=!0),t)}function a2(e,t){var n=tS;tS=0!==n&&4>n?n:4,e(!0);var r=ag.transition;ag.transition={};try{e(!1),t()}finally{tS=n,ag.transition=r}}function a3(){return aN().memoizedState}function a4(e,t,n){var r=oL(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},a5(e)?a8(t,n):null!==(n=i1(e,t,n,r))&&(oO(n,e,r,oD()),a7(n,t,r))}function a6(e,t,n){var r=oL(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(a5(e))a8(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,nQ(o,s)){var l=t.interleaved;null===l?(i.next=i,i0(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch(e){}finally{}null!==(n=i1(e,t,i,r))&&(oO(n,e,r,i=oD()),a7(n,t,r))}}function a5(e){var t=e.alternate;return e===av||null!==t&&t===av}function a8(e,t){a_=aE=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function a7(e,t,n){if(0!=(4194240&n)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,t_(e,n)}}var a9={readContext:iJ,useCallback:aT,useContext:aT,useEffect:aT,useImperativeHandle:aT,useInsertionEffect:aT,useLayoutEffect:aT,useMemo:aT,useReducer:aT,useRef:aT,useState:aT,useDebugValue:aT,useDeferredValue:aT,useTransition:aT,useMutableSource:aT,useSyncExternalStore:aT,useId:aT,unstable_isNewReconciler:!1},se={readContext:iJ,useCallback:function(e,t){return aR().memoizedState=[e,void 0===t?null:t],e},useContext:iJ,useEffect:aW,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,aq(4194308,4,aY.bind(null,t,e),n)},useLayoutEffect:function(e,t){return aq(4194308,4,e,t)},useInsertionEffect:function(e,t){return aq(4,2,e,t)},useMemo:function(e,t){var n=aR();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=aR();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=a4.bind(null,av,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},aR().memoizedState=e},useState:aB,useDebugValue:aJ,useDeferredValue:function(e){return aR().memoizedState=e},useTransition:function(){var e=aB(!1),t=e[0];return e=a2.bind(null,e[1]),aR().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=av,i=aR();if(ix){if(void 0===n)throw Error(h(407));n=n()}else{if(n=t(),null===ol)throw Error(h(349));0!=(30&ay)||aM(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,aW(aF.bind(null,r,a,e),[e]),r.flags|=2048,az(9,aU.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=aR(),t=ol.identifierPrefix;if(ix){var n=iw,r=iv;t=":"+t+"R"+(n=(r&~(1<<32-th(r)-1)).toString(32)+n),0<(n=aS++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ak++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},st={readContext:iJ,useCallback:aZ,useContext:iJ,useEffect:aK,useImperativeHandle:aX,useInsertionEffect:aG,useLayoutEffect:aQ,useMemo:a0,useReducer:aP,useRef:a$,useState:function(){return aP(aA)},useDebugValue:aJ,useDeferredValue:function(e){return a1(aN(),aw.memoizedState,e)},useTransition:function(){return[aP(aA)[0],aN().memoizedState]},useMutableSource:aL,useSyncExternalStore:aO,useId:a3,unstable_isNewReconciler:!1},sn={readContext:iJ,useCallback:aZ,useContext:iJ,useEffect:aK,useImperativeHandle:aX,useInsertionEffect:aG,useLayoutEffect:aQ,useMemo:a0,useReducer:aD,useRef:a$,useState:function(){return aD(aA)},useDebugValue:aJ,useDeferredValue:function(e){var t=aN();return null===aw?t.memoizedState=e:a1(t,aw.memoizedState,e)},useTransition:function(){return[aD(aA)[0],aN().memoizedState]},useMutableSource:aL,useSyncExternalStore:aO,useId:a3,unstable_isNewReconciler:!1};function sr(e,t){if(e&&e.defaultProps)for(var n in t=en({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}function si(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:en({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var sa={isMounted:function(e){return!!(e=e._reactInternals)&&e4(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=oD(),i=oL(e),a=i5(r,i);a.payload=t,null!=n&&(a.callback=n),null!==(t=i8(e,a,i))&&(oO(t,e,i,r),i7(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=oD(),i=oL(e),a=i5(r,i);a.tag=1,a.payload=t,null!=n&&(a.callback=n),null!==(t=i8(e,a,i))&&(oO(t,e,i,r),i7(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=oD(),r=oL(e),i=i5(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=i8(e,i,r))&&(oO(t,e,r,n),i7(t,e,r))}};function ss(e,t,n,r,i,a,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,s):!t.prototype||!t.prototype.isPureReactComponent||!nY(n,r)||!nY(i,a)}function so(e,t,n){var r=!1,i=r3,a=t.contextType;return"object"==typeof a&&null!==a?a=iJ(a):(i=r7(t)?r5:r4.current,a=(r=null!=(r=t.contextTypes))?r8(e,i):r3),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=sa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function sl(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&sa.enqueueReplaceState(t,t.state,null)}function su(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},i4(e);var a=t.contextType;"object"==typeof a&&null!==a?i.context=iJ(a):(a=r7(t)?r5:r4.current,i.context=r8(e,a)),i.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(si(e,t,a,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&sa.enqueueReplaceState(i,i.state,null),ae(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function sc(e,t){try{var n="",r=t;do n+=function(e){switch(e.tag){case 5:return er(e.type);case 16:return er("Lazy");case 13:return er("Suspense");case 19:return er("SuspenseList");case 0:case 2:case 15:return e=ea(e.type,!1);case 11:return e=ea(e.type.render,!1);case 1:return e=ea(e.type,!0);default:return""}}(r),r=r.return;while(r)var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i,digest:null}}function sh(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function sf(e,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var sd="function"==typeof WeakMap?WeakMap:Map;function sp(e,t,n){(n=i5(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){oS||(oS=!0,ok=r),sf(e,t)},n}function sm(e,t,n){(n=i5(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){sf(e,t)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){sf(e,t),"function"!=typeof r&&(null===oT?oT=new Set([this]):oT.add(this));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}function sg(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new sd;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=o2.bind(null,e,t,n),t.then(e,e))}function sy(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e)return null}function sv(e,t,n,r,i){return 0==(1&e.mode)?e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=i5(-1,1)).tag=2,i8(n,t,1))),n.lanes|=1):(e.flags|=65536,e.lanes=i),e}var sw=x.ReactCurrentOwner,sb=!1;function sE(e,t,n,r){t.child=null===e?i$(t,null,n,r):iz(t,e.child,n,r)}function s_(e,t,n,r,i){n=n.render;var a=t.ref;return(iX(t,i),r=aI(e,t,n,r,a,i),n=aC(),null===e||sb)?(ix&&n&&i_(t),t.flags|=1,sE(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,sB(e,t,i))}function sS(e,t,n,r,i){if(null===e){var a=n.type;return"function"!=typeof a||o7(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=le(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,sk(e,t,a,r,i))}if(a=e.child,0==(e.lanes&i)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:nY)(s,r)&&e.ref===t.ref)return sB(e,t,i)}return t.flags|=1,(e=o9(a,r)).ref=t.ref,e.return=t,t.child=e}function sk(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(nY(a,r)&&e.ref===t.ref){if(sb=!1,t.pendingProps=r=a,0==(e.lanes&i))return t.lanes=e.lanes,sB(e,t,i);0!=(131072&e.flags)&&(sb=!0)}}return sI(e,t,n,r,i)}function sT(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r2(of,oh),oh|=n;else{if(0==(0x40000000&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=0x40000000,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,r2(of,oh),oh|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,r2(of,oh),oh|=r}}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,r2(of,oh),oh|=r;return sE(e,t,i,n),t.child}function sx(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function sI(e,t,n,r,i){var a=r7(n)?r5:r4.current;return(a=r8(t,a),iX(t,i),n=aI(e,t,n,r,a,i),r=aC(),null===e||sb)?(ix&&r&&i_(t),t.flags|=1,sE(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,sB(e,t,i))}function sC(e,t,n,r,i){if(r7(n)){var a=!0;ir(t)}else a=!1;if(iX(t,i),null===t.stateNode)sj(e,t),so(t,n,r),su(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,u=n.contextType;u="object"==typeof u&&null!==u?iJ(u):r8(t,u=r7(n)?r5:r4.current);var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof s.getSnapshotBeforeUpdate;h||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(o!==r||l!==u)&&sl(t,s,r,u),i3=!1;var f=t.memoizedState;s.state=f,ae(t,r,s,i),l=t.memoizedState,o!==r||f!==l||r6.current||i3?("function"==typeof c&&(si(t,n,c,r),l=t.memoizedState),(o=i3||ss(t,n,o,r,f,l,u))?(h||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=o):("function"==typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,i6(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:sr(t.type,o),s.props=u,h=t.pendingProps,f=s.context,l="object"==typeof(l=n.contextType)&&null!==l?iJ(l):r8(t,l=r7(n)?r5:r4.current);var d=n.getDerivedStateFromProps;(c="function"==typeof d||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(o!==h||f!==l)&&sl(t,s,r,l),i3=!1,f=t.memoizedState,s.state=f,ae(t,r,s,i);var p=t.memoizedState;o!==h||f!==p||r6.current||i3?("function"==typeof d&&(si(t,n,d,r),p=t.memoizedState),(u=i3||ss(t,n,u,r,f,p,l)||!1)?(c||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=u):("function"!=typeof s.componentDidUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return sR(e,t,n,r,a,i)}function sR(e,t,n,r,i,a){sx(e,t);var s=0!=(128&t.flags);if(!r&&!s)return i&&ii(t,n,!1),sB(e,t,a);r=t.stateNode,sw.current=t;var o=s&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=iz(t,e.child,null,a),t.child=iz(t,null,o,a)):sE(e,t,o,a),t.memoizedState=r.state,i&&ii(t,n,!0),t.child}function sN(e){var t=e.stateNode;t.pendingContext?ie(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ie(e,t.context,!1),ao(e,t.containerInfo)}function sA(e,t,n,r,i){return iO(),iM(i),t.flags|=256,sE(e,t,n,r),t.child}var sP={dehydrated:null,treeContext:null,retryLane:0};function sD(e){return{baseLanes:e,cachePool:null,transitions:null}}function sL(e,t,n){var r,i=t.pendingProps,a=ah.current,s=!1,o=0!=(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!=(2&a)),r?(s=!0,t.flags&=-129):(null===e||null!==e.memoizedState)&&(a|=1),r2(ah,1&a),null===e)return(iA(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated))?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=0x40000000,null):(o=i.children,e=i.fallback,s?(i=t.mode,s=t.child,o={mode:"hidden",children:o},0==(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=o):s=ln(o,i,0,null),e=lt(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=sD(n),t.memoizedState=sP,e):sO(t,o));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,sM(e,t,s,r=sh(Error(h(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=ln({mode:"visible",children:r.children},i,0,null),a=lt(a,i,s,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!=(1&t.mode)&&iz(t,e.child,null,s),t.child.memoizedState=sD(s),t.memoizedState=sP,a);if(0==(1&t.mode))return sM(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var o=r.dgst;return r=o,sM(e,t,s,r=sh(a=Error(h(419)),r,void 0))}if(o=0!=(s&e.childLanes),sb||o){if(null!==(r=ol)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:i=32;break;case 0x20000000:i=0x10000000;break;default:i=0}0!==(i=0!=(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,i2(e,i),oO(r,e,i,-1))}return oG(),sM(e,t,s,r=sh(Error(h(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=o4.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,iT=rV(i.nextSibling),ik=t,ix=!0,iI=null,null!==e&&(im[ig++]=iv,im[ig++]=iw,im[ig++]=iy,iv=e.id,iw=e.overflow,iy=t),t=sO(t,r.children),t.flags|=4096,t)}(e,t,o,i,r,a,n);if(s){s=i.fallback,o=t.mode,r=(a=e.child).sibling;var l={mode:"hidden",children:i.children};return 0==(1&o)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=o9(a,l)).subtreeFlags=0xe00000&a.subtreeFlags,null!==r?s=o9(r,s):(s=lt(s,o,n,null),s.flags|=2),s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,o=null===(o=e.child.memoizedState)?sD(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=sP,i}return e=(s=e.child).sibling,i=o9(s,{mode:"visible",children:i.children}),0==(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function sO(e,t){return(t=ln({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function sM(e,t,n,r){return null!==r&&iM(r),iz(t,e.child,null,n),e=sO(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function sU(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),iY(e.return,t,n)}function sF(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function sV(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(sE(e,t,r.children,n),0!=(2&(r=ah.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&sU(e,n,t);else if(19===e.tag)sU(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(r2(ah,r),0==(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(i=null,n=t.child;null!==n;)null!==(e=n.alternate)&&null===af(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),sF(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===af(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}sF(t,!0,n,null,a);break;case"together":sF(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function sj(e,t){0==(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function sB(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),om|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(h(153));if(null!==t.child){for(n=o9(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=o9(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function sz(e,t){if(!ix)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function s$(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=0xe00000&i.subtreeFlags,r|=0xe00000&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}r=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},a=function(){},s=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,as(ar.current);var a,s=null;switch(n){case"input":i=eh(e,i),r=eh(e,r),s=[];break;case"select":i=en({},i,{value:void 0}),r=en({},r,{value:void 0}),s=[];break;case"textarea":i=ew(e,i),r=ew(e,r),s=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=rR)}for(u in eL(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u]){if("style"===u){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(d.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null))}for(u in r){var l=r[u];if(o=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(null!=l||null!=o)){if("style"===u){if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(u,n)),n=l}else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,o=o?o.__html:void 0,null!=l&&o!==l&&(s=s||[]).push(u,l)):"children"===u?"string"!=typeof l&&"number"!=typeof l||(s=s||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(d.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&rm("scroll",e),s||o===l||(s=[])):(s=s||[]).push(u,l))}}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},o=function(e,t,n,r){n!==r&&(t.flags|=4)};var sq=!1,sH=!1,sW="function"==typeof WeakSet?WeakSet:Set,sK=null;function sG(e,t){var n=e.ref;if(null!==n){if("function"==typeof n)try{n(null)}catch(n){o1(e,t,n)}else n.current=null}}function sQ(e,t,n){try{n()}catch(n){o1(e,t,n)}}var sY=!1;function sX(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&sQ(t,n,a)}i=i.next}while(i!==r)}}function sJ(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sZ(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function s0(e){return 5===e.tag||3===e.tag||4===e.tag}function s1(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||s0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags||null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}var s2=null,s3=!1;function s4(e,t,n){for(n=n.child;null!==n;)s6(e,t,n),n=n.sibling}function s6(e,t,n){if(tc&&"function"==typeof tc.onCommitFiberUnmount)try{tc.onCommitFiberUnmount(tu,n)}catch(e){}switch(n.tag){case 5:sH||sG(n,t);case 6:var r=s2,i=s3;s2=null,s4(e,t,n),s2=r,s3=i,null!==s2&&(s3?(e=s2,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):s2.removeChild(n.stateNode));break;case 18:null!==s2&&(s3?(e=s2,n=n.stateNode,8===e.nodeType?rF(e.parentNode,n):1===e.nodeType&&rF(e,n),tW(e)):rF(s2,n.stateNode));break;case 4:r=s2,i=s3,s2=n.stateNode.containerInfo,s3=!0,s4(e,t,n),s2=r,s3=i;break;case 0:case 11:case 14:case 15:if(!sH&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,void 0!==s&&(0!=(2&a)?sQ(n,t,s):0!=(4&a)&&sQ(n,t,s)),i=i.next}while(i!==r)}s4(e,t,n);break;case 1:if(!sH&&(sG(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){o1(n,t,e)}s4(e,t,n);break;case 21:default:s4(e,t,n);break;case 22:1&n.mode?(sH=(r=sH)||null!==n.memoizedState,s4(e,t,n),sH=r):s4(e,t,n)}}function s5(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new sW),t.forEach(function(t){var r=o6.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function s8(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,s=a;e:for(;null!==s;){switch(s.tag){case 5:s2=s.stateNode,s3=!1;break e;case 3:case 4:s2=s.stateNode.containerInfo,s3=!0;break e}s=s.return}if(null===s2)throw Error(h(160));s6(e,a,i),s2=null,s3=!1;var o=i.alternate;null!==o&&(o.return=null),i.return=null}catch(e){o1(i,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)s7(t,e),t=t.sibling}function s7(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(s8(t,e),s9(e),4&r){try{sX(3,e,e.return),sJ(3,e)}catch(t){o1(e,e.return,t)}try{sX(5,e,e.return)}catch(t){o1(e,e.return,t)}}break;case 1:s8(t,e),s9(e),512&r&&null!==n&&sG(n,n.return);break;case 5:if(s8(t,e),s9(e),512&r&&null!==n&&sG(n,n.return),32&e.flags){var i=e.stateNode;try{eC(i,"")}catch(t){o1(e,e.return,t)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===o&&"radio"===a.type&&null!=a.name&&ed(i,a),eO(o,s);var u=eO(o,a);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];"style"===c?eP(i,f):"dangerouslySetInnerHTML"===c?eI(i,f):"children"===c?eC(i,f):T(i,c,f,u)}switch(o){case"input":ep(i,a);break;case"textarea":eE(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ev(i,!!a.multiple,p,!1):!!a.multiple!==d&&(null!=a.defaultValue?ev(i,!!a.multiple,a.defaultValue,!0):ev(i,!!a.multiple,a.multiple?[]:"",!1))}i[r$]=a}catch(t){o1(e,e.return,t)}}break;case 6:if(s8(t,e),s9(e),4&r){if(null===e.stateNode)throw Error(h(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(t){o1(e,e.return,t)}}break;case 3:if(s8(t,e),s9(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{tW(t.containerInfo)}catch(t){o1(e,e.return,t)}break;case 4:default:s8(t,e),s9(e);break;case 13:s8(t,e),s9(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,a&&(null===i.alternate||null===i.alternate.memoizedState)&&(ob=tn())),4&r&&s5(e);break;case 22:if(c=null!==n&&null!==n.memoizedState,1&e.mode?(sH=(u=sH)||c,s8(t,e),sH=u):s8(t,e),s9(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!c&&0!=(1&e.mode))for(sK=e,c=e.child;null!==c;){for(f=sK=c;null!==sK;){switch(p=(d=sK).child,d.tag){case 0:case 11:case 14:case 15:sX(4,d,d.return);break;case 1:sG(d,d.return);var m=d.stateNode;if("function"==typeof m.componentWillUnmount){r=d,n=d.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(e){o1(r,n,e)}}break;case 5:sG(d,d.return);break;case 22:if(null!==d.memoizedState){ot(f);continue}}null!==p?(p.return=d,sK=p):ot(f)}c=c.sibling}e:for(c=null,f=e;;){if(5===f.tag){if(null===c){c=f;try{i=f.stateNode,u?(a=i.style,"function"==typeof a.setProperty?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,s=null!=(l=f.memoizedProps.style)&&l.hasOwnProperty("display")?l.display:null,o.style.display=eA("display",s))}catch(t){o1(e,e.return,t)}}}else if(6===f.tag){if(null===c)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(t){o1(e,e.return,t)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:s8(t,e),s9(e),4&r&&s5(e);case 21:}}function s9(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(s0(n)){var r=n;break e}n=n.return}throw Error(h(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(eC(i,""),r.flags&=-33);var a=s1(e);!function e(t,n,r){var i=t.tag;if(5===i||6===i)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=s1(e);!function e(t,n,r){var i=t.tag;if(5===i||6===i)t=t.stateNode,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!=(r=r._reactRootContainer)||null!==n.onclick||(n.onclick=rR));else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,o,s);break;default:throw Error(h(161))}}catch(t){o1(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function oe(e){for(;null!==sK;){var t=sK;if(0!=(8772&t.flags)){var n=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:sH||sJ(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!sH){if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:sr(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}}var a=t.updateQueue;null!==a&&at(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}at(t,s,n)}break;case 5:var o=t.stateNode;if(null===n&&4&t.flags){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var c=u.memoizedState;if(null!==c){var f=c.dehydrated;null!==f&&tW(f)}}}break;default:throw Error(h(163))}sH||512&t.flags&&sZ(t)}catch(e){o1(t,t.return,e)}}if(t===e){sK=null;break}if(null!==(n=t.sibling)){n.return=t.return,sK=n;break}sK=t.return}}function ot(e){for(;null!==sK;){var t=sK;if(t===e){sK=null;break}var n=t.sibling;if(null!==n){n.return=t.return,sK=n;break}sK=t.return}}function on(e){for(;null!==sK;){var t=sK;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{sJ(4,t)}catch(e){o1(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(e){o1(t,i,e)}}var a=t.return;try{sZ(t)}catch(e){o1(t,a,e)}break;case 5:var s=t.return;try{sZ(t)}catch(e){o1(t,s,e)}}}catch(e){o1(t,t.return,e)}if(t===e){sK=null;break}var o=t.sibling;if(null!==o){o.return=t.return,sK=o;break}sK=t.return}}var or=Math.ceil,oi=x.ReactCurrentDispatcher,oa=x.ReactCurrentOwner,os=x.ReactCurrentBatchConfig,oo=0,ol=null,ou=null,oc=0,oh=0,of=r0(0),od=0,op=null,om=0,og=0,oy=0,ov=null,ow=null,ob=0,oE=1/0,o_=null,oS=!1,ok=null,oT=null,ox=!1,oI=null,oC=0,oR=0,oN=null,oA=-1,oP=0;function oD(){return 0!=(6&oo)?tn():-1!==oA?oA:oA=tn()}function oL(e){return 0==(1&e.mode)?1:0!=(2&oo)&&0!==oc?oc&-oc:null!==iU.transition?(0===oP&&(oP=tw()),oP):0!==(e=tS)?e:e=void 0===(e=window.event)?16:t0(e.type)}function oO(e,t,n,r){if(50<oR)throw oR=0,oN=null,Error(h(185));tE(e,n,r),(0==(2&oo)||e!==ol)&&(e===ol&&(0==(2&oo)&&(og|=n),4===od&&oj(e,oc)),oM(e,r),1===n&&0===oo&&0==(1&t.mode)&&(oE=tn()+500,is&&iu()))}function oM(e,t){var n,r=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-th(a),o=1<<s,l=i[s];-1===l?(0==(o&n)||0!=(o&r))&&(i[s]=function(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return -1}}(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}(e,t);var i=ty(e,e===ol?oc:0);if(0===i)null!==r&&e9(r),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=r&&e9(r),1===t)0===e.tag?(n=oB.bind(null,e),is=!0,il(n)):il(oB.bind(null,e)),rM(function(){0==(6&oo)&&iu()}),r=null;else{switch(tk(i)){case 1:r=ti;break;case 4:r=ta;break;case 16:default:r=ts;break;case 0x20000000:r=tl}r=e7(r,oU.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function oU(e,t){if(oA=-1,oP=0,0!=(6&oo))throw Error(h(327));var n=e.callbackNode;if(oZ()&&e.callbackNode!==n)return null;var r=ty(e,e===ol?oc:0);if(0===r)return null;if(0!=(30&r)||0!=(r&e.expiredLanes)||t)t=oQ(e,r);else{t=r;var i=oo;oo|=2;var a=oK();for((ol!==e||oc!==t)&&(o_=null,oE=tn()+500,oH(e,t));;)try{(function(){for(;null!==ou&&!te();)oY(ou)})();break}catch(t){oW(e,t)}iG(),oi.current=a,oo=i,null!==ou?t=0:(ol=null,oc=0,t=od)}if(0!==t){if(2===t&&0!==(i=tv(e))&&(r=i,t=oF(e,i)),1===t)throw n=op,oH(e,0),oj(e,r),oM(e,tn()),n;if(6===t)oj(e,r);else{if(i=e.current.alternate,0==(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!nQ(a(),i))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=oQ(e,r))&&0!==(a=tv(e))&&(r=a,t=oF(e,a)),1===t))throw n=op,oH(e,0),oj(e,r),oM(e,tn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(h(345));case 2:case 5:oJ(e,ow,o_);break;case 3:if(oj(e,r),(0x7c00000&r)===r&&10<(t=ob+500-tn())){if(0!==ty(e,0))break;if(((i=e.suspendedLanes)&r)!==r){oD(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=rD(oJ.bind(null,e,ow,o_),t);break}oJ(e,ow,o_);break;case 4:if(oj(e,r),(4194240&r)===r)break;for(i=-1,t=e.eventTimes;0<r;){var s=31-th(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=tn()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*or(r/1960))-r)){e.timeoutHandle=rD(oJ.bind(null,e,ow,o_),r);break}oJ(e,ow,o_);break;default:throw Error(h(329))}}}return oM(e,tn()),e.callbackNode===n?oU.bind(null,e):null}function oF(e,t){var n=ov;return e.current.memoizedState.isDehydrated&&(oH(e,t).flags|=256),2!==(e=oQ(e,t))&&(t=ow,ow=n,null!==t&&oV(t)),e}function oV(e){null===ow?ow=e:ow.push.apply(ow,e)}function oj(e,t){for(t&=~oy,t&=~og,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-th(t),r=1<<n;e[n]=-1,t&=~r}}function oB(e){if(0!=(6&oo))throw Error(h(327));oZ();var t=ty(e,0);if(0==(1&t))return oM(e,tn()),null;var n=oQ(e,t);if(0!==e.tag&&2===n){var r=tv(e);0!==r&&(t=r,n=oF(e,r))}if(1===n)throw n=op,oH(e,0),oj(e,t),oM(e,tn()),n;if(6===n)throw Error(h(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,oJ(e,ow,o_),oM(e,tn()),null}function oz(e,t){var n=oo;oo|=1;try{return e(t)}finally{0===(oo=n)&&(oE=tn()+500,is&&iu())}}function o$(e){null!==oI&&0===oI.tag&&0==(6&oo)&&oZ();var t=oo;oo|=1;var n=os.transition,r=tS;try{if(os.transition=null,tS=1,e)return e()}finally{tS=r,os.transition=n,0==(6&(oo=t))&&iu()}}function oq(){oh=of.current,r1(of)}function oH(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rL(n)),null!==ou)for(n=ou.return;null!==n;){var r=n;switch(iS(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&r9();break;case 3:al(),r1(r6),r1(r4),ap();break;case 5:ac(r);break;case 4:al();break;case 13:case 19:r1(ah);break;case 10:iQ(r.type._context);break;case 22:case 23:oq()}n=n.return}if(ol=e,ou=e=o9(e.current,null),oc=oh=t,od=0,op=null,oy=og=om=0,ow=ov=null,null!==iZ){for(t=0;t<iZ.length;t++)if(null!==(r=(n=iZ[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var s=a.next;a.next=i,r.next=s}n.pending=r}iZ=null}return e}function oW(e,t){for(;;){var n=ou;try{if(iG(),am.current=a9,aE){for(var r=av.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}aE=!1}if(ay=0,ab=aw=av=null,a_=!1,aS=0,oa.current=null,null===n||null===n.return){od=1,op=t,ou=null;break}e:{var a=e,s=n.return,o=n,l=t;if(t=oc,o.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l,c=o,f=c.tag;if(0==(1&c.mode)&&(0===f||11===f||15===f)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=sy(s);if(null!==p){p.flags&=-257,sv(p,s,o,a,t),1&p.mode&&sg(a,u,t),t=p,l=u;var m=t.updateQueue;if(null===m){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}if(0==(1&t)){sg(a,u,t),oG();break e}l=Error(h(426))}else if(ix&&1&o.mode){var y=sy(s);if(null!==y){0==(65536&y.flags)&&(y.flags|=256),sv(y,s,o,a,t),iM(sc(l,o));break e}}a=l=sc(l,o),4!==od&&(od=2),null===ov?ov=[a]:ov.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var v=sp(a,l,t);i9(a,v);break e;case 1:o=l;var w=a.type,b=a.stateNode;if(0==(128&a.flags)&&("function"==typeof w.getDerivedStateFromError||null!==b&&"function"==typeof b.componentDidCatch&&(null===oT||!oT.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var E=sm(a,o,t);i9(a,E);break e}}a=a.return}while(null!==a)}oX(n)}catch(e){t=e,ou===n&&null!==n&&(ou=n=n.return);continue}break}}function oK(){var e=oi.current;return oi.current=a9,null===e?a9:e}function oG(){(0===od||3===od||2===od)&&(od=4),null===ol||0==(0xfffffff&om)&&0==(0xfffffff&og)||oj(ol,oc)}function oQ(e,t){var n=oo;oo|=2;var r=oK();for((ol!==e||oc!==t)&&(o_=null,oH(e,t));;)try{(function(){for(;null!==ou;)oY(ou)})();break}catch(t){oW(e,t)}if(iG(),oo=n,oi.current=r,null!==ou)throw Error(h(261));return ol=null,oc=0,od}function oY(e){var t=l(e.alternate,e,oh);e.memoizedProps=e.pendingProps,null===t?oX(e):ou=t,oa.current=null}function oX(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(n=function(e,t,n){var i=t.pendingProps;switch(iS(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return s$(t),null;case 1:case 17:return r7(t.type)&&r9(),s$(t),null;case 3:return i=t.stateNode,al(),r1(r6),r1(r4),ap(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(null===e||null===e.child)&&(iD(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==iI&&(oV(iI),iI=null))),a(e,t),s$(t),null;case 5:ac(t);var l=as(aa.current);if(n=t.type,null!==e&&null!=t.stateNode)s(e,t,n,i,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(h(166));return s$(t),null}if(e=as(ar.current),iD(t)){i=t.stateNode,n=t.type;var u=t.memoizedProps;switch(i[rz]=t,i[r$]=u,e=0!=(1&t.mode),n){case"dialog":rm("cancel",i),rm("close",i);break;case"iframe":case"object":case"embed":rm("load",i);break;case"video":case"audio":for(l=0;l<rh.length;l++)rm(rh[l],i);break;case"source":rm("error",i);break;case"img":case"image":case"link":rm("error",i),rm("load",i);break;case"details":rm("toggle",i);break;case"input":ef(i,u),rm("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!u.multiple},rm("invalid",i);break;case"textarea":eb(i,u),rm("invalid",i)}for(var c in eL(n,u),l=null,u)if(u.hasOwnProperty(c)){var f=u[c];"children"===c?"string"==typeof f?i.textContent!==f&&(!0!==u.suppressHydrationWarning&&rC(i.textContent,f,e),l=["children",f]):"number"==typeof f&&i.textContent!==""+f&&(!0!==u.suppressHydrationWarning&&rC(i.textContent,f,e),l=["children",""+f]):d.hasOwnProperty(c)&&null!=f&&"onScroll"===c&&rm("scroll",i)}switch(n){case"input":el(i),em(i,u,!0);break;case"textarea":el(i),e_(i);break;case"select":case"option":break;default:"function"==typeof u.onClick&&(i.onclick=rR)}i=l,t.updateQueue=i,null!==i&&(t.flags|=4)}else{c=9===l.nodeType?l:l.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=eS(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof i.is?e=c.createElement(n,{is:i.is}):(e=c.createElement(n),"select"===n&&(c=e,i.multiple?c.multiple=!0:i.size&&(c.size=i.size))):e=c.createElementNS(e,n),e[rz]=t,e[r$]=i,r(e,t,!1,!1),t.stateNode=e;e:{switch(c=eO(n,i),n){case"dialog":rm("cancel",e),rm("close",e),l=i;break;case"iframe":case"object":case"embed":rm("load",e),l=i;break;case"video":case"audio":for(l=0;l<rh.length;l++)rm(rh[l],e);l=i;break;case"source":rm("error",e),l=i;break;case"img":case"image":case"link":rm("error",e),rm("load",e),l=i;break;case"details":rm("toggle",e),l=i;break;case"input":ef(e,i),l=eh(e,i),rm("invalid",e);break;case"option":default:l=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},l=en({},i,{value:void 0}),rm("invalid",e);break;case"textarea":eb(e,i),l=ew(e,i),rm("invalid",e)}for(u in eL(n,l),f=l)if(f.hasOwnProperty(u)){var p=f[u];"style"===u?eP(e,p):"dangerouslySetInnerHTML"===u?null!=(p=p?p.__html:void 0)&&eI(e,p):"children"===u?"string"==typeof p?("textarea"!==n||""!==p)&&eC(e,p):"number"==typeof p&&eC(e,""+p):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(d.hasOwnProperty(u)?null!=p&&"onScroll"===u&&rm("scroll",e):null!=p&&T(e,u,p,c))}switch(n){case"input":el(e),em(e,i,!1);break;case"textarea":el(e),e_(e);break;case"option":null!=i.value&&e.setAttribute("value",""+es(i.value));break;case"select":e.multiple=!!i.multiple,null!=(u=i.value)?ev(e,!!i.multiple,u,!1):null!=i.defaultValue&&ev(e,!!i.multiple,i.defaultValue,!0);break;default:"function"==typeof l.onClick&&(e.onclick=rR)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return s$(t),null;case 6:if(e&&null!=t.stateNode)o(e,t,e.memoizedProps,i);else{if("string"!=typeof i&&null===t.stateNode)throw Error(h(166));if(n=as(aa.current),as(ar.current),iD(t)){if(i=t.stateNode,n=t.memoizedProps,i[rz]=t,(u=i.nodeValue!==n)&&null!==(e=ik))switch(e.tag){case 3:rC(i.nodeValue,n,0!=(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&rC(i.nodeValue,n,0!=(1&e.mode))}u&&(t.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[rz]=t,t.stateNode=i}return s$(t),null;case 13:if(r1(ah),i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ix&&null!==iT&&0!=(1&t.mode)&&0==(128&t.flags))iL(),iO(),t.flags|=98560,u=!1;else if(u=iD(t),null!==i&&null!==i.dehydrated){if(null===e){if(!u)throw Error(h(318));if(!(u=null!==(u=t.memoizedState)?u.dehydrated:null))throw Error(h(317));u[rz]=t}else iO(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;s$(t),u=!1}else null!==iI&&(oV(iI),iI=null),u=!0;if(!u)return 65536&t.flags?t:null}if(0!=(128&t.flags))return t.lanes=n,t;return(i=null!==i)!=(null!==e&&null!==e.memoizedState)&&i&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&ah.current)?0===od&&(od=3):oG())),null!==t.updateQueue&&(t.flags|=4),s$(t),null;case 4:return al(),a(e,t),null===e&&rv(t.stateNode.containerInfo),s$(t),null;case 10:return iQ(t.type._context),s$(t),null;case 19:if(r1(ah),null===(u=t.memoizedState))return s$(t),null;if(i=0!=(128&t.flags),null===(c=u.rendering)){if(i)sz(u,!1);else{if(0!==od||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=af(e))){for(t.flags|=128,sz(u,!1),null!==(i=c.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)u=n,e=i,u.flags&=0xe00002,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return r2(ah,1&ah.current|2),t.child}e=e.sibling}null!==u.tail&&tn()>oE&&(t.flags|=128,i=!0,sz(u,!1),t.lanes=4194304)}}else{if(!i){if(null!==(e=af(c))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),sz(u,!0),null===u.tail&&"hidden"===u.tailMode&&!c.alternate&&!ix)return s$(t),null}else 2*tn()-u.renderingStartTime>oE&&0x40000000!==n&&(t.flags|=128,i=!0,sz(u,!1),t.lanes=4194304)}u.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=u.last)?n.sibling=c:t.child=c,u.last=c)}if(null!==u.tail)return t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=tn(),t.sibling=null,n=ah.current,r2(ah,i?1&n|2:1&n),t;return s$(t),null;case 22:case 23:return oq(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&0!=(1&t.mode)?0!=(0x40000000&oh)&&(s$(t),6&t.subtreeFlags&&(t.flags|=8192)):s$(t),null;case 24:case 25:return null}throw Error(h(156,t.tag))}(n,t,oh))){ou=n;return}}else{if(null!==(n=function(e,t){switch(iS(t),t.tag){case 1:return r7(t.type)&&r9(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return al(),r1(r6),r1(r4),ap(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ac(t),null;case 13:if(r1(ah),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(h(340));iO()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return r1(ah),null;case 4:return al(),null;case 10:return iQ(t.type._context),null;case 22:case 23:return oq(),null;default:return null}}(n,t))){n.flags&=32767,ou=n;return}if(null!==e)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{od=6,ou=null;return}}if(null!==(t=t.sibling)){ou=t;return}ou=t=e}while(null!==t)0===od&&(od=5)}function oJ(e,t,n){var r=tS,i=os.transition;try{os.transition=null,tS=1,function(e,t,n,r){do oZ();while(null!==oI)if(0!=(6&oo))throw Error(h(327));n=e.finishedWork;var i=e.finishedLanes;if(null!==n){if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(h(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-th(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,a),e===ol&&(ou=ol=null,oc=0),0==(2064&n.subtreeFlags)&&0==(2064&n.flags)||ox||(ox=!0,s=ts,o=function(){return oZ(),null},e7(s,o)),a=0!=(15990&n.flags),0!=(15990&n.subtreeFlags)||a){a=os.transition,os.transition=null;var s,o,l,u,c,f=tS;tS=1;var d=oo;oo|=4,oa.current=null,function(e,t){if(rN=tG,n0(e=nZ())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i,a=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(e){n=null;break e}var o=0,l=-1,u=-1,c=0,f=0,d=e,p=null;t:for(;;){for(;d!==n||0!==a&&3!==d.nodeType||(l=o+a),d!==s||0!==r&&3!==d.nodeType||(u=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(i=d.firstChild);)p=d,d=i;for(;;){if(d===e)break t;if(p===n&&++c===a&&(l=o),p===s&&++f===r&&(u=o),null!==(i=d.nextSibling))break;p=(d=p).parentNode}d=i}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(rA={focusedElem:e,selectionRange:n},tG=!1,sK=t;null!==sK;)if(e=(t=sK).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,sK=e;else for(;null!==sK;){t=sK;try{var m=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,w=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:sr(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(h(163))}}catch(e){o1(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,sK=e;break}sK=t.return}m=sY,sY=!1}(e,n),s7(n,e),function(e){var t=nZ(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&function e(t,n){return!!t&&!!n&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(n.ownerDocument.documentElement,n)){if(null!==r&&n0(n)){if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=nJ(n,a);var s=nJ(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}(rA),tG=!!rN,rA=rN=null,e.current=n,l=n,u=e,c=i,sK=l,function e(t,n,r){for(var i=0!=(1&t.mode);null!==sK;){var a=sK,s=a.child;if(22===a.tag&&i){var o=null!==a.memoizedState||sq;if(!o){var l=a.alternate,u=null!==l&&null!==l.memoizedState||sH;l=sq;var c=sH;if(sq=o,(sH=u)&&!c)for(sK=a;null!==sK;)u=(o=sK).child,22===o.tag&&null!==o.memoizedState?on(a):null!==u?(u.return=o,sK=u):on(a);for(;null!==s;)sK=s,e(s,n,r),s=s.sibling;sK=a,sq=l,sH=c}oe(t,n,r)}else 0!=(8772&a.subtreeFlags)&&null!==s?(s.return=a,sK=s):oe(t,n,r)}}(l,u,c),tt(),oo=d,tS=f,os.transition=a}else e.current=n;if(ox&&(ox=!1,oI=e,oC=i),0===(a=e.pendingLanes)&&(oT=null),function(e){if(tc&&"function"==typeof tc.onCommitFiberRoot)try{tc.onCommitFiberRoot(tu,e,void 0,128==(128&e.current.flags))}catch(e){}}(n.stateNode,r),oM(e,tn()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(oS)throw oS=!1,e=ok,ok=null,e;0!=(1&oC)&&0!==e.tag&&oZ(),0!=(1&(a=e.pendingLanes))?e===oN?oR++:(oR=0,oN=e):oR=0,iu()}}(e,t,n,r)}finally{os.transition=i,tS=r}return null}function oZ(){if(null!==oI){var e=tk(oC),t=os.transition,n=tS;try{if(os.transition=null,tS=16>e?16:e,null===oI)var r=!1;else{if(e=oI,oI=null,oC=0,0!=(6&oo))throw Error(h(331));var i=oo;for(oo|=4,sK=e.current;null!==sK;){var a=sK,s=a.child;if(0!=(16&sK.flags)){var o=a.deletions;if(null!==o){for(var l=0;l<o.length;l++){var u=o[l];for(sK=u;null!==sK;){var c=sK;switch(c.tag){case 0:case 11:case 15:sX(8,c,a)}var f=c.child;if(null!==f)f.return=c,sK=f;else for(;null!==sK;){var d=(c=sK).sibling,p=c.return;if(function e(t){var n=t.alternate;null!==n&&(t.alternate=null,e(n)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&null!==(n=t.stateNode)&&(delete n[rz],delete n[r$],delete n[rH],delete n[rW],delete n[rK]),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}(c),c===u){sK=null;break}if(null!==d){d.return=p,sK=d;break}sK=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}sK=a}}if(0!=(2064&a.subtreeFlags)&&null!==s)s.return=a,sK=s;else for(;null!==sK;){if(a=sK,0!=(2048&a.flags))switch(a.tag){case 0:case 11:case 15:sX(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,sK=v;break}sK=a.return}}var w=e.current;for(sK=w;null!==sK;){var b=(s=sK).child;if(0!=(2064&s.subtreeFlags)&&null!==b)b.return=s,sK=b;else for(s=w;null!==sK;){if(o=sK,0!=(2048&o.flags))try{switch(o.tag){case 0:case 11:case 15:sJ(9,o)}}catch(e){o1(o,o.return,e)}if(o===s){sK=null;break}var E=o.sibling;if(null!==E){E.return=o.return,sK=E;break}sK=o.return}}if(oo=i,iu(),tc&&"function"==typeof tc.onPostCommitFiberRoot)try{tc.onPostCommitFiberRoot(tu,e)}catch(e){}r=!0}return r}finally{tS=n,os.transition=t}}return!1}function o0(e,t,n){t=sp(e,t=sc(n,t),1),e=i8(e,t,1),t=oD(),null!==e&&(tE(e,1,t),oM(e,t))}function o1(e,t,n){if(3===e.tag)o0(e,e,n);else for(;null!==t;){if(3===t.tag){o0(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===oT||!oT.has(r))){e=sm(t,e=sc(n,e),1),t=i8(t,e,1),e=oD(),null!==t&&(tE(t,1,e),oM(t,e));break}}t=t.return}}function o2(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=oD(),e.pingedLanes|=e.suspendedLanes&n,ol===e&&(oc&n)===n&&(4===od||3===od&&(0x7c00000&oc)===oc&&500>tn()-ob?oH(e,0):oy|=n),oM(e,t)}function o3(e,t){0===t&&(0==(1&e.mode)?t=1:(t=tm,0==(0x7c00000&(tm<<=1))&&(tm=4194304)));var n=oD();null!==(e=i2(e,t))&&(tE(e,t,n),oM(e,n))}function o4(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),o3(e,n)}function o6(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(h(314))}null!==r&&r.delete(t),o3(e,n)}function o5(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function o8(e,t,n,r){return new o5(e,t,n,r)}function o7(e){return!(!(e=e.prototype)||!e.isReactComponent)}function o9(e,t){var n=e.alternate;return null===n?((n=o8(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=0xe00000&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function le(e,t,n,r,i,a){var s=2;if(r=e,"function"==typeof e)o7(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case R:return lt(n.children,i,a,t);case N:s=8,i|=8;break;case A:return(e=o8(12,n,t,2|i)).elementType=A,e.lanes=a,e;case O:return(e=o8(13,n,t,i)).elementType=O,e.lanes=a,e;case M:return(e=o8(19,n,t,i)).elementType=M,e.lanes=a,e;case V:return ln(n,i,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case P:s=10;break e;case D:s=9;break e;case L:s=11;break e;case U:s=14;break e;case F:s=16,r=null;break e}throw Error(h(130,null==e?e:typeof e,""))}return(t=o8(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function lt(e,t,n,r){return(e=o8(7,e,r,t)).lanes=n,e}function ln(e,t,n,r){return(e=o8(22,e,r,t)).elementType=V,e.lanes=n,e.stateNode={isHidden:!1},e}function lr(e,t,n){return(e=o8(6,e,null,t)).lanes=n,e}function li(e,t,n){return(t=o8(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function la(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tb(0),this.expirationTimes=tb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tb(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ls(e,t,n,r,i,a,s,o,l){return e=new la(e,t,n,o,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=o8(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},i4(a),e}function lo(e){if(!e)return r3;e=e._reactInternals;e:{if(e4(e)!==e||1!==e.tag)throw Error(h(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(r7(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t)throw Error(h(171))}if(1===e.tag){var n=e.type;if(r7(n))return it(e,n,t)}return t}function ll(e,t,n,r,i,a,s,o,l){return(e=ls(n,r,!0,e,i,a,s,o,l)).context=lo(null),n=e.current,(a=i5(r=oD(),i=oL(n))).callback=null!=t?t:null,i8(n,a,i),e.current.lanes=i,tE(e,i,r),oM(e,r),e}function lu(e,t,n,r){var i=t.current,a=oD(),s=oL(i);return n=lo(n),null===t.context?t.context=n:t.pendingContext=n,(t=i5(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=i8(i,t,s))&&(oO(e,i,s,a),i7(e,i,s)),s}function lc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function lh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function lf(e,t){lh(e,t),(e=e.alternate)&&lh(e,t)}l=function(e,t,n){if(null!==e){if(e.memoizedProps!==t.pendingProps||r6.current)sb=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return sb=!1,function(e,t,n){switch(t.tag){case 3:sN(t),iO();break;case 5:au(t);break;case 1:r7(t.type)&&ir(t);break;case 4:ao(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;r2(iq,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState)){if(null!==r.dehydrated)return r2(ah,1&ah.current),t.flags|=128,null;if(0!=(n&t.child.childLanes))return sL(e,t,n);return r2(ah,1&ah.current),null!==(e=sB(e,t,n))?e.sibling:null}r2(ah,1&ah.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(128&e.flags)){if(r)return sV(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),r2(ah,ah.current),!r)return null;break;case 22:case 23:return t.lanes=0,sT(e,t,n)}return sB(e,t,n)}(e,t,n);sb=0!=(131072&e.flags)}}else sb=!1,ix&&0!=(1048576&t.flags)&&iE(t,ip,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;sj(e,t),e=t.pendingProps;var i=r8(t,r4.current);iX(t,n),i=aI(null,t,r,e,i,n);var a=aC();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,r7(r)?(a=!0,ir(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i4(t),i.updater=sa,t.stateNode=i,i._reactInternals=t,su(t,r,e,n),t=sR(null,t,r,!0,a,n)):(t.tag=0,ix&&a&&i_(t),sE(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(sj(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return o7(e)?1:0;if(null!=e){if((e=e.$$typeof)===L)return 11;if(e===U)return 14}return 2}(r),e=sr(r,e),i){case 0:t=sI(null,t,r,e,n);break e;case 1:t=sC(null,t,r,e,n);break e;case 11:t=s_(null,t,r,e,n);break e;case 14:t=sS(null,t,r,sr(r.type,e),n);break e}throw Error(h(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:sr(r,i),sI(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:sr(r,i),sC(e,t,r,i,n);case 3:e:{if(sN(t),null===e)throw Error(h(387));r=t.pendingProps,i=(a=t.memoizedState).element,i6(e,t),ae(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){i=sc(Error(h(423)),t),t=sA(e,t,r,n,i);break e}if(r!==i){i=sc(Error(h(424)),t),t=sA(e,t,r,n,i);break e}for(iT=rV(t.stateNode.containerInfo.firstChild),ik=t,ix=!0,iI=null,n=i$(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(iO(),r===i){t=sB(e,t,n);break e}sE(e,t,r,n)}t=t.child}return t;case 5:return au(t),null===e&&iA(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,rP(r,i)?s=null:null!==a&&rP(r,a)&&(t.flags|=32),sx(e,t),sE(e,t,s,n),t.child;case 6:return null===e&&iA(t),null;case 13:return sL(e,t,n);case 4:return ao(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=iz(t,null,r,n):sE(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:sr(r,i),s_(e,t,r,i,n);case 7:return sE(e,t,t.pendingProps,n),t.child;case 8:case 12:return sE(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,r2(iq,r._currentValue),r._currentValue=s,null!==a){if(nQ(a.value,s)){if(a.children===i.children&&!r6.current){t=sB(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var o=a.dependencies;if(null!==o){s=a.child;for(var l=o.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=i5(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var c=(u=u.shared).pending;null===c?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),iY(a.return,n,t),o.lanes|=n;break}l=l.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(h(341));s.lanes|=n,null!==(o=s.alternate)&&(o.lanes|=n),iY(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}}sE(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,iX(t,n),r=r(i=iJ(i)),t.flags|=1,sE(e,t,r,n),t.child;case 14:return i=sr(r=t.type,t.pendingProps),i=sr(r.type,i),sS(e,t,r,i,n);case 15:return sk(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:sr(r,i),sj(e,t),t.tag=1,r7(r)?(e=!0,ir(t)):e=!1,iX(t,n),so(t,r,i),su(t,r,i,n),sR(null,t,r,!0,e,n);case 19:return sV(e,t,n);case 22:return sT(e,t,n)}throw Error(h(156,t.tag))};var ld="function"==typeof reportError?reportError:function(e){console.error(e)};function lp(e){this._internalRoot=e}function lm(e){this._internalRoot=e}function lg(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function ly(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function lv(){}function lw(e,t,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if("function"==typeof i){var o=i;i=function(){var e=lc(s);o.call(e)}}lu(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"==typeof r){var a=r;r=function(){var e=lc(s);a.call(e)}}var s=ll(t,r,e,0,null,!1,!1,"",lv);return e._reactRootContainer=s,e[rq]=s.current,rv(8===e.nodeType?e.parentNode:e),o$(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var o=r;r=function(){var e=lc(l);o.call(e)}}var l=ls(e,0,!1,null,null,!1,!1,"",lv);return e._reactRootContainer=l,e[rq]=l.current,rv(8===e.nodeType?e.parentNode:e),o$(function(){lu(t,l,n,r)}),l}(n,t,e,i,r);return lc(s)}lm.prototype.render=lp.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(h(409));lu(e,t,null,null)},lm.prototype.unmount=lp.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;o$(function(){lu(null,e,null,null)}),t[rq]=null}},lm.prototype.unstable_scheduleHydration=function(e){if(e){var t=tC();e={blockedOn:null,target:e,priority:t};for(var n=0;n<tU.length&&0!==t&&t<tU[n].priority;n++);tU.splice(n,0,e),0===n&&tB(e)}},tT=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=tg(t.pendingLanes);0!==n&&(t_(t,1|n),oM(t,tn()),0==(6&oo)&&(oE=tn()+500,iu()))}break;case 13:o$(function(){var t=i2(e,1);null!==t&&oO(t,e,1,oD())}),lf(e,1)}},tx=function(e){if(13===e.tag){var t=i2(e,0x8000000);null!==t&&oO(t,e,0x8000000,oD()),lf(e,0x8000000)}},tI=function(e){if(13===e.tag){var t=oL(e),n=i2(e,t);null!==n&&oO(n,e,t,oD()),lf(e,t)}},tC=function(){return tS},tR=function(e,t){var n=tS;try{return tS=e,t()}finally{tS=n}},eF=function(e,t,n){switch(t){case"input":if(ep(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=rX(r);if(!i)throw Error(h(90));eu(r),ep(r,i)}}}break;case"textarea":eE(e,n);break;case"select":null!=(t=n.value)&&ev(e,!!n.multiple,t,!1)}},eq=oz,eH=o$;var lb={findFiberByHostInstance:rG,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lE={bundleType:lb.bundleType,version:lb.version,rendererPackageName:lb.rendererPackageName,rendererConfig:lb.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=e8(e))?null:e.stateNode},findFiberByHostInstance:lb.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var l_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!l_.isDisabled&&l_.supportsFiber)try{tu=l_.inject(lE),tc=l_}catch(e){}}z={usingClientEntryPoint:!1,Events:[rQ,rY,rX,ez,e$,oz]},$=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!lg(t))throw Error(h(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:C,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},q=function(e,t){if(!lg(e))throw Error(h(299));var n=!1,r="",i=ld;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=ls(e,1,!1,null,null,n,!1,r,i),e[rq]=t.current,rv(8===e.nodeType?e.parentNode:e),new lp(t)},H=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(h(188));throw Error(h(268,e=Object.keys(e).join(",")))}return e=null===(e=e8(t))?null:e.stateNode},W=function(e){return o$(e)},K=function(e,t,n){if(!ly(t))throw Error(h(200));return lw(null,e,t,!0,n)},G=function(e,t,n){if(!lg(e))throw Error(h(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=ld;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=ll(t,null,e,1,null!=n?n:null,i,!1,a,s),e[rq]=t.current,rv(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new lm(t)},Y=function(e,t,n){if(!ly(t))throw Error(h(200));return lw(null,e,t,!1,n)},X=function(e){if(!ly(e))throw Error(h(40));return!!e._reactRootContainer&&(o$(function(){lw(null,null,e,!1,function(){e._reactRootContainer=null,e[rq]=null})}),!0)},J=oz,Z=function(e,t,n,r){if(!ly(n))throw Error(h(200));if(null==e||void 0===e._reactInternals)throw Error(h(38));return lw(e,t,n,!1,r)},ee="18.3.1-next-f1338f8080-20240426"}),Y("fO90s",function(e,t){e.exports=Q("gcnCG")}),Y("gcnCG",function(e,t){function n(e,t){var n=e.length;for(e.push(t);0<n;){var r=n-1>>>1,i=e[r];if(0<s(i,t))e[r]=t,e[n]=i,n=r;else break}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],u=o+1,c=e[u];if(0>s(l,n))u<i&&0>s(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[o]=n,r=o);else if(u<i&&0>s(c,n))e[r]=c,e[u]=n,r=u;else break}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(i(e.exports,"unstable_now",()=>o,e=>o=e),i(e.exports,"unstable_IdlePriority",()=>l,e=>l=e),i(e.exports,"unstable_ImmediatePriority",()=>u,e=>u=e),i(e.exports,"unstable_LowPriority",()=>c,e=>c=e),i(e.exports,"unstable_NormalPriority",()=>h,e=>h=e),i(e.exports,"unstable_Profiling",()=>f,e=>f=e),i(e.exports,"unstable_UserBlockingPriority",()=>d,e=>d=e),i(e.exports,"unstable_cancelCallback",()=>p,e=>p=e),i(e.exports,"unstable_continueExecution",()=>m,e=>m=e),i(e.exports,"unstable_forceFrameRate",()=>g,e=>g=e),i(e.exports,"unstable_getCurrentPriorityLevel",()=>y,e=>y=e),i(e.exports,"unstable_getFirstCallbackNode",()=>v,e=>v=e),i(e.exports,"unstable_next",()=>w,e=>w=e),i(e.exports,"unstable_pauseExecution",()=>b,e=>b=e),i(e.exports,"unstable_requestPaint",()=>E,e=>E=e),i(e.exports,"unstable_runWithPriority",()=>_,e=>_=e),i(e.exports,"unstable_scheduleCallback",()=>S,e=>S=e),i(e.exports,"unstable_shouldYield",()=>k,e=>k=e),i(e.exports,"unstable_wrapCallback",()=>T,e=>T=e),"object"==typeof performance&&"function"==typeof performance.now){var o,l,u,c,h,f,d,p,m,g,y,v,w,b,E,_,S,k,T,x,I=performance;o=function(){return I.now()}}else{var C=Date,R=C.now();o=function(){return C.now()-R}}var N=[],A=[],P=1,D=null,L=3,O=!1,M=!1,U=!1,F="function"==typeof setTimeout?setTimeout:null,V="function"==typeof clearTimeout?clearTimeout:null,j="undefined"!=typeof setImmediate?setImmediate:null;function B(e){for(var t=r(A);null!==t;){if(null===t.callback)a(A);else if(t.startTime<=e)a(A),t.sortIndex=t.expirationTime,n(N,t);else break;t=r(A)}}function z(e){if(U=!1,B(e),!M){if(null!==r(N))M=!0,Z($);else{var t=r(A);null!==t&&ee(z,t.startTime-e)}}}function $(e,t){M=!1,U&&(U=!1,V(W),W=-1),O=!0;var n=L;try{for(B(t),D=r(N);null!==D&&(!(D.expirationTime>t)||e&&!Q());){var i=D.callback;if("function"==typeof i){D.callback=null,L=D.priorityLevel;var s=i(D.expirationTime<=t);t=o(),"function"==typeof s?D.callback=s:D===r(N)&&a(N),B(t)}else a(N);D=r(N)}if(null!==D)var l=!0;else{var u=r(A);null!==u&&ee(z,u.startTime-t),l=!1}return l}finally{D=null,L=n,O=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var q=!1,H=null,W=-1,K=5,G=-1;function Q(){return!(o()-G<K)}function Y(){if(null!==H){var e=o();G=e;var t=!0;try{t=H(!0,e)}finally{t?x():(q=!1,H=null)}}else q=!1}if("function"==typeof j)x=function(){j(Y)};else if("undefined"!=typeof MessageChannel){var X=new MessageChannel,J=X.port2;X.port1.onmessage=Y,x=function(){J.postMessage(null)}}else x=function(){F(Y,0)};function Z(e){H=e,q||(q=!0,x())}function ee(e,t){W=F(function(){e(o())},t)}l=5,u=1,c=4,h=3,f=null,d=2,p=function(e){e.callback=null},m=function(){M||O||(M=!0,Z($))},g=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<e?Math.floor(1e3/e):5},y=function(){return L},v=function(){return r(N)},w=function(e){switch(L){case 1:case 2:case 3:var t=3;break;default:t=L}var n=L;L=t;try{return e()}finally{L=n}},b=function(){},E=function(){},_=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=L;L=e;try{return t()}finally{L=n}},S=function(e,t,i){var a=o();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?a+i:a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=0x3fffffff;break;case 4:s=1e4;break;default:s=5e3}return s=i+s,e={id:P++,callback:t,priorityLevel:e,startTime:i,expirationTime:s,sortIndex:-1},i>a?(e.sortIndex=i,n(A,e),null===r(N)&&e===r(A)&&(U?(V(W),W=-1):U=!0,ee(z,i-a))):(e.sortIndex=s,n(N,e),M||O||(M=!0,Z($))),e},k=Q,T=function(e){var t=L;return function(){var n=L;L=t;try{return e.apply(this,arguments)}finally{L=n}}}});var X={};X=Q("1b2ls");var J=Q("acw62"),Z={};i(Z,"createRoot",()=>v,e=>v=e),i(Z,"hydrateRoot",()=>w,e=>w=e);var ee={};!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),v=(ee=Q("Xw6Mv")).createRoot,w=ee.hydrateRoot;/**
 * React Router v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var J=Q("acw62");/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function et(){return(et=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}(o=b||(b={})).Pop="POP",o.Push="PUSH",o.Replace="REPLACE";const en="popstate";function er(e,t){if(!1===e||null==e)throw Error(t)}function ei(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw Error(t)}catch(e){}}}function ea(e,t){return{usr:e.state,key:e.key,idx:t}}function es(e,t,n,r){return void 0===n&&(n=null),et({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?el(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function eo(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function el(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}(l=E||(E={})).data="data",l.deferred="deferred",l.redirect="redirect",l.error="error";const eu=new Set(["lazy","caseSensitive","path","id","index","children"]);function ec(e,t,n,r){return void 0===n&&(n=[]),void 0===r&&(r={}),e.map((e,i)=>{let a=[...n,String(i)],s="string"==typeof e.id?e.id:a.join("-");if(er(!0!==e.index||!e.children,"Cannot specify children on an index route"),er(!r[s],'Found a route id collision on id "'+s+"\".  Route id's must be globally unique within Data Router usages"),!0===e.index){let n=et({},e,t(e),{id:s});return r[s]=n,n}{let n=et({},e,t(e),{id:s,children:void 0});return r[s]=n,e.children&&(n.children=ec(e.children,t,a,r)),n}})}function eh(e,t,n){return void 0===n&&(n="/"),ef(e,t,n,!1)}function ef(e,t,n,r){let i=eg(("string"==typeof t?el(t):t).pathname||"/",n);if(null==i)return null;let a=function e(t,n,r,i){void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i="");let a=(t,a,s)=>{var o;let l,u,c={relativePath:void 0===s?t.path||"":s,caseSensitive:!0===t.caseSensitive,childrenIndex:a,route:t};c.relativePath.startsWith("/")&&(er(c.relativePath.startsWith(i),'Absolute route path "'+c.relativePath+'" nested under path "'+i+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),c.relativePath=c.relativePath.slice(i.length));let h=eE([i,c.relativePath]),f=r.concat(c);t.children&&t.children.length>0&&(er(!0!==t.index,'Index routes must not have child routes. Please remove all child routes from route path "'+h+'".'),e(t.children,n,f,h)),(null!=t.path||t.index)&&n.push({path:h,score:(o=t.index,u=(l=h.split("/")).length,l.some(ep)&&(u+=-2),o&&(u+=2),l.filter(e=>!ep(e)).reduce((e,t)=>e+(ed.test(t)?3:""===t?1:10),u)),routesMeta:f})};return t.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let n of function e(t){let n=t.split("/");if(0===n.length)return[];let[r,...i]=n,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(0===i.length)return a?[s,""]:[s];let o=e(i.join("/")),l=[];return l.push(...o.map(e=>""===e?s:[s,e].join("/"))),a&&l.push(...o),l.map(e=>t.startsWith("/")&&""===e?"/":e)}(e.path))a(e,t,n);else a(e,t)}),n}(e);!function(e){e.sort((e,t)=>{var n,r;return e.score!==t.score?t.score-e.score:(n=e.routesMeta.map(e=>e.childrenIndex),r=t.routesMeta.map(e=>e.childrenIndex),n.length===r.length&&n.slice(0,-1).every((e,t)=>e===r[t])?n[n.length-1]-r[r.length-1]:0)})}(a);let s=null;for(let e=0;null==s&&e<a.length;++e){let t=function(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return ei(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}(i);s=function(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},a="/",s=[];for(let e=0;e<r.length;++e){let o=r[e],l=e===r.length-1,u="/"===a?t:t.slice(a.length)||"/",c=em({path:o.relativePath,caseSensitive:o.caseSensitive,end:l},u),h=o.route;if(!c&&l&&n&&!r[r.length-1].route.index&&(c=em({path:o.relativePath,caseSensitive:o.caseSensitive,end:!1},u)),!c)return null;Object.assign(i,c.params),s.push({params:i,pathname:eE([a,c.pathname]),pathnameBase:e_(eE([a,c.pathnameBase])),route:h}),"/"!==c.pathnameBase&&(a=eE([a,c.pathnameBase]))}return s}(a[e],t,r)}return s}const ed=/^:[\w-]+$/,ep=e=>"*"===e;function em(e,t){var n,r,i;let a,s;"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[o,l]=(n=e.path,r=e.caseSensitive,i=e.end,void 0===r&&(r=!1),void 0===i&&(i=!0),ei("*"===n||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were "'+n.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+n.replace(/\*$/,"/*")+'".'),a=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(a.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")),n.endsWith("*")?(a.push({paramName:"*"}),s+="*"===n||"/*"===n?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?s+="\\/*$":""!==n&&"/"!==n&&(s+="(?:(?=\\/|$))"),[new RegExp(s,r?void 0:"i"),a]),u=t.match(o);if(!u)return null;let c=u[0],h=c.replace(/(.)\/+$/,"$1"),f=u.slice(1);return{params:l.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=f[n]||"";h=c.slice(0,c.length-e.length).replace(/(.)\/+$/,"$1")}let a=f[n];return i&&!a?e[r]=void 0:e[r]=(a||"").replace(/%2F/g,"/"),e},{}),pathname:c,pathnameBase:h,pattern:e}}function eg(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function ey(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t)+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function ev(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function ew(e,t){let n=ev(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function eb(e,t,n,r){let i,a;void 0===r&&(r=!1),"string"==typeof e?i=el(e):(er(!(i=et({},e)).pathname||!i.pathname.includes("?"),ey("?","pathname","search",i)),er(!i.pathname||!i.pathname.includes("#"),ey("#","pathname","hash",i)),er(!i.search||!i.search.includes("#"),ey("#","search","hash",i)));let s=""===e||""===i.pathname,o=s?"/":i.pathname;if(null==o)a=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}a=e>=0?t[e]:"/"}let l=function(e,t){let n;void 0===t&&(t="/");let{pathname:r,search:i="",hash:a=""}="string"==typeof e?el(e):e;return{pathname:r?r.startsWith("/")?r:(n=t.replace(/\/+$/,"").split("/"),r.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"):t,search:eS(i),hash:ek(a)}}(i,a),u=o&&"/"!==o&&o.endsWith("/"),c=(s||"."===o)&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const eE=e=>e.join("/").replace(/\/\/+/g,"/"),e_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),eS=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",ek=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";class eT{constructor(e,t,n,r){void 0===r&&(r=!1),this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function ex(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}const eI=["post","put","patch","delete"],eC=new Set(eI),eR=new Set(["get",...eI]),eN=new Set([301,302,303,307,308]),eA=new Set([307,308]),eP={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},eD={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},eL={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},eO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eM=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),eU="remix-router-transitions";function eF(e,t,n,r,i,a,s,o){let l,u;if(s){for(let e of(l=[],t))if(l.push(e),e.route.id===s){u=e;break}}else l=t,u=t[t.length-1];let c=eb(i||".",ew(l,a),eg(e.pathname,n)||e.pathname,"path"===o);if(null==i&&(c.search=e.search,c.hash=e.hash),(null==i||""===i||"."===i)&&u){let e=tl(c.search);if(u.route.index&&!e)c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&e){let e=new URLSearchParams(c.search),t=e.getAll("index");e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();c.search=n?"?"+n:""}}return r&&"/"!==n&&(c.pathname="/"===c.pathname?n:eE([n,c.pathname])),eo(c)}function eV(e,t,n,r){var i;let a,s;if(!r||!(null!=r&&("formData"in r&&null!=r.formData||"body"in r&&void 0!==r.body)))return{path:n};if(r.formMethod&&(i=r.formMethod,!eR.has(i.toLowerCase())))return{path:n,error:e5(405,{method:r.formMethod})};let o=()=>({path:n,error:e5(400,{type:"invalid-body"})}),l=r.formMethod||"get",u=e?l.toUpperCase():l.toLowerCase(),c=e7(n);if(void 0!==r.body){if("text/plain"===r.formEncType){if(!ti(u))return o();let e="string"==typeof r.body?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((e,t)=>{let[n,r]=t;return""+e+n+"="+r+"\n"},""):String(r.body);return{path:n,submission:{formMethod:u,formAction:c,formEncType:r.formEncType,formData:void 0,json:void 0,text:e}}}if("application/json"===r.formEncType){if(!ti(u))return o();try{let e="string"==typeof r.body?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:u,formAction:c,formEncType:r.formEncType,formData:void 0,json:e,text:void 0}}}catch(e){return o()}}}if(er("function"==typeof FormData,"FormData is not available in this environment"),r.formData)a=eZ(r.formData),s=r.formData;else if(r.body instanceof FormData)a=eZ(r.body),s=r.body;else if(r.body instanceof URLSearchParams)s=e0(a=r.body);else if(null==r.body)a=new URLSearchParams,s=new FormData;else try{a=new URLSearchParams(r.body),s=e0(a)}catch(e){return o()}let h={formMethod:u,formAction:c,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:s,json:void 0,text:void 0};if(ti(h.formMethod))return{path:n,submission:h};let f=el(n);return t&&f.search&&tl(f.search)&&a.append("index",""),f.search="?"+a,{path:eo(f),submission:h}}function ej(e,t,n){void 0===n&&(n=!1);let r=e.findIndex(e=>e.route.id===t);return r>=0?e.slice(0,n?r+1:r):e}function eB(e,t,n,r,i,a,s,o,l,u,c,h,f,d,p,m){let g=m?te(m[1])?m[1].error:m[1].data:void 0,y=e.createURL(t.location),v=e.createURL(i),w=n;a&&t.errors?w=ej(n,Object.keys(t.errors)[0],!0):m&&te(m[1])&&(w=ej(n,m[0]));let b=m?m[1].statusCode:void 0,E=s&&b&&b>=400,_=w.filter((e,n)=>{var i,s;let u,c,{route:h}=e;if(h.lazy)return!0;if(null==h.loader)return!1;if(a)return ez(h,t.loaderData,t.errors);if(i=t.loaderData,u=!(s=t.matches[n])||e.route.id!==s.route.id,c=void 0===i[e.route.id],u||c||l.some(t=>t===e.route.id))return!0;let f=t.matches[n];return eq(e,et({currentUrl:y,currentParams:f.params,nextUrl:v,nextParams:e.params},r,{actionResult:g,actionStatus:b,defaultShouldRevalidate:!E&&(o||y.pathname+y.search===v.pathname+v.search||y.search!==v.search||e$(f,e))}))}),S=[];return h.forEach((e,i)=>{if(a||!n.some(t=>t.route.id===e.routeId)||c.has(i))return;let s=eh(d,e.path,p);if(!s){S.push({key:i,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null});return}let l=t.fetchers.get(i),h=tu(s,e.path),m=!1;f.has(i)?m=!1:u.has(i)?(u.delete(i),m=!0):m=l&&"idle"!==l.state&&void 0===l.data?o:eq(h,et({currentUrl:y,currentParams:t.matches[t.matches.length-1].params,nextUrl:v,nextParams:n[n.length-1].params},r,{actionResult:g,actionStatus:b,defaultShouldRevalidate:!E&&o})),m&&S.push({key:i,routeId:e.routeId,path:e.path,matches:s,match:h,controller:new AbortController})}),[_,S]}function ez(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=null!=t&&void 0!==t[e.id],i=null!=n&&void 0!==n[e.id];return(!!r||!i)&&("function"==typeof e.loader&&!0===e.loader.hydrate||!r&&!i)}function e$(e,t){let n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function eq(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if("boolean"==typeof n)return n}return t.defaultShouldRevalidate}function eH(e,t,n,r,i){var a;let s;if(e){let t=r[e];er(t,"No route found to patch children into: routeId = "+e),t.children||(t.children=[]),s=t.children}else s=n;let o=ec(t.filter(e=>!s.some(t=>(function e(t,n){return"id"in t&&"id"in n&&t.id===n.id||t.index===n.index&&t.path===n.path&&t.caseSensitive===n.caseSensitive&&((!t.children||0===t.children.length)&&(!n.children||0===n.children.length)||t.children.every((t,r)=>{var i;return null==(i=n.children)?void 0:i.some(n=>e(t,n))}))})(e,t))),i,[e||"_","patch",String((null==(a=s)?void 0:a.length)||"0")],r);s.push(...o)}async function eW(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];er(i,"No route found in manifest");let a={};for(let e in r){let t=void 0!==i[e]&&"hasErrorBoundary"!==e;ei(!t,'Route "'+i.id+'" has a static property "'+e+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+e+'" will be ignored.'),t||eu.has(e)||(a[e]=r[e])}Object.assign(i,a),Object.assign(i,et({},t(i),{lazy:void 0}))}async function eK(e){let{matches:t}=e,n=t.filter(e=>e.shouldLoad);return(await Promise.all(n.map(e=>e.resolve()))).reduce((e,t,r)=>Object.assign(e,{[n[r].route.id]:t}),{})}async function eG(e,t,n,r,i,a,s,o,l,u){let c=a.map(e=>e.route.lazy?eW(e.route,l,o):void 0),h=a.map((e,n)=>{let a=c[n],s=i.some(t=>t.route.id===e.route.id),o=async n=>(n&&"GET"===r.method&&(e.route.lazy||e.route.loader)&&(s=!0),s?eQ(t,r,e,a,n,u):Promise.resolve({type:E.data,result:void 0}));return et({},e,{shouldLoad:s,resolve:o})}),f=await e({matches:h,request:r,params:a[0].params,fetcherKey:s,context:u});try{await Promise.all(c)}catch(e){}return f}async function eQ(e,t,n,r,i,a){let s,o;let l=r=>{let s;let l=new Promise((e,t)=>s=t);o=()=>s(),t.signal.addEventListener("abort",o);let u=i=>"function"!=typeof r?Promise.reject(Error('You cannot call the handler for a route which defines a boolean "'+e+'" [routeId: '+n.route.id+"]")):r({request:t,params:n.params,context:a},...void 0!==i?[i]:[]);return Promise.race([(async()=>{try{let e=await (i?i(e=>u(e)):u());return{type:"data",result:e}}catch(e){return{type:"error",result:e}}})(),l])};try{let i=n.route[e];if(r){if(i){let e;let[t]=await Promise.all([l(i).catch(t=>{e=t}),r]);if(void 0!==e)throw e;s=t}else if(await r,i=n.route[e])s=await l(i);else{if("action"!==e)return{type:E.data,result:void 0};let r=new URL(t.url),i=r.pathname+r.search;throw e5(405,{method:t.method,pathname:i,routeId:n.route.id})}}else if(i)s=await l(i);else{let e=new URL(t.url),n=e.pathname+e.search;throw e5(404,{pathname:n})}er(void 0!==s.result,"You defined "+("action"===e?"an action":"a loader")+" for route "+('"'+n.route.id)+"\" but didn't return anything from your `"+e+"` function. Please return a value or `null`.")}catch(e){return{type:E.error,result:e}}finally{o&&t.signal.removeEventListener("abort",o)}return s}async function eY(e){var t,n,r,i,a,s,o;let{result:l,type:u}=e;if(tr(l)){let e;try{let t=l.headers.get("Content-Type");e=t&&/\bapplication\/json\b/.test(t)?null==l.body?null:await l.json():await l.text()}catch(e){return{type:E.error,error:e}}return u===E.error?{type:E.error,error:new eT(l.status,l.statusText,e),statusCode:l.status,headers:l.headers}:{type:E.data,data:e,statusCode:l.status,headers:l.headers}}if(u===E.error){if(tn(l)){if(l.data instanceof Error)return{type:E.error,error:l.data,statusCode:null==(n=l.init)?void 0:n.status};l=new eT((null==(t=l.init)?void 0:t.status)||500,void 0,l.data)}return{type:E.error,error:l,statusCode:ex(l)?l.status:void 0}}return(o=l)&&"object"==typeof o&&"object"==typeof o.data&&"function"==typeof o.subscribe&&"function"==typeof o.cancel&&"function"==typeof o.resolveData?{type:E.deferred,deferredData:l,statusCode:null==(r=l.init)?void 0:r.status,headers:(null==(i=l.init)?void 0:i.headers)&&new Headers(l.init.headers)}:tn(l)?{type:E.data,data:l.data,statusCode:null==(a=l.init)?void 0:a.status,headers:null!=(s=l.init)&&s.headers?new Headers(l.init.headers):void 0}:{type:E.data,data:l}}function eX(e,t,n){if(eO.test(e)){let r=new URL(e.startsWith("//")?t.protocol+e:e),i=null!=eg(r.pathname,n);if(r.origin===t.origin&&i)return r.pathname+r.search+r.hash}return e}function eJ(e,t,n,r){let i=e.createURL(e7(t)).toString(),a={signal:n};if(r&&ti(r.formMethod)){let{formMethod:e,formEncType:t}=r;a.method=e.toUpperCase(),"application/json"===t?(a.headers=new Headers({"Content-Type":t}),a.body=JSON.stringify(r.json)):"text/plain"===t?a.body=r.text:"application/x-www-form-urlencoded"===t&&r.formData?a.body=eZ(r.formData):a.body=r.formData}return new Request(i,a)}function eZ(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,"string"==typeof r?r:r.name);return t}function e0(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function e1(e,t,n,r,i,a,s){let o,l,u,c,h,f;let{loaderData:d,errors:p}=(l={},u=null,c=!1,h={},f=r&&te(r[1])?r[1].error:void 0,t.forEach(e=>{if(!(e.route.id in n))return;let r=e.route.id,i=n[r];if(er(!tt(i),"Cannot handle redirect results in processLoaderData"),te(i)){let e=i.error;void 0!==f&&(e=f,f=void 0),u=u||{};{let n=e4(t,r);null==u[n.route.id]&&(u[n.route.id]=e)}l[r]=void 0,c||(c=!0,o=ex(i.error)?i.error.status:500),i.headers&&(h[r]=i.headers)}else e9(i)?(s.set(r,i.deferredData),l[r]=i.deferredData.data,null==i.statusCode||200===i.statusCode||c||(o=i.statusCode)):(l[r]=i.data,i.statusCode&&200!==i.statusCode&&!c&&(o=i.statusCode)),i.headers&&(h[r]=i.headers)}),void 0!==f&&r&&(u={[r[0]]:f},l[r[0]]=void 0),{loaderData:l,errors:u,statusCode:o||200,loaderHeaders:h});return i.forEach(t=>{let{key:n,match:r,controller:i}=t,s=a[n];if(er(s,"Did not find corresponding fetcher result"),!i||!i.signal.aborted){if(te(s)){let t=e4(e.matches,null==r?void 0:r.route.id);p&&p[t.route.id]||(p=et({},p,{[t.route.id]:s.error})),e.fetchers.delete(n)}else if(tt(s))er(!1,"Unhandled fetcher revalidation redirect");else if(e9(s))er(!1,"Unhandled fetcher deferred data");else{let t=td(s.data);e.fetchers.set(n,t)}}}),{loaderData:d,errors:p}}function e2(e,t,n,r){let i=et({},t);for(let a of n){let n=a.route.id;if(t.hasOwnProperty(n)?void 0!==t[n]&&(i[n]=t[n]):void 0!==e[n]&&a.route.loader&&(i[n]=e[n]),r&&r.hasOwnProperty(n))break}return i}function e3(e){return e?te(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function e4(e,t){return(t?e.slice(0,e.findIndex(e=>e.route.id===t)+1):[...e]).reverse().find(e=>!0===e.route.hasErrorBoundary)||e[0]}function e6(e){let t=1===e.length?e[0]:e.find(e=>e.index||!e.path||"/"===e.path)||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function e5(e,t){let{pathname:n,routeId:r,method:i,type:a,message:s}=void 0===t?{}:t,o="Unknown Server Error",l="Unknown @remix-run/router error";return 400===e?(o="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but did not provide a `loader` for route "'+r+'", so there is no way to handle the request.':"defer-action"===a?l="defer() is not supported in actions":"invalid-body"===a&&(l="Unable to encode submission body")):403===e?(o="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):404===e?(o="Not Found",l='No route matches URL "'+n+'"'):405===e&&(o="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but did not provide an `action` for route "'+r+'", so there is no way to handle the request.':i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new eT(e||500,o,Error(l),!0)}function e8(e){let t=Object.entries(e);for(let e=t.length-1;e>=0;e--){let[n,r]=t[e];if(tt(r))return{key:n,result:r}}}function e7(e){let t="string"==typeof e?el(e):e;return eo(et({},t,{hash:""}))}function e9(e){return e.type===E.deferred}function te(e){return e.type===E.error}function tt(e){return(e&&e.type)===E.redirect}function tn(e){return"object"==typeof e&&null!=e&&"type"in e&&"data"in e&&"init"in e&&"DataWithResponseInit"===e.type}function tr(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"object"==typeof e.headers&&void 0!==e.body}function ti(e){return eC.has(e.toLowerCase())}async function ta(e,t,n,r,i){let a=Object.entries(t);for(let s=0;s<a.length;s++){let[o,l]=a[s],u=e.find(e=>(null==e?void 0:e.route.id)===o);if(!u)continue;let c=r.find(e=>e.route.id===u.route.id),h=null!=c&&!e$(c,u)&&(i&&i[u.route.id])!==void 0;e9(l)&&h&&await to(l,n,!1).then(e=>{e&&(t[o]=e)})}}async function ts(e,t,n){for(let r=0;r<n.length;r++){let{key:i,routeId:a,controller:s}=n[r],o=t[i];e.find(e=>(null==e?void 0:e.route.id)===a)&&e9(o)&&(er(s,"Expected an AbortController for revalidating fetcher deferred result"),await to(o,s.signal,!0).then(e=>{e&&(t[i]=e)}))}}async function to(e,t,n){if(void 0===n&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:E.data,data:e.deferredData.unwrappedData}}catch(e){return{type:E.error,error:e}}return{type:E.data,data:e.deferredData.data}}}function tl(e){return new URLSearchParams(e).getAll("index").some(e=>""===e)}function tu(e,t){let n="string"==typeof t?el(t).search:t.search;if(e[e.length-1].route.index&&tl(n||""))return e[e.length-1];let r=ev(e);return r[r.length-1]}function tc(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:a,json:s}=e;if(t&&n&&r){if(null!=i)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(null!=a)return{formMethod:t,formAction:n,formEncType:r,formData:a,json:void 0,text:void 0};if(void 0!==s)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function th(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function tf(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function td(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function tp(){return(tp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}Symbol("deferred");const tm=J.createContext(null),tg=J.createContext(null),ty=J.createContext(null),tv=J.createContext(null),tw=J.createContext({outlet:null,matches:[],isDataRoute:!1}),tb=J.createContext(null);function tE(){return null!=J.useContext(tv)}function t_(){return tE()||er(!1),J.useContext(tv).location}function tS(e){J.useContext(ty).static||J.useLayoutEffect(e)}function tk(){let{isDataRoute:e}=J.useContext(tw);return e?function(){let e;let{router:t}=(tR.UseNavigateStable,(e=J.useContext(tm))||er(!1),e),n=tA(tN.UseNavigateStable),r=J.useRef(!1);return tS(()=>{r.current=!0}),J.useCallback(function(e,i){void 0===i&&(i={}),r.current&&("number"==typeof e?t.navigate(e):t.navigate(e,tp({fromRouteId:n},i)))},[t,n])}():function(){tE()||er(!1);let e=J.useContext(tm),{basename:t,future:n,navigator:r}=J.useContext(ty),{matches:i}=J.useContext(tw),{pathname:a}=t_(),s=JSON.stringify(ew(i,n.v7_relativeSplatPath)),o=J.useRef(!1);return tS(()=>{o.current=!0}),J.useCallback(function(n,i){if(void 0===i&&(i={}),!o.current)return;if("number"==typeof n){r.go(n);return}let l=eb(n,JSON.parse(s),a,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:eE([t,l.pathname])),(i.replace?r.replace:r.push)(l,i.state,i)},[t,r,s,a,e])}()}function tT(e,t,n,r){let i;tE()||er(!1);let{navigator:a}=J.useContext(ty),{matches:s}=J.useContext(tw),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=t_();if(t){var h;let e="string"==typeof t?el(t):t;"/"===u||(null==(h=e.pathname)?void 0:h.startsWith(u))||er(!1),i=e}else i=c;let f=i.pathname||"/",d=f;if("/"!==u){let e=u.replace(/^\//,"").split("/");d="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let p=eh(e,{pathname:d}),m=function(e,t,n,r){var i,a;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(null==(a=r)||!a.v7_partialHydration||0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let s=e,o=null==(i=n)?void 0:i.errors;if(null!=o){let e=s.findIndex(e=>e.route.id&&(null==o?void 0:o[e.route.id])!==void 0);e>=0||er(!1),s=s.slice(0,Math.min(s.length,e+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let e=0;e<s.length;e++){let t=s[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(u=e),t.route.id){let{loaderData:e,errors:r}=n,i=t.route.loader&&void 0===e[t.route.id]&&(!r||void 0===r[t.route.id]);if(t.route.lazy||i){l=!0,s=u>=0?s.slice(0,u+1):[s[0]];break}}}return s.reduceRight((e,r,i)=>{var a;let c;let h=!1,f=null,d=null;n&&(c=o&&r.route.id?o[r.route.id]:void 0,f=r.route.errorElement||tx,l&&(u<0&&0===i?(tP[a="route-fallback"]||(tP[a]=!0),h=!0,d=null):u===i&&(h=!0,d=r.route.hydrateFallbackElement||null)));let p=t.concat(s.slice(0,i+1)),m=()=>{let t;return t=c?f:h?d:r.route.Component?J.createElement(r.route.Component,null):r.route.element?r.route.element:e,J.createElement(tC,{match:r,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?J.createElement(tI,{location:n.location,revalidation:n.revalidation,component:f,error:c,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}(p&&p.map(e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:eE([u,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:eE([u,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),s,n,r);return t&&m?J.createElement(tv.Provider,{value:{location:tp({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:b.Pop}},m):m}const tx=J.createElement(function(){var e;let t,n,r,i;let a=(n=J.useContext(tb),tN.UseRouteError,(t=J.useContext(tg))||er(!1),r=t,i=tA(tN.UseRouteError),void 0!==n?n:null==(e=r.errors)?void 0:e[i]),s=ex(a)?a.status+" "+a.statusText:a instanceof Error?a.message:JSON.stringify(a),o=a instanceof Error?a.stack:null;return J.createElement(J.Fragment,null,J.createElement("h2",null,"Unexpected Application Error!"),J.createElement("h3",{style:{fontStyle:"italic"}},s),o?J.createElement("pre",{style:{padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"}},o):null,null)},null);class tI extends J.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?J.createElement(tw.Provider,{value:this.props.routeContext},J.createElement(tb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function tC(e){let{routeContext:t,match:n,children:r}=e,i=J.useContext(tm);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),J.createElement(tw.Provider,{value:t},r)}var tR=((u=tR||{}).UseBlocker="useBlocker",u.UseRevalidator="useRevalidator",u.UseNavigateStable="useNavigate",u),tN=((c=tN||{}).UseBlocker="useBlocker",c.UseLoaderData="useLoaderData",c.UseActionData="useActionData",c.UseRouteError="useRouteError",c.UseNavigation="useNavigation",c.UseRouteLoaderData="useRouteLoaderData",c.UseMatches="useMatches",c.UseRevalidator="useRevalidator",c.UseNavigateStable="useNavigate",c.UseRouteId="useRouteId",c);function tA(e){let t;let n=((t=J.useContext(tw))||er(!1),t),r=n.matches[n.matches.length-1];return r.route.id||er(!1),r.route.id}const tP={},tD={},tL=(e,t,n)=>{var r;tD[r=" React Router Future Flag Warning: "+t+". You can use the `"+e+"` future flag to opt-in early. For more information, see "+n+"."]||(tD[r]=!0,console.warn(r))};function tO(e){er(!1)}function tM(e){let{basename:t="/",children:n=null,location:r,navigationType:i=b.Pop,navigator:a,static:s=!1,future:o}=e;tE()&&er(!1);let l=t.replace(/^\/*/,"/"),u=J.useMemo(()=>({basename:l,navigator:a,static:s,future:tp({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);"string"==typeof r&&(r=el(r));let{pathname:c="/",search:h="",hash:f="",state:d=null,key:p="default"}=r,m=J.useMemo(()=>{let e=eg(c,l);return null==e?null:{location:{pathname:e,search:h,hash:f,state:d,key:p},navigationType:i}},[l,c,h,f,d,p,i]);return null==m?null:J.createElement(ty.Provider,{value:u},J.createElement(tv.Provider,{children:n,value:m}))}function tU(e){let{children:t,location:n}=e;return tT(function e(t,n){void 0===n&&(n=[]);let r=[];return J.Children.forEach(t,(t,i)=>{if(!J.isValidElement(t))return;let a=[...n,i];if(t.type===J.Fragment){r.push.apply(r,e(t.props.children,a));return}t.type!==tO&&er(!1),t.props.index&&t.props.children&&er(!1);let s={id:t.props.id||a.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(s.children=e(t.props.children,a)),r.push(s)}),r}(t),n)}J.startTransition;var tF=((h=tF||{})[h.pending=0]="pending",h[h.success=1]="success",h[h.error=2]="error",h);new Promise(()=>{});var J=(Q("acw62"),Q("acw62")),tV={},tj=tV={};function tB(){throw Error("setTimeout has not been defined")}function tz(){throw Error("clearTimeout has not been defined")}function t$(e){if(_===setTimeout)return setTimeout(e,0);if((_===tB||!_)&&setTimeout)return _=setTimeout,setTimeout(e,0);try{return _(e,0)}catch(t){try{return _.call(null,e,0)}catch(t){return _.call(this,e,0)}}}!function(){try{_="function"==typeof setTimeout?setTimeout:tB}catch(e){_=tB}try{S="function"==typeof clearTimeout?clearTimeout:tz}catch(e){S=tz}}();var tq=[],tH=!1,tW=-1;function tK(){tH&&k&&(tH=!1,k.length?tq=k.concat(tq):tW=-1,tq.length&&tG())}function tG(){if(!tH){var e=t$(tK);tH=!0;for(var t=tq.length;t;){for(k=tq,tq=[];++tW<t;)k&&k[tW].run();tW=-1,t=tq.length}k=null,tH=!1,function(e){if(S===clearTimeout)return clearTimeout(e);if((S===tz||!S)&&clearTimeout)return S=clearTimeout,clearTimeout(e);try{S(e)}catch(t){try{return S.call(null,e)}catch(t){return S.call(this,e)}}}(e)}}function tQ(e,t){this.fun=e,this.array=t}function tY(){}tj.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];tq.push(new tQ(e,t)),1!==tq.length||tH||t$(tG)},tQ.prototype.run=function(){this.fun.apply(null,this.array)},tj.title="browser",tj.browser=!0,tj.env={},tj.argv=[],tj.version="",tj.versions={},tj.on=tY,tj.addListener=tY,tj.once=tY,tj.off=tY,tj.removeListener=tY,tj.removeAllListeners=tY,tj.emit=tY,tj.prependListener=tY,tj.prependOnceListener=tY,tj.listeners=function(e){return[]},tj.binding=function(e){throw Error("process.binding is not supported")},tj.cwd=function(){return"/"},tj.chdir=function(e){throw Error("process.chdir is not supported")},tj.umask=function(){return 0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tX=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:((64512&i)==55296&&r+1<e.length&&(64512&e.charCodeAt(r+1))==56320?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128):t[n++]=i>>12|224,t[n++]=i>>6&63|128),t[n++]=63&i|128)}return t},tJ=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){let a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{let a=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&s)}}return t.join("")},tZ={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){let i=e[t],a=t+1<e.length,s=a?e[t+1]:0,o=t+2<e.length,l=o?e[t+2]:0,u=i>>2,c=(3&i)<<4|s>>4,h=(15&s)<<2|l>>6,f=63&l;o||(f=64,a||(h=64)),r.push(n[u],n[c],n[h],n[f])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(tX(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):tJ(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){let i=n[e.charAt(t++)],a=t<e.length?n[e.charAt(t)]:0,s=++t<e.length?n[e.charAt(t)]:64,o=++t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==a||null==s||null==o)throw new t0;let l=i<<2|a>>4;if(r.push(l),64!==s){let e=a<<4&240|s>>2;if(r.push(e),64!==o){let e=s<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class t0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const t1=function(e){let t=tX(e);return tZ.encodeByteArray(t,!0)},t2=function(e){return t1(e).replace(/\./g,"")},t3=function(e){try{return tZ.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},t4=()=>/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==W)return W;throw Error("Unable to locate global object.")})().__FIREBASE_DEFAULTS__,t6=()=>{if(void 0===tV||void 0===tV.env)return;let e=void 0;if(e)return JSON.parse(e)},t5=()=>{let e;if("undefined"==typeof document)return;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}let t=e&&t3(e[1]);return t&&JSON.parse(t)},t8=()=>{try{return t4()||t6()||t5()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},t7=e=>{var t,n;return null===(n=null===(t=t8())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},t9=e=>{let t=t7(e);if(!t)return;let n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},ne=()=>{var e;return null===(e=t8())||void 0===e?void 0:e.config},nt=e=>{var t;return null===(t=t8())||void 0===t?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class ni extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,na.prototype.create)}}class na{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){let n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],a=i?i.replace(ns,(e,t)=>{let r=n[t];return null!=r?String(r):`<${t}?>`}):"Error",s=`${this.serviceName}: ${a} (${r}).`;return new ni(r,s,n)}}const ns=/\{\$([^}]+)}/g;function no(e,t){if(e===t)return!0;let n=Object.keys(e),r=Object.keys(t);for(let i of n){if(!r.includes(i))return!1;let n=e[i],a=t[i];if(nl(n)&&nl(a)){if(!no(n,a))return!1}else if(n!==a)return!1}for(let e of r)if(!n.includes(e))return!1;return!0}function nl(e){return null!==e&&"object"==typeof e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function nc(e){let t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){let[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function nh(e){let t=e.indexOf("?");if(!t)return"";let n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class nf{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw Error("Missing Observer.");void 0===(r=!function(e,t){if("object"!=typeof e||null===e)return!1;for(let n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?{next:e,error:t,complete:n}:e).next&&(r.next=nd),void 0===r.error&&(r.error=nd),void 0===r.complete&&(r.complete=nd);let i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(e){return e&&e._delegate?e._delegate:e}class nm{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new nn;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:ng})}catch(e){}for(let[e,t]of this.instancesDeferred.entries()){let n=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e=ng){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=ng){return this.instances.has(e)}getOptions(e=ng){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(let[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){var n;let r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);let a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){let n=this.onInitCallbacks.get(t);if(n)for(let r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:e===ng?void 0:e,options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}return n||null}normalizeInstanceIdentifier(e=ng){return this.component?this.component.multipleInstances?e:ng:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new ny(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw=[];(f=T||(T={}))[f.DEBUG=0]="DEBUG",f[f.VERBOSE=1]="VERBOSE",f[f.INFO=2]="INFO",f[f.WARN=3]="WARN",f[f.ERROR=4]="ERROR",f[f.SILENT=5]="SILENT";const nb={debug:T.DEBUG,verbose:T.VERBOSE,info:T.INFO,warn:T.WARN,error:T.ERROR,silent:T.SILENT},nE=T.INFO,n_={[T.DEBUG]:"log",[T.VERBOSE]:"log",[T.INFO]:"info",[T.WARN]:"warn",[T.ERROR]:"error"},nS=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=n_[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class nk{constructor(e){this.name=e,this._logLevel=nE,this._logHandler=nS,this._userLogHandler=null,nw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in T))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?nb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,T.DEBUG,...e),this._logHandler(this,T.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,T.VERBOSE,...e),this._logHandler(this,T.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,T.INFO,...e),this._logHandler(this,T.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,T.WARN,...e),this._logHandler(this,T.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,T.ERROR,...e),this._logHandler(this,T.ERROR,...e)}}const nT=(e,t)=>t.some(t=>e instanceof t),nx=new WeakMap,nI=new WeakMap,nC=new WeakMap,nR=new WeakMap,nN=new WeakMap;let nA={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return nI.get(e);if("objectStoreNames"===t)return e.objectStoreNames||nC.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return nP(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function nP(n){var r;if(n instanceof IDBRequest)return function(e){let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(nP(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(t=>{t instanceof IDBCursor&&nx.set(t,e)}).catch(()=>{}),nN.set(t,e),t}(n);if(nR.has(n))return nR.get(n);let i="function"==typeof(r=n)?r!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(t||(t=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(r)?function(...e){return r.apply(nD(this),e),nP(nx.get(this))}:function(...e){return nP(r.apply(nD(this),e))}:function(e,...t){let n=r.call(nD(this),e,...t);return nC.set(n,e.sort?e.sort():[e]),nP(n)}:(r instanceof IDBTransaction&&function(e){if(nI.has(e))return;let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});nI.set(e,t)}(r),nT(r,e||(e=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])))?new Proxy(r,nA):r;return i!==n&&(nR.set(n,i),nN.set(i,n)),i}const nD=e=>nN.get(e),nL=["get","getKey","getAll","getAllKeys","count"],nO=["put","add","delete","clear"],nM=new Map;function nU(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(nM.get(t))return nM.get(t);let n=t.replace(/FromIndex$/,""),r=t!==n,i=nO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||nL.includes(n)))return;let a=async function(e,...t){let a=this.transaction(e,i?"readwrite":"readonly"),s=a.store;return r&&(s=s.index(t.shift())),(await Promise.all([s[n](...t),i&&a.done]))[0]};return nM.set(t,a),a}nA={...n=nA,get:(e,t,r)=>nU(e,t)||n.get(e,t,r),has:(e,t)=>!!nU(e,t)||n.has(e,t)};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(!function(e){let t=e.getComponent();return(null==t?void 0:t.type)==="VERSION"}(e))return null;{let t=e.getImmediate();return`${t.library}/${t.version}`}}).filter(e=>e).join(" ")}}const nV="@firebase/app",nj="0.10.17",nB=new nk("@firebase/app"),nz="[DEFAULT]",n$={[nV]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},nq=new Map,nH=new Map,nW=new Map;function nK(e,t){try{e.container.addComponent(t)}catch(n){nB.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function nG(e){let t=e.name;if(nW.has(t))return nB.debug(`There were multiple attempts to register component ${t}.`),!1;for(let n of(nW.set(t,e),nq.values()))nK(n,e);for(let t of nH.values())nK(t,e);return!0}function nQ(e,t){let n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function nY(e){return void 0!==e.settings}const nX=new na("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nJ{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new nm("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw nX.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nZ="11.1.0";function n0(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});let r=Object.assign({name:nz,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw nX.create("bad-app-name",{appName:String(i)});if(n||(n=ne()),!n)throw nX.create("no-options");let a=nq.get(i);if(a){if(no(n,a.options)&&no(r,a.config))return a;throw nX.create("duplicate-app",{appName:i})}let s=new nv(i);for(let e of nW.values())s.addComponent(e);let o=new nJ(n,r,s);return nq.set(i,o),o}function n1(e=nz){let t=nq.get(e);if(!t&&e===nz&&ne())return n0();if(!t)throw nX.create("no-app",{appName:e});return t}function n2(e,t,n){var r;let i=null!==(r=n$[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);let a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){let e=[`Unable to register library "${i}" with version "${t}":`];a&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),nB.warn(e.join(" "));return}nG(new nm(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const n3="firebase-heartbeat-store";let n4=null;function n6(){return n4||(n4=(function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){let s=indexedDB.open(e,1),o=nP(s);return r&&s.addEventListener("upgradeneeded",e=>{r(nP(s.result),e.oldVersion,e.newVersion,nP(s.transaction),e)}),n&&s.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{a&&e.addEventListener("close",()=>a()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o})("firebase-heartbeat-database",0,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(n3)}catch(e){console.warn(e)}}}).catch(e=>{throw nX.create("idb-open",{originalErrorMessage:e.message})})),n4}async function n5(e){try{let t=(await n6()).transaction(n3),n=await t.objectStore(n3).get(n7(e));return await t.done,n}catch(e){if(e instanceof ni)nB.warn(e.message);else{let t=nX.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});nB.warn(t.message)}}}async function n8(e,t){try{let n=(await n6()).transaction(n3,"readwrite"),r=n.objectStore(n3);await r.put(t,n7(e)),await n.done}catch(e){if(e instanceof ni)nB.warn(e.message);else{let t=nX.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});nB.warn(t.message)}}}function n7(e){return`${e.name}!${e.options.appId}`}class n9{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new rt(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{let n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=re();if((null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{let t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}catch(e){nB.warn(e)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)==null||0===this._heartbeatsCache.heartbeats.length)return"";let t=re(),{heartbeatsToSend:n,unsentEntries:r}=function(e,t=1024){let n=[],r=e.slice();for(let i of e){let e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),rn(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),rn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=t2(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return nB.warn(e),""}}}function re(){return new Date().toISOString().substring(0,10)}class rt{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"==typeof indexedDB}catch(e){return!1}}()&&new Promise((e,t)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}).then(()=>!0).catch(()=>!1)}async read(){if(!await this._canUseIndexedDBPromise)return{heartbeats:[]};{let e=await n5(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){let n=await this.read();return n8(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){let n=await this.read();return n8(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function rn(e){return t2(JSON.stringify({version:2,heartbeats:e})).length}function rr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function ri(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}nG(new nm("platform-logger",e=>new nF(e),"PRIVATE")),nG(new nm("heartbeat",e=>new n9(e),"PRIVATE")),n2(nV,nj,""),n2(nV,nj,"esm2017"),n2("fire-js",""),/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */n2("firebase","11.1.0","app"),"function"==typeof SuppressedError&&SuppressedError;const ra=new na("auth","Firebase",ri()),rs=new nk("@firebase/auth");function ro(e,...t){rs.logLevel<=T.ERROR&&rs.error(`Auth (${nZ}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rl(e,...t){throw rf(e,...t)}function ru(e,...t){return rf(e,...t)}function rc(e,t,n){return new na("auth","Firebase",Object.assign(Object.assign({},ri()),{[t]:n})).create(t,{appName:e.name})}function rh(e){return rc(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rf(e,...t){if("string"!=typeof e){let n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return ra.create(e,...t)}function rd(e,t,...n){if(!e)throw rf(t,...n)}function rp(e){let t="INTERNAL ASSERTION FAILED: "+e;throw ro(t),Error(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function rg(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e,t){var n;this.shortDelay=e,this.longDelay=t,n="Short delay should be less than long delay!",t>e||rp(n),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nr())||"object"==typeof navigator&&"ReactNative"===navigator.product}get(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===rg()||"https:"===rg()||function(){let e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(e,t){var n,r;n=e.emulator,r="Emulator should always be set here",n||rp(r);let{url:i}=e.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void rp("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void rp("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void rp("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},rE=new ry(3e4,6e4);function r_(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function rS(e,t,n,r,i={}){return rk(e,i,async()=>{let i={},a={};r&&("GET"===t?a=r:i={body:JSON.stringify(r)});let s=nu(Object.assign({key:e.config.apiKey},a)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);let l=Object.assign({method:t,headers:o},i);return"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),rw.fetch()(rx(e,e.config.apiHost,n,s),l)})}async function rk(e,t,n){e._canInitEmulator=!1;let r=Object.assign(Object.assign({},rb),t);try{let t=new rI(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();let a=await i.json();if("needConfirmation"in a)throw rC(e,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{let[t,n]=(i.ok?a.errorMessage:a.error.message).split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===t)throw rC(e,"credential-already-in-use",a);if("EMAIL_EXISTS"===t)throw rC(e,"email-already-in-use",a);if("USER_DISABLED"===t)throw rC(e,"user-disabled",a);let s=r[t]||t.toLowerCase().replace(/[_\s]+/g,"-");if(n)throw rc(e,s,n);rl(e,s)}}catch(t){if(t instanceof ni)throw t;rl(e,"network-request-failed",{message:String(t)})}}async function rT(e,t,n,r,i={}){let a=await rS(e,t,n,r,i);return"mfaPendingCredential"in a&&rl(e,"multi-factor-auth-required",{_serverResponse:a}),a}function rx(e,t,n,r){let i=`${t}${n}?${r}`;return e.config.emulator?rv(e.config,i):`${e.config.apiScheme}://${i}`}class rI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(ru(this.auth,"network-request-failed")),rE.get())})}}function rC(e,t,n){let r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=ru(e,t,r);return i.customData._tokenResponse=n,i}function rR(e){return void 0!==e&&void 0!==e.enterprise}class rN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return function(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function rA(e,t){return rS(e,"GET","/v2/recaptchaConfig",r_(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rP(e,t){return rS(e,"POST","/v1/accounts:delete",t)}async function rD(e,t){return rS(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}async function rO(e,t=!1){let n=np(e),r=await n.getIdToken(t),i=rU(r);rd(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let a="object"==typeof i.firebase?i.firebase:void 0,s=null==a?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:rL(rM(i.auth_time)),issuedAtTime:rL(rM(i.iat)),expirationTime:rL(rM(i.exp)),signInProvider:s||null,signInSecondFactor:(null==a?void 0:a.sign_in_second_factor)||null}}function rM(e){return 1e3*Number(e)}function rU(e){let[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return ro("JWT malformed, contained fewer than 3 sections"),null;try{let e=t3(n);if(!e)return ro("Failed to decode base64 JWT payload"),null;return JSON.parse(e)}catch(e){return ro("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}function rF(e){let t=rU(e);return rd(t,"internal-error"),rd(void 0!==t.exp,"internal-error"),rd(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rV(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof ni&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(!e)return this.errorBackoff=3e4,Math.max(0,(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5);{let e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(null==e?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=rL(this.lastLoginAt),this.creationTime=rL(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rz(e){var t;let n=e.auth,r=await e.getIdToken(),i=await rV(e,rD(n,{idToken:r}));rd(null==i?void 0:i.users.length,n,"internal-error");let a=i.users[0];e._notifyReloadListener(a);let s=(null===(t=a.providerUserInfo)||void 0===t?void 0:t.length)?rq(a.providerUserInfo):[],o=[...e.providerData.filter(e=>!s.some(t=>t.providerId===e.providerId)),...s],l=e.isAnonymous,u=!(e.email&&a.passwordHash)&&!(null==o?void 0:o.length);Object.assign(e,{uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new rB(a.createdAt,a.lastLoginAt),isAnonymous:!!l&&u})}async function r$(e){let t=np(e);await rz(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function rq(e){return e.map(e=>{var{providerId:t}=e,n=rr(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rH(e,t){let n=await rk(e,{},async()=>{let n=nu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=rx(e,r,"/v1/token",`key=${i}`),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",rw.fetch()(a,{method:"POST",headers:s,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function rW(e,t){return rS(e,"POST","/v2/accounts:revokeToken",r_(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rK{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){rd(e.idToken,"internal-error"),rd(void 0!==e.idToken,"internal-error"),rd(void 0!==e.refreshToken,"internal-error");let t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):rF(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){rd(0!==e.length,"internal-error");let t=rF(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return t||!this.accessToken||this.isExpired?(rd(this.refreshToken,e,"user-token-expired"),this.refreshToken)?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:n,refreshToken:r,expiresIn:i}=await rH(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){let{refreshToken:n,accessToken:r,expirationTime:i}=t,a=new rK;return n&&(rd("string"==typeof n,"internal-error",{appName:e}),a.refreshToken=n),r&&(rd("string"==typeof r,"internal-error",{appName:e}),a.accessToken=r),i&&(rd("number"==typeof i,"internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new rK,this.toJSON())}_performRefresh(){return rp("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rG(e,t){rd("string"==typeof e||void 0===e,"internal-error",{appName:t})}class rQ{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=rr(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new rB(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){let t=await rV(this,this.stsTokenManager.getToken(this.auth,e));return rd(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return rO(this,e)}reload(){return r$(this)}_assign(e){this!==e&&(rd(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new rQ(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){rd(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await rz(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(nY(this.auth.app))return Promise.reject(rh(this.auth));let e=await this.getIdToken();return await rV(this,rP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,a,s,o,l,u;let c=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,f=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,d=null!==(a=t.photoURL)&&void 0!==a?a:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:v,emailVerified:w,isAnonymous:b,providerData:E,stsTokenManager:_}=t;rd(v&&_,e,"internal-error");let S=rK.fromJSON(this.name,_);rd("string"==typeof v,e,"internal-error"),rG(c,e.name),rG(h,e.name),rd("boolean"==typeof w,e,"internal-error"),rd("boolean"==typeof b,e,"internal-error"),rG(f,e.name),rG(d,e.name),rG(p,e.name),rG(m,e.name),rG(g,e.name),rG(y,e.name);let k=new rQ({uid:v,auth:e,email:h,emailVerified:w,displayName:c,isAnonymous:b,photoURL:d,phoneNumber:f,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:y});return E&&Array.isArray(E)&&(k.providerData=E.map(e=>Object.assign({},e))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,t,n=!1){let r=new rK;r.updateFromServerResponse(t);let i=new rQ({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await rz(i),i}static async _fromGetAccountInfoResponse(e,t,n){let r=t.users[0];rd(void 0!==r.localId,"internal-error");let i=void 0!==r.providerUserInfo?rq(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(null==i?void 0:i.length),s=new rK;s.updateFromIdToken(n);let o=new rQ({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:a});return Object.assign(o,{uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new rB(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null==i?void 0:i.length)}),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rY=new Map;function rX(e){var t,n;t="Expected a class definition",e instanceof Function||rp(t);let r=rY.get(e);return r?(n="Instance stored in cache mismatched with class",r instanceof e||rp(n)):(r=new e,rY.set(e,r)),r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rJ{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){let t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rZ(e,t,n){return`firebase:${e}:${t}:${n}`}rJ.type="NONE";class r0{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;let{config:r,name:i}=this.auth;this.fullUserKey=rZ(this.userKey,r.apiKey,i),this.fullPersistenceKey=rZ("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);return e?rQ._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new r0(rX(rJ),e,n);let r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e),i=r[0]||rX(rJ),a=rZ(n,e.config.apiKey,e.name),s=null;for(let n of t)try{let t=await n._get(a);if(t){let r=rQ._fromJSON(e,t);n!==i&&(s=r),i=n;break}}catch(e){}let o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length&&(i=o[0],s&&await i._set(a,s.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(a)}catch(e){}}))),new r0(i,e,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";{if(r6(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(r2(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(r8(t))return"Blackberry";if(r7(t))return"Webos";if(r3(t))return"Safari";if((t.includes("chrome/")||r4(t))&&!t.includes("edge/"))return"Chrome";if(r5(t))return"Android";let n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if((null==n?void 0:n.length)===2)return n[1]}return"Other"}function r2(e=nr()){return/firefox\//i.test(e)}function r3(e=nr()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function r4(e=nr()){return/crios\//i.test(e)}function r6(e=nr()){return/iemobile/i.test(e)}function r5(e=nr()){return/android/i.test(e)}function r8(e=nr()){return/blackberry/i.test(e)}function r7(e=nr()){return/webos/i.test(e)}function r9(e=nr()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ie(e=nr()){return r9(e)||r5(e)||r7(e)||r8(e)||/windows phone/i.test(e)||r6(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(e,t=[]){let n;switch(e){case"Browser":n=r1(nr());break;case"Worker":n=`${r1(nr())}-${e}`;break;default:n=e}let r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${nZ}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let n=t=>new Promise((n,r)=>{try{let r=e(t);n(r)}catch(e){r(e)}});n.onAbort=t,this.queue.push(n);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){for(let e of(t.reverse(),t))try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==e?void 0:e.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ii(e,t={}){return rS(e,"GET","/v2/passwordPolicy",r_(e,t))}class ia{constructor(e){var t,n,r,i;let a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=a.minPasswordLength)&&void 0!==t?t:6,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),void 0!==a.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),void 0!==a.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),void 0!==a.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),void 0!==a.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,a,s;let o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(a=o.containsNumericCharacter)||void 0===a||a),o.isValid&&(o.isValid=null===(s=o.containsNonAlphanumericCharacter)||void 0===s||s),o}validatePasswordLengthOptions(e,t){let n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new io(this),this.idTokenSubscription=new io(this),this.beforeStateQueue=new ir(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ra,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=rX(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await r0.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(this.currentUser||e){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await rD(this,{idToken:e}),n=await rQ._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(nY(this.app)){let e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}let n=await this.assertedPersistence.getCurrentUser(),r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,a=null==r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);(!n||n===a)&&(null==s?void 0:s.user)&&(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(e){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return(rd(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId)?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await rz(e)}catch(e){if((null==e?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(nY(this.app))return Promise.reject(rh(this));let t=e?np(e):null;return t&&rd(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&rd(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return nY(this.app)?Promise.reject(rh(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return nY(this.app)?Promise.reject(rh(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rX(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=new ia(await ii(this));null===this.tenantId?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new na("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await rW(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){let n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&rX(e)||this._popupRedirectResolver;rd(t,this,"argument-error"),this.redirectPersistenceManager=await r0.create(this,[rX(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return(this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e)?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};let i="function"==typeof t?t:t.next.bind(t),a=!1,s=this._isInitialized?Promise.resolve():this._initializationPromise;if(rd(s,this,"internal-error"),s.then(()=>{a||i(this.currentUser)}),"function"==typeof t){let i=e.addObserver(t,n,r);return()=>{a=!0,i()}}{let n=e.addObserver(t);return()=>{a=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return rd(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=it(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let n=await (null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);let r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;let t=await (null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){rs.logLevel<=T.WARN&&rs.warn(`Auth (${nZ}): ${e}`,...t)}(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}class io{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){let n=new nf(e,void 0);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return rd(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let il={async loadJS(){throw Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iu(e){return`__${e}${Math.floor(1e6*Math.random())}`}class ic{constructor(){this.enterprise=new ih}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class ih{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const id="NO_RECAPTCHA";class ip{constructor(e){this.type="recaptcha-enterprise",this.auth=np(e)}async verify(e="verify",t=!1){async function n(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{rA(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0===r.recaptchaKey)n(Error("recaptcha Enterprise site key undefined"));else{let n=new rN(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}}).catch(e=>{n(e)})})}function r(t,n,r){let i=window.grecaptcha;rR(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(id)})}):r(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ic().execute("siteKey",{action:"verify"}):new Promise((e,i)=>{n(this.auth).then(n=>{if(!t&&rR(window.grecaptcha))r(n,e,i);else{var a;if("undefined"==typeof window){i(Error("RecaptchaVerifier is only supported in browser"));return}let t=il.recaptchaEnterpriseScript;0!==t.length&&(t+=n),(a=t,il.loadJS(a)).then(()=>{r(n,e,i)}).catch(e=>{i(e)})}}).catch(e=>{i(e)})})}}async function im(e,t,n,r=!1,i=!1){let a;let s=new ip(e);if(i)a=id;else try{a=await s.verify(n)}catch(e){a=await s.verify(n,!0)}let o=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){let e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){let e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function ig(e,t,n,r,i){var a,s;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(a=e._getRecaptchaConfig())||void 0===a||!a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER"))return r(e,t).catch(async i=>{if("auth/missing-recaptcha-token"!==i.code)return Promise.reject(i);{console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let i=await im(e,t,n,"getOobCode"===n);return r(e,i)}});{let i=await im(e,t,n,"getOobCode"===n);return r(e,i)}}if("PHONE_PROVIDER"!==i)return Promise.reject(i+" provider is not supported.");if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("PHONE_PROVIDER")){let i=await im(e,t,n);return r(e,i).catch(async i=>{var a;if((null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let i=await im(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{let i=await im(e,t,n,!1,!0);return r(e,i)}}async function iy(e){let t=np(e),n=new rN(await rA(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}));null==t.tenantId?t._agentRecaptchaConfig=n:t._tenantRecaptchaConfigs[t.tenantId]=n,n.isAnyProviderEnabled()&&new ip(t).verify()}function iv(e){let t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function iw(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return rp("not implemented")}_getIdTokenResponse(e){return rp("not implemented")}_linkToIdToken(e,t){return rp("not implemented")}_getReauthenticationResolver(e){return rp("not implemented")}}async function iE(e,t){return rS(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i_(e,t){return rT(e,"POST","/v1/accounts:signInWithPassword",r_(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iS(e,t){return rT(e,"POST","/v1/accounts:signInWithEmailLink",r_(e,t))}async function ik(e,t){return rT(e,"POST","/v1/accounts:signInWithEmailLink",r_(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT extends ib{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new iT(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new iT(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return ig(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",i_,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return iS(e,{email:this._email,oobCode:this._password});default:rl(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ig(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",iE,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return ik(e,{idToken:t,email:this._email,oobCode:this._password});default:rl(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ix(e,t){return rT(e,"POST","/v1/accounts:signInWithIdp",r_(e,t))}class iI extends ib{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new iI(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):rl("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=rr(t,["providerId","signInMethod"]);if(!n||!r)return null;let a=new iI(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return ix(e,this.buildRequest())}_linkToIdToken(e,t){let n=this.buildRequest();return n.idToken=t,ix(e,n)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,ix(e,t)}buildRequest(){let e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=nu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iC(e,t){return rS(e,"POST","/v1/accounts:sendVerificationCode",r_(e,t))}async function iR(e,t){return rT(e,"POST","/v1/accounts:signInWithPhoneNumber",r_(e,t))}async function iN(e,t){let n=await rT(e,"POST","/v1/accounts:signInWithPhoneNumber",r_(e,t));if(n.temporaryProof)throw rC(e,"account-exists-with-different-credential",n);return n}const iA={USER_NOT_FOUND:"user-not-found"};async function iP(e,t){return rT(e,"POST","/v1/accounts:signInWithPhoneNumber",r_(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),iA)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD extends ib{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new iD({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new iD({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return iR(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return iN(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return iP(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));let{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new iD({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class iL{constructor(e){var t,n,r,i,a,s;let o=nc(nh(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,u=null!==(n=o.oobCode)&&void 0!==n?n:null,c=/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);rd(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(a=o.languageCode)&&void 0!==a?a:null,this.tenantId=null!==(s=o.tenantId)&&void 0!==s?s:null}static parseLink(e){let t=function(e){let t=nc(nh(e)).link,n=t?nc(nh(t)).deep_link_id:null,r=nc(nh(e)).deep_link_id;return(r?nc(nh(r)).link:null)||r||n||t||e}(e);try{return new iL(t)}catch(e){return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(){this.providerId=iO.PROVIDER_ID}static credential(e,t){return iT._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){let n=iL.parseLink(t);return rd(n,"argument-error"),iT._fromEmailAndCode(e,n.code,n.tenantId)}}iO.PROVIDER_ID="password",iO.EMAIL_PASSWORD_SIGN_IN_METHOD="password",iO.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU extends iM{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF extends iU{constructor(){super("facebook.com")}static credential(e){return iI._fromParams({providerId:iF.PROVIDER_ID,signInMethod:iF.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return iF.credentialFromTaggedObject(e)}static credentialFromError(e){return iF.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return iF.credential(e.oauthAccessToken)}catch(e){return null}}}iF.FACEBOOK_SIGN_IN_METHOD="facebook.com",iF.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV extends iU{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return iI._fromParams({providerId:iV.PROVIDER_ID,signInMethod:iV.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return iV.credentialFromTaggedObject(e)}static credentialFromError(e){return iV.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return iV.credential(t,n)}catch(e){return null}}}iV.GOOGLE_SIGN_IN_METHOD="google.com",iV.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij extends iU{constructor(){super("github.com")}static credential(e){return iI._fromParams({providerId:ij.PROVIDER_ID,signInMethod:ij.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ij.credentialFromTaggedObject(e)}static credentialFromError(e){return ij.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ij.credential(e.oauthAccessToken)}catch(e){return null}}}ij.GITHUB_SIGN_IN_METHOD="github.com",ij.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iB extends iU{constructor(){super("twitter.com")}static credential(e,t){return iI._fromParams({providerId:iB.PROVIDER_ID,signInMethod:iB.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return iB.credentialFromTaggedObject(e)}static credentialFromError(e){return iB.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return iB.credential(t,n)}catch(e){return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iz(e,t){return rT(e,"POST","/v1/accounts:signUp",r_(e,t))}iB.TWITTER_SIGN_IN_METHOD="twitter.com",iB.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){return new i$({user:await rQ._fromIdTokenResponse(e,n,r),providerId:iq(n),_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){return await e._updateTokensIfNecessary(n,!0),new i$({user:e,providerId:iq(n),_tokenResponse:n,operationType:t})}}function iq(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iH extends ni{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,iH.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new iH(e,t,n,r)}}function iW(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw iH._fromErrorAndOperation(e,n,t,r);throw n})}async function iK(e,t,n=!1){let r=await rV(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return i$._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iG(e,t,n=!1){let{auth:r}=e;if(nY(r.app))return Promise.reject(rh(r));let i="reauthenticate";try{let a=await rV(e,iW(r,i,t,e),n);rd(a.idToken,r,"internal-error");let s=rU(a.idToken);rd(s,r,"internal-error");let{sub:o}=s;return rd(e.uid===o,r,"user-mismatch"),i$._forOperation(e,i,a)}catch(e){throw(null==e?void 0:e.code)==="auth/user-not-found"&&rl(r,"user-mismatch"),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iQ(e,t,n=!1){if(nY(e.app))return Promise.reject(rh(e));let r="signIn",i=await iW(e,r,t),a=await i$._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}async function iY(e,t){return iQ(np(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iX(e){let t=np(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function iJ(e,t,n){if(nY(e.app))return Promise.reject(rh(e));let r=np(e),i=ig(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",iz,"EMAIL_PASSWORD_PROVIDER"),a=await i.catch(t=>{throw"auth/password-does-not-meet-requirements"===t.code&&iX(e),t}),s=await i$._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iZ(e,t){return rS(e,"POST","/v2/accounts/mfaEnrollment:start",r_(e,t))}new WeakMap;const i0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{if(!this.storage)return Promise.resolve(!1);return this.storage.setItem(i0,"1"),this.storage.removeItem(i0),Promise.resolve(!0)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class i2 extends i1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ie(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let t of Object.keys(this.listeners)){let n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});return}let n=e.key;t?this.detachListener():this.stopPolling();let r=()=>{let e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);(function(){let e=nr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0})()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){let t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}i2.type="LOCAL";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3 extends i1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}i3.type="SESSION";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;let n=new i4(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){let{eventId:t,eventType:n,data:r}=e.data,i=this.handlersMap[n];if(!(null==i?void 0:i.size))return;e.ports[0].postMessage({status:"ack",eventId:t,eventType:n});let a=Array.from(i).map(async t=>t(e.origin,r)),s=await Promise.all(a.map(async e=>{try{let t=await e;return{fulfilled:!0,value:t}}catch(e){return{fulfilled:!1,reason:e}}}));e.ports[0].postMessage({status:"done",eventId:t,eventType:n,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i6(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}i4.receivers=[];/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){let r,i;let a="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!a)throw Error("connection_unavailable");return new Promise((s,o)=>{let l=i6("",20);a.port1.start();let u=setTimeout(()=>{o(Error("unsupported_event"))},n);i={messageChannel:a,onMessage(e){if(e.data.eventId===l)switch(e.data.status){case"ack":clearTimeout(u),r=setTimeout(()=>{o(Error("timeout"))},3e3);break;case"done":clearTimeout(r),s(e.data.response);break;default:clearTimeout(u),clearTimeout(r),o(Error("invalid_response"))}}},this.handlers.add(i),a.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[a.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i8(){return window}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i7(){return void 0!==i8().WorkerGlobalScope&&"function"==typeof i8().importScripts}async function i9(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae="firebaseLocalStorageDb",at="firebaseLocalStorage",an="fbase_key";class ar{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ai(e,t){return e.transaction([at],t?"readwrite":"readonly").objectStore(at)}function aa(){let e=indexedDB.open(ae,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{let t=e.result;try{t.createObjectStore(at,{keyPath:an})}catch(e){n(e)}}),e.addEventListener("success",async()=>{let n=e.result;n.objectStoreNames.contains(at)?t(n):(n.close(),await new ar(indexedDB.deleteDatabase(ae)).toPromise(),t(await aa()))})})}async function as(e,t,n){return new ar(ai(e,!0).put({[an]:t,value:n})).toPromise()}async function ao(e,t){let n=ai(e,!1).get(t),r=await new ar(n).toPromise();return void 0===r?null:r.value}function al(e,t){return new ar(ai(e,!0).delete(t)).toPromise()}class au{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await aa()),this.db}async _withRetries(e){let t=0;for(;;)try{let t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return i7()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=i4._getInstance(i7()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await i9(),!this.activeServiceWorker)return;this.sender=new i5(this.activeServiceWorker);let n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null==navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;let e=await aa();return await as(e,i0,"1"),await al(e,i0),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>as(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){let t=await this._withRetries(t=>ao(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>al(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){let e=await this._withRetries(e=>new ar(ai(e,!1).getAll()).toPromise());if(!e||0!==this.pendingWrites)return[];let t=[],n=new Set;if(0!==e.length)for(let{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(let e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(e,t){return rS(e,"POST","/v2/accounts/mfaSignIn:start",r_(e,t))}au.type="LOCAL",iu("rcb"),new ry(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah="recaptcha";async function af(e,t,n){var r;if(!e._getRecaptchaConfig())try{await iy(e)}catch(e){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"==typeof t?{phoneNumber:t}:t,"session"in i){let t=i.session;if("phoneNumber"in i){rd("enroll"===t.type,e,"internal-error");let r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},a=async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===id){rd((null==n?void 0:n.type)===ah,e,"argument-error");let r=await ad(e,t,n);return iZ(e,r)}return iZ(e,t)},s=ig(e,r,"mfaSmsEnrollment",a,"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{rd("signin"===t.type,e,"internal-error");let a=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;rd(a,e,"missing-multi-factor-info");let s={mfaPendingCredential:t.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===id){rd((null==n?void 0:n.type)===ah,e,"argument-error");let r=await ad(e,t,n);return ac(e,r)}return ac(e,t)},l=ig(e,s,"mfaSmsSignIn",o,"PHONE_PROVIDER");return(await l.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{let t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=async(e,t)=>{if(t.captchaResponse===id){rd((null==n?void 0:n.type)===ah,e,"argument-error");let r=await ad(e,t,n);return iC(e,r)}return iC(e,t)},a=ig(e,t,"sendVerificationCode",r,"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).sessionInfo}}finally{null==n||n._reset()}}async function ad(e,t,n){rd(n.type===ah,e,"argument-error");let r=await n.verify();rd("string"==typeof r,e,"argument-error");let i=Object.assign({},t);if("phoneEnrollmentInfo"in i){let e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,a=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:a}}),i}if(!("phoneSignInInfo"in i))return Object.assign(i,{recaptchaToken:r}),i;{let e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e){this.providerId=ap.PROVIDER_ID,this.auth=np(e)}verifyPhoneNumber(e,t){return af(this.auth,e,np(t))}static credential(e,t){return iD._fromVerification(e,t)}static credentialFromResult(e){return ap.credentialFromTaggedObject(e)}static credentialFromError(e){return ap.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{phoneNumber:t,temporaryProof:n}=e;return t&&n?iD._fromTokenResponse(t,n):null}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(e,t){return t?rX(t):(rd(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ap.PROVIDER_ID="phone",ap.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag extends ib{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ix(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ix(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ix(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ay(e){return iQ(e.auth,new ag(e),e.bypassAuthState)}function av(e){let{auth:t,user:n}=e;return rd(n,t,"internal-error"),iG(n,new ag(e),e.bypassAuthState)}async function aw(e){let{auth:t,user:n}=e;return rd(n,t,"internal-error"),iK(n,new ag(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:s}=e;if(a){this.reject(a);return}let o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(o))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ay;case"linkViaPopup":case"linkViaRedirect":return aw;case"reauthViaPopup":case"reauthViaRedirect":return av;default:rl(this.auth,"internal-error")}}resolve(e){var t,n;t=this.pendingPromise,n="Pending promise was never set",t||rp(n),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){var t,n;t=this.pendingPromise,n="Pending promise was never set",t||rp(n),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=new ry(2e3,1e4);async function a_(e,t,n){if(nY(e.app))return Promise.reject(ru(e,"operation-not-supported-in-this-environment"));let r=np(e);!function(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&rl(e,"argument-error"),rc(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(e,t,iM);let i=am(r,n);return new aS(r,"signInViaPopup",t,i).executeNotNull()}class aS extends ab{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,aS.currentPopupAction&&aS.currentPopupAction.cancel(),aS.currentPopupAction=this}async executeNotNull(){let e=await this.execute();return rd(e,this.auth,"internal-error"),e}async onExecution(){var e,t;e=1===this.filter.length,t="Popup operations only handle one event",e||rp(t);let n=i6();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(ru(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(ru(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,aS.currentPopupAction=null}pollUserCancellation(){let e=()=>{var t,n;if(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ru(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aE.get())};e()}}aS.currentPopupAction=null;const ak=new Map;class aT extends ab{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=ak.get(this.auth._key());if(!e){try{let t=await ax(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}ak.set(this.auth._key(),e)}return this.bypassAuthState||ak.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"===e.type){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ax(e,t){let n=rZ("pendingRedirect",t.config.apiKey,t.name),r=rX(e._redirectPersistence);if(!await r._isAvailable())return!1;let i=await r._get(n)==="true";return await r._remove(n),i}function aI(e,t){ak.set(e._key(),t)}async function aC(e,t,n=!1){if(nY(e.app))return Promise.reject(rh(e));let r=np(e),i=am(r,t),a=new aT(r,i,n),s=await a.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class aR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aA(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!aA(e)){let r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ru(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(aN(e))}saveEventToCache(e){this.cachedEventUids.add(aN(e)),this.lastProcessedEventTime=Date.now()}}function aN(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function aA({type:e,error:t}){return"unknown"===e&&(null==t?void 0:t.code)==="auth/no-auth-event"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aP(e,t={}){return rS(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aL=/^https?/;async function aO(e){if(e.config.emulator)return;let{authorizedDomains:t}=await aP(e);for(let e of t)try{if(function(e){let t=rm(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){let i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!aL.test(n))return!1;if(aD.test(e))return r===e;let i=e.replace(/\./g,"\\.");return RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}(e))return}catch(e){}rl(e,"unauthorized-domain")}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM=new ry(3e4,6e4);function aU(){let e=i8().___jsl;if(null==e?void 0:e.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}}let aF=null;/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV=new ry(5e3,15e3),aj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);async function az(e){let t=await (aF=aF||new Promise((t,n)=>{var r,i,a,s;function o(){aU(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{aU(),n(ru(e,"network-request-failed"))},timeout:aM.get()})}if(null===(i=null===(r=i8().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else if(null===(a=i8().gapi)||void 0===a?void 0:a.load)o();else{let t=iu("iframefcb");return i8()[t]=()=>{gapi.load?o():n(ru(e,"network-request-failed"))},(s=`${il.gapiScript}?onload=${t}`,il.loadJS(s)).catch(e=>n(e))}}).catch(e=>{throw aF=null,e})),n=i8().gapi;return rd(n,e,"internal-error"),t.open({where:document.body,url:function(e){let t=e.config;rd(t.authDomain,e,"auth-domain-config-required");let n=t.emulator?rv(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:nZ},i=aB.get(e.config.apiHost);i&&(r.eid=i);let a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${nu(r).slice(1)}`}(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aj,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});let i=ru(e,"network-request-failed"),a=i8().setTimeout(()=>{r(i)},aV.get());function s(){i8().clearTimeout(a),n(t)}t.ping(s).then(s,()=>{r(i)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class aq{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}const aH=encodeURIComponent("fac");async function aW(e,t,n,r,i,a){rd(e.config.authDomain,e,"auth-domain-config-required"),rd(e.config.apiKey,e,"invalid-api-key");let s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:nZ,eventId:i};if(t instanceof iM)for(let[n,r]of(t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",!function(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())&&(s.customParameters=JSON.stringify(t.getCustomParameters())),Object.entries(a||{})))s[n]=r;if(t instanceof iU){let e=t.getScopes().filter(e=>""!==e);e.length>0&&(s.scopes=e.join(","))}for(let t of(e.tenantId&&(s.tid=e.tenantId),Object.keys(s)))void 0===s[t]&&delete s[t];let o=await e._getAppCheckToken(),l=o?`#${aH}=${encodeURIComponent(o)}`:"";return`${function({config:e}){return e.emulator?rv(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${nu(s).slice(1)}${l}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aK="webStorageSupport",aG=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=i3,this._completeRedirectFn=aC,this._overrideRedirectResult=aI}async _openPopup(e,t,n,r){var i,a,s;a=null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,s="_initialize() not called before _openPopup()",a||rp(s);let o=await aW(e,t,n,rm(),r);return function(e,t,n,r=500,i=600){let a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),o="",l=Object.assign(Object.assign({},a$),{width:r.toString(),height:i.toString(),top:a,left:s}),u=nr().toLowerCase();n&&(o=r4(u)?"_blank":n),r2(u)&&(t=t||"http://localhost",l.scrollbars="yes");let c=Object.entries(l).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=nr()){var t;return r9(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(u)&&"_self"!==o)return function(e,t){let n=document.createElement("a");n.href=e,n.target=t;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new aq(null);let h=window.open(t||"",o,c);rd(h,e,"popup-blocked");try{h.focus()}catch(e){}return new aq(h)}(e,o,i6())}async _openRedirect(e,t,n,r){var i;return await this._originValidation(e),i=await aW(e,t,n,rm(),r),i8().location.href=i,new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){var n;let{manager:e,promise:r}=this.eventManagers[t];return e?Promise.resolve(e):(n="If manager is not set, promise should be",r||rp(n),r)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){let t=await az(e),n=new aR(e);return t.register("authEvent",t=>(rd(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(aK,{type:aK},n=>{var r;let i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r[aK];void 0!==i&&t(!!i),rl(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=aO(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ie()||r3()||r9()}};class aQ{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return rp("unexpected MultiFactorSessionType")}}}class aY extends aQ{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new aY(e)}_finalizeEnroll(e,t,n){return rS(e,"POST","/v2/accounts/mfaEnrollment:finalize",r_(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()}))}_finalizeSignIn(e,t){return rS(e,"POST","/v2/accounts/mfaSignIn:finalize",r_(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()}))}}class aX extends aQ{constructor(e,t,n){super("totp"),this.otp=e,this.enrollmentId=t,this.secret=n}static _fromSecret(e,t){return new aX(t,void 0,e)}static _fromEnrollmentId(e,t){return new aX(t,e)}async _finalizeEnroll(e,t,n){return rd(void 0!==this.secret,e,"argument-error"),rS(e,"POST","/v2/accounts/mfaEnrollment:finalize",r_(e,{idToken:t,displayName:n,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}))}async _finalizeSignIn(e,t){rd(void 0!==this.enrollmentId&&void 0!==this.otp,e,"argument-error");let n={verificationCode:this.otp};return rS(e,"POST","/v2/accounts/mfaSignIn:finalize",r_(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:n}))}}class aJ{constructor(e,t,n,r,i,a,s){this.sessionInfo=a,this.auth=s,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=n,this.codeIntervalSeconds=r,this.enrollmentCompletionDeadline=i}static _fromStartTotpMfaEnrollmentResponse(e,t){return new aJ(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,t)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){var n;let r=!1;return(aZ(e)||aZ(t))&&(r=!0),r&&(aZ(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),aZ(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function aZ(e){return void 0===e||(null==e?void 0:e.length)===0}var a0="@firebase/auth",a1="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return(this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser)?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){rd(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const a3=nt("authIdTokenMaxAge")||300;let a4=null;const a6=e=>async t=>{let n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>a3)return;let i=null==n?void 0:n.token;a4!==i&&(a4=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};il={loadJS:e=>new Promise((t,n)=>{var r,i;let a=document.createElement("script");a.setAttribute("src",e),a.onload=t,a.onerror=e=>{let t=ru("internal-error");t.customData=e,n(t)},a.type="text/javascript",a.charset="UTF-8",(null!==(i=null===(r=document.getElementsByTagName("head"))||void 0===r?void 0:r[0])&&void 0!==i?i:document).appendChild(a)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},d="Browser",nG(new nm("auth",(e,{options:t})=>{let n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=n.options;rd(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});let o=new is(n,r,i,{apiKey:a,authDomain:s,clientPlatform:d,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:it(d)});return function(e,t){let n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(rX);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(o,t),o},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),nG(new nm("auth-internal",e=>new a2(np(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),n2(a0,a1,/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(d)),n2(a0,a1,"esm2017");var a5="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==W?W:"undefined"!=typeof self?self:{},a8={};(function(){function e(){this.blockSize=-1,this.blockSize=64,this.g=[,,,,],this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function t(e,t,n){n||(n=0);var r=Array(16);if("string"==typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],s=t+(a^n&(i^a))+r[0]+0xd76aa478&0xffffffff;s=a+(i^(t=n+(s<<7&0xffffffff|s>>>25))&(n^i))+r[1]+0xe8c7b756&0xffffffff,s=i+(n^(a=t+(s<<12&0xffffffff|s>>>20))&(t^n))+r[2]+0x242070db&0xffffffff,s=n+(t^(i=a+(s<<17&0xffffffff|s>>>15))&(a^t))+r[3]+0xc1bdceee&0xffffffff,s=t+(a^(n=i+(s<<22&0xffffffff|s>>>10))&(i^a))+r[4]+0xf57c0faf&0xffffffff,s=a+(i^(t=n+(s<<7&0xffffffff|s>>>25))&(n^i))+r[5]+0x4787c62a&0xffffffff,s=i+(n^(a=t+(s<<12&0xffffffff|s>>>20))&(t^n))+r[6]+0xa8304613&0xffffffff,s=n+(t^(i=a+(s<<17&0xffffffff|s>>>15))&(a^t))+r[7]+0xfd469501&0xffffffff,s=t+(a^(n=i+(s<<22&0xffffffff|s>>>10))&(i^a))+r[8]+0x698098d8&0xffffffff,s=a+(i^(t=n+(s<<7&0xffffffff|s>>>25))&(n^i))+r[9]+0x8b44f7af&0xffffffff,s=i+(n^(a=t+(s<<12&0xffffffff|s>>>20))&(t^n))+r[10]+0xffff5bb1&0xffffffff,s=n+(t^(i=a+(s<<17&0xffffffff|s>>>15))&(a^t))+r[11]+0x895cd7be&0xffffffff,s=t+(a^(n=i+(s<<22&0xffffffff|s>>>10))&(i^a))+r[12]+0x6b901122&0xffffffff,s=a+(i^(t=n+(s<<7&0xffffffff|s>>>25))&(n^i))+r[13]+0xfd987193&0xffffffff,s=i+(n^(a=t+(s<<12&0xffffffff|s>>>20))&(t^n))+r[14]+0xa679438e&0xffffffff,s=n+(t^(i=a+(s<<17&0xffffffff|s>>>15))&(a^t))+r[15]+0x49b40821&0xffffffff,n=i+(s<<22&0xffffffff|s>>>10),s=t+(i^a&(n^i))+r[1]+0xf61e2562&0xffffffff,t=n+(s<<5&0xffffffff|s>>>27),s=a+(n^i&(t^n))+r[6]+0xc040b340&0xffffffff,a=t+(s<<9&0xffffffff|s>>>23),s=i+(t^n&(a^t))+r[11]+0x265e5a51&0xffffffff,i=a+(s<<14&0xffffffff|s>>>18),s=n+(a^t&(i^a))+r[0]+0xe9b6c7aa&0xffffffff,n=i+(s<<20&0xffffffff|s>>>12),s=t+(i^a&(n^i))+r[5]+0xd62f105d&0xffffffff,t=n+(s<<5&0xffffffff|s>>>27),s=a+(n^i&(t^n))+r[10]+0x2441453&0xffffffff,a=t+(s<<9&0xffffffff|s>>>23),s=i+(t^n&(a^t))+r[15]+0xd8a1e681&0xffffffff,i=a+(s<<14&0xffffffff|s>>>18),s=n+(a^t&(i^a))+r[4]+0xe7d3fbc8&0xffffffff,n=i+(s<<20&0xffffffff|s>>>12),s=t+(i^a&(n^i))+r[9]+0x21e1cde6&0xffffffff,t=n+(s<<5&0xffffffff|s>>>27),s=a+(n^i&(t^n))+r[14]+0xc33707d6&0xffffffff,a=t+(s<<9&0xffffffff|s>>>23),s=i+(t^n&(a^t))+r[3]+0xf4d50d87&0xffffffff,i=a+(s<<14&0xffffffff|s>>>18),s=n+(a^t&(i^a))+r[8]+0x455a14ed&0xffffffff,n=i+(s<<20&0xffffffff|s>>>12),s=t+(i^a&(n^i))+r[13]+0xa9e3e905&0xffffffff,t=n+(s<<5&0xffffffff|s>>>27),s=a+(n^i&(t^n))+r[2]+0xfcefa3f8&0xffffffff,a=t+(s<<9&0xffffffff|s>>>23),s=i+(t^n&(a^t))+r[7]+0x676f02d9&0xffffffff,i=a+(s<<14&0xffffffff|s>>>18),s=n+(a^t&(i^a))+r[12]+0x8d2a4c8a&0xffffffff,s=t+((n=i+(s<<20&0xffffffff|s>>>12))^i^a)+r[5]+0xfffa3942&0xffffffff,s=a+((t=n+(s<<4&0xffffffff|s>>>28))^n^i)+r[8]+0x8771f681&0xffffffff,s=i+((a=t+(s<<11&0xffffffff|s>>>21))^t^n)+r[11]+0x6d9d6122&0xffffffff,s=n+((i=a+(s<<16&0xffffffff|s>>>16))^a^t)+r[14]+0xfde5380c&0xffffffff,s=t+((n=i+(s<<23&0xffffffff|s>>>9))^i^a)+r[1]+0xa4beea44&0xffffffff,s=a+((t=n+(s<<4&0xffffffff|s>>>28))^n^i)+r[4]+0x4bdecfa9&0xffffffff,s=i+((a=t+(s<<11&0xffffffff|s>>>21))^t^n)+r[7]+0xf6bb4b60&0xffffffff,s=n+((i=a+(s<<16&0xffffffff|s>>>16))^a^t)+r[10]+0xbebfbc70&0xffffffff,s=t+((n=i+(s<<23&0xffffffff|s>>>9))^i^a)+r[13]+0x289b7ec6&0xffffffff,s=a+((t=n+(s<<4&0xffffffff|s>>>28))^n^i)+r[0]+0xeaa127fa&0xffffffff,s=i+((a=t+(s<<11&0xffffffff|s>>>21))^t^n)+r[3]+0xd4ef3085&0xffffffff,s=n+((i=a+(s<<16&0xffffffff|s>>>16))^a^t)+r[6]+0x4881d05&0xffffffff,s=t+((n=i+(s<<23&0xffffffff|s>>>9))^i^a)+r[9]+0xd9d4d039&0xffffffff,s=a+((t=n+(s<<4&0xffffffff|s>>>28))^n^i)+r[12]+0xe6db99e5&0xffffffff,s=i+((a=t+(s<<11&0xffffffff|s>>>21))^t^n)+r[15]+0x1fa27cf8&0xffffffff,s=n+((i=a+(s<<16&0xffffffff|s>>>16))^a^t)+r[2]+0xc4ac5665&0xffffffff,n=i+(s<<23&0xffffffff|s>>>9),s=t+(i^(n|~a))+r[0]+0xf4292244&0xffffffff,t=n+(s<<6&0xffffffff|s>>>26),s=a+(n^(t|~i))+r[7]+0x432aff97&0xffffffff,a=t+(s<<10&0xffffffff|s>>>22),s=i+(t^(a|~n))+r[14]+0xab9423a7&0xffffffff,i=a+(s<<15&0xffffffff|s>>>17),s=n+(a^(i|~t))+r[5]+0xfc93a039&0xffffffff,n=i+(s<<21&0xffffffff|s>>>11),s=t+(i^(n|~a))+r[12]+0x655b59c3&0xffffffff,t=n+(s<<6&0xffffffff|s>>>26),s=a+(n^(t|~i))+r[3]+0x8f0ccc92&0xffffffff,a=t+(s<<10&0xffffffff|s>>>22),s=i+(t^(a|~n))+r[10]+0xffeff47d&0xffffffff,i=a+(s<<15&0xffffffff|s>>>17),s=n+(a^(i|~t))+r[1]+0x85845dd1&0xffffffff,n=i+(s<<21&0xffffffff|s>>>11),s=t+(i^(n|~a))+r[8]+0x6fa87e4f&0xffffffff,t=n+(s<<6&0xffffffff|s>>>26),s=a+(n^(t|~i))+r[15]+0xfe2ce6e0&0xffffffff,a=t+(s<<10&0xffffffff|s>>>22),s=i+(t^(a|~n))+r[6]+0xa3014314&0xffffffff,i=a+(s<<15&0xffffffff|s>>>17),s=n+(a^(i|~t))+r[13]+0x4e0811a1&0xffffffff,n=i+(s<<21&0xffffffff|s>>>11),s=t+(i^(n|~a))+r[4]+0xf7537e82&0xffffffff,t=n+(s<<6&0xffffffff|s>>>26),s=a+(n^(t|~i))+r[11]+0xbd3af235&0xffffffff,a=t+(s<<10&0xffffffff|s>>>22),s=i+(t^(a|~n))+r[2]+0x2ad7d2bb&0xffffffff,i=a+(s<<15&0xffffffff|s>>>17),s=n+(a^(i|~t))+r[9]+0xeb86d391&0xffffffff,e.g[0]=e.g[0]+t&0xffffffff,e.g[1]=e.g[1]+(i+(s<<21&0xffffffff|s>>>11))&0xffffffff,e.g[2]=e.g[2]+i&0xffffffff,e.g[3]=e.g[3]+a&0xffffffff}function n(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}(e,function(){this.blockSize=-1}),e.prototype.s=function(){this.g[0]=0x67452301,this.g[1]=0xefcdab89,this.g[2]=0x98badcfe,this.g[3]=0x10325476,this.o=this.h=0},e.prototype.u=function(e,n){void 0===n&&(n=e.length);for(var r=n-this.blockSize,i=this.B,a=this.h,s=0;s<n;){if(0==a)for(;s<=r;)t(this,e,s),s+=this.blockSize;if("string"==typeof e){for(;s<n;)if(i[a++]=e.charCodeAt(s++),a==this.blockSize){t(this,i),a=0;break}}else for(;s<n;)if(i[a++]=e[s++],a==this.blockSize){t(this,i),a=0;break}}this.h=a,this.o+=n},e.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var r,i={};function a(e){var t;return -128<=e&&128>e?(t=function(e){return new n([0|e],0>e?-1:0)},Object.prototype.hasOwnProperty.call(i,e)?i[e]:i[e]=t(e)):new n([0|e],0>e?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return f(s(-e));for(var t=[],r=1,i=0;e>=r;i++)t[i]=e/r|0,r*=0x100000000;return new n(t,0)}var o=a(0),l=a(1),u=a(0x1000000);function c(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return -1==e.h}function f(e){for(var t=e.g.length,r=[],i=0;i<t;i++)r[i]=~e.g[i];return new n(r,~e.h).add(l)}function d(e,t){return e.add(f(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(c(t))throw Error("division by zero");if(c(e))return new m(o,o);if(h(e))return t=g(f(e),t),new m(f(t.g),f(t.h));if(h(t))return t=g(e,f(t)),new m(f(t.g),t.h);if(30<e.g.length){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),a=v(r,1);for(r=v(r,2),n=v(n,2);!c(r);){var u=a.add(r);0>=u.l(e)&&(i=i.add(n),a=u),r=v(r,1),n=v(n,1)}return t=d(e,i.j(t)),new m(i,t)}for(i=o;0<=e.l(t);){for(r=48>=(r=Math.ceil(Math.log(n=Math.max(1,Math.floor(e.m()/t.m())))/Math.LN2))?1:Math.pow(2,r-48),u=(a=s(n)).j(t);h(u)||0<u.l(e);)n-=r,u=(a=s(n)).j(t);c(a)&&(a=l),i=i.add(a),e=d(e,u)}return new m(i,e)}function y(e){for(var t=e.g.length+1,r=[],i=0;i<t;i++)r[i]=e.i(i)<<1|e.i(i-1)>>>31;return new n(r,e.h)}function v(e,t){var r=t>>5;t%=32;for(var i=e.g.length-r,a=[],s=0;s<i;s++)a[s]=0<t?e.i(s+r)>>>t|e.i(s+r+1)<<32-t:e.i(s+r);return new n(a,e.h)}(r=n.prototype).m=function(){if(h(this))return-f(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:0x100000000+r)*t,t*=0x100000000}return e},r.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(c(this))return"0";if(h(this))return"-"+f(this).toString(e);for(var t=s(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,a=((0<(n=d(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(c(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},r.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},r.l=function(e){return h(e=d(this,e))?-1:c(e)?0:1},r.abs=function(){return h(this)?f(this):this},r.add=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],i=0,a=0;a<=t;a++){var s=i+(65535&this.i(a))+(65535&e.i(a)),o=(s>>>16)+(this.i(a)>>>16)+(e.i(a)>>>16);i=o>>>16,s&=65535,o&=65535,r[a]=o<<16|s}return new n(r,-0x80000000&r[r.length-1]?-1:0)},r.j=function(e){if(c(this)||c(e))return o;if(h(this))return h(e)?f(this).j(f(e)):f(f(this).j(e));if(h(e))return f(this.j(f(e)));if(0>this.l(u)&&0>e.l(u))return s(this.m()*e.m());for(var t=this.g.length+e.g.length,r=[],i=0;i<2*t;i++)r[i]=0;for(i=0;i<this.g.length;i++)for(var a=0;a<e.g.length;a++){var l=this.i(i)>>>16,d=65535&this.i(i),m=e.i(a)>>>16,g=65535&e.i(a);r[2*i+2*a]+=d*g,p(r,2*i+2*a),r[2*i+2*a+1]+=l*g,p(r,2*i+2*a+1),r[2*i+2*a+1]+=d*m,p(r,2*i+2*a+1),r[2*i+2*a+2]+=l*m,p(r,2*i+2*a+2)}for(i=0;i<t;i++)r[i]=r[2*i+1]<<16|r[2*i];for(i=t;i<2*t;i++)r[i]=0;return new n(r,0)},r.A=function(e){return g(this,e).h},r.and=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],i=0;i<t;i++)r[i]=this.i(i)&e.i(i);return new n(r,this.h&e.h)},r.or=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],i=0;i<t;i++)r[i]=this.i(i)|e.i(i);return new n(r,this.h|e.h)},r.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],i=0;i<t;i++)r[i]=this.i(i)^e.i(i);return new n(r,this.h^e.h)},e.prototype.digest=e.prototype.v,e.prototype.reset=e.prototype.s,e.prototype.update=e.prototype.u,I=a8.Md5=e,n.prototype.add=n.prototype.add,n.prototype.multiply=n.prototype.j,n.prototype.modulo=n.prototype.A,n.prototype.compare=n.prototype.l,n.prototype.toNumber=n.prototype.m,n.prototype.toString=n.prototype.toString,n.prototype.getBits=n.prototype.i,n.fromNumber=s,n.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return f(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=s(Math.pow(n,8)),i=o,a=0;a<t.length;a+=8){var l=Math.min(8,t.length-a),u=parseInt(t.substring(a,a+l),n);8>l?(l=s(Math.pow(n,l)),i=i.j(l).add(s(u))):i=(i=i.j(r)).add(s(u))}return i},x=a8.Integer=n}).apply(void 0!==a5?a5:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var a7="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==W?W:"undefined"!=typeof self?self:{},a9={};(function(){var e,t,n,r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},i=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof a7&&a7];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,t){if(t)e:{var n=i;e=e.split(".");for(var a=0;a<e.length-1;a++){var s=e[a];if(!(s in n))break e;n=n[s]}(t=t(a=n[e=e[e.length-1]]))!=a&&null!=t&&r(n,e,{configurable:!0,writable:!0,value:t})}}("Array.prototype.values",function(e){return e||function(){var e,t,n,r,i;return e=this,t=function(e,t){return t},e instanceof String&&(e+=""),n=0,r=!1,(i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}})[Symbol.iterator]=function(){return i},i}});var a=a||{},s=this||self;function o(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function l(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function u(e,t,n){return e.call.apply(e.bind,arguments)}function c(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function h(e,t,n){return(h=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?u:c).apply(null,arguments)}function f(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function p(e){let t=e.length;if(0<t){let n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function m(e,t){for(let t=1;t<arguments.length;t++){let n=arguments[t];if(o(n)){let t=e.length||0,r=n.length||0;e.length=t+r;for(let i=0;i<r;i++)e[t+i]=n[i]}else e.push(n)}}function g(e){return/^[\s\xa0]*$/.test(e)}function y(){var e=s.navigator;return e&&(e=e.userAgent)?e:""}function v(e){return v[" "](e),e}v[" "]=function(){};var w=-1!=y().indexOf("Gecko")&&!(-1!=y().toLowerCase().indexOf("webkit")&&-1==y().indexOf("Edge"))&&!(-1!=y().indexOf("Trident")||-1!=y().indexOf("MSIE"))&&-1==y().indexOf("Edge");function b(e,t,n){for(let r in e)t.call(n,e[r],r,e)}function E(e){let t={};for(let n in e)t[n]=e[n];return t}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t])e[n]=r[n];for(let t=0;t<_.length;t++)n=_[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}var k=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new T,e=>e.reset());class T{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let x,I=!1,M=new class{constructor(){this.h=this.g=null}add(e,t){let n=k.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},U=()=>{let e=s.Promise.resolve(void 0);x=()=>{e.then(F)}};var F=()=>{let e;for(var t;e=null,M.g&&(e=M.g,M.g=M.g.next,M.g||(M.h=null),e.next=null),t=e;){try{t.h.call(t.g)}catch(e){!function(e){s.setTimeout(()=>{throw e},0)}(e)}k.j(t),100>k.h&&(k.h++,t.next=k.g,k.g=t)}I=!1};function V(){this.s=this.s,this.C=this.C}function j(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}V.prototype.s=!1,V.prototype.ma=function(){this.s||(this.s=!0,this.N())},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},j.prototype.h=function(){this.defaultPrevented=!0};var B=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{let e=()=>{};s.addEventListener("test",e,t),s.removeEventListener("test",e,t)}catch(e){}return e}();function z(e,t){if(j.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(w){e:{try{v(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:$[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&z.aa.h.call(this)}}d(z,j);var $={2:"touch",3:"pen",4:"mouse"};z.prototype.h=function(){z.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var q="closure_listenable_"+(1e6*Math.random()|0),H=0;function W(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++H,this.da=this.fa=!1}function K(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function G(e){this.src=e,this.g={},this.h=0}function Q(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Array.prototype.indexOf.call(i,t,void 0);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(K(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Y(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.da&&a.listener==t&&!!n==a.capture&&a.ha==r)return i}return -1}G.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var s=Y(e,t,r,i);return -1<s?(t=e[s],n||(t.fa=!1)):((t=new W(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var X="closure_lm_"+(1e6*Math.random()|0),J={};function Z(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var s=l(i)?!!i.capture:!!i,o=er(e);if(o||(e[X]=o=new G(e)),(n=o.add(t,n,r,s,a)).proxy)return n;if(r=function e(t){return en.call(e.src,e.listener,t)},n.proxy=r,r.src=e,r.listener=n,e.addEventListener)B||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(et(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function ee(e){if("number"!=typeof e&&e&&!e.da){var t=e.src;if(t&&t[q])Q(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(et(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=er(t))?(Q(n,e),0==n.h&&(n.src=null,t[X]=null)):K(e)}}}function et(e){return e in J?J[e]:J[e]="on"+e}function en(e,t){if(e.da)e=!0;else{t=new z(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&ee(e),e=n.call(r,t)}return e}function er(e){return(e=e[X])instanceof G?e:null}var ei="__closure_events_fn_"+(1e9*Math.random()>>>0);function ea(e){return"function"==typeof e?e:(e[ei]||(e[ei]=function(t){return e.handleEvent(t)}),e[ei])}function es(){V.call(this),this.i=new G(this),this.M=this,this.F=null}function eo(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"==typeof t)t=new j(t,e);else if(t instanceof j)t.target=t.target||e;else{var i=t;S(t=new j(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var s=t.g=n[a];i=el(s,r,!0,t)&&i}if(i=el(s=t.g=e,r,!0,t)&&i,i=el(s,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=el(s=t.g=n[a],r,!1,t)&&i}function el(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var s=t[a];if(s&&!s.da&&s.capture==n){var o=s.listener,l=s.ha||s.src;s.fa&&Q(e.i,s),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function eu(e,t,n){if("function"==typeof e)n&&(e=h(e,n));else if(e&&"function"==typeof e.handleEvent)e=h(e.handleEvent,e);else throw Error("Invalid listener argument");return 0x7fffffff<Number(t)?-1:s.setTimeout(e,t||0)}d(es,V),es.prototype[q]=!0,es.prototype.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,a){if(Array.isArray(n))for(var s=0;s<n.length;s++)e(t,n[s],r,i,a);else(i=l(i)?!!i.capture:!!i,r=ea(r),t&&t[q])?(t=t.i,(n=String(n).toString())in t.g&&-1<(r=Y(s=t.g[n],r,i,a))&&(K(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete t.g[n],t.h--))):t&&(t=er(t))&&(n=t.g[n.toString()],t=-1,n&&(t=Y(n,r,i,a)),(r=-1<t?n[t]:null)&&ee(r))}(this,e,t,n,r)},es.prototype.N=function(){if(es.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)K(n[r]);delete t.g[e],t.h--}}this.F=null},es.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},es.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ec extends V{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:function e(t){t.g=eu(()=>{t.g=null,t.i&&(t.i=!1,e(t))},t.l);let n=t.h;t.h=null,t.m.apply(null,n)}(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function eh(e){V.call(this),this.h=e,this.g={}}d(eh,V);var ef=[];function ed(e){b(e.g,function(e,t){this.g.hasOwnProperty(t)&&ee(e)},e),e.g={}}eh.prototype.N=function(){eh.aa.N.call(this),ed(this)},eh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ep=s.JSON.stringify,em=s.JSON.parse,eg=class{stringify(e){return s.JSON.stringify(e,void 0)}parse(e){return s.JSON.parse(e,void 0)}};function ey(){}function ev(e){return e.h||(e.h=e.i())}function ew(){}ey.prototype.h=null;var eb={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function eE(){j.call(this,"d")}function e_(){j.call(this,"c")}d(eE,j),d(e_,j);var eS={},ek=null;function eT(){return ek=ek||new es}function ex(e){j.call(this,eS.La,e)}function eI(e){let t=eT();eo(t,new ex(t))}function eC(e,t){j.call(this,eS.STAT_EVENT,e),this.stat=t}function eR(e){let t=eT();eo(t,new eC(t,e))}function eN(e,t){j.call(this,eS.Ma,e),this.size=t}function eA(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){e()},t)}function eP(){this.g=!0}function eD(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var s=1;s<i.length;s++)i[s]=""}}}}return ep(n)}catch(e){return t}}(e,n)+(r?" "+r:"")})}eS.La="serverreachability",d(ex,j),eS.STAT_EVENT="statevent",d(eC,j),eS.Ma="timingevent",d(eN,j),eP.prototype.xa=function(){this.g=!1},eP.prototype.info=function(){};var eL={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},eO={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function eM(){}function eU(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new eh(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new eF}function eF(){this.i=null,this.g="",this.h=!1}d(eM,ey),eM.prototype.g=function(){return new XMLHttpRequest},eM.prototype.i=function(){return{}},t=new eM;var eV={},ej={};function eB(e,t,n){e.L=1,e.v=tn(e8(t)),e.m=n,e.P=!0,ez(e,null)}function ez(e,t){e.F=Date.now(),eq(e),e.A=e8(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),tm(n.i,"t",r),e.C=0,n=e.j.J,e.h=new eF,e.g=t1(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ec(h(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ef[0]=i.toString()),i=ef);for(var a=0;a<i.length;a++){var s=function e(t,n,r,i,a){if(i&&i.once)return function e(t,n,r,i,a){if(Array.isArray(n)){for(var s=0;s<n.length;s++)e(t,n[s],r,i,a);return null}return r=ea(r),t&&t[q]?t.L(n,r,l(i)?!!i.capture:!!i,a):Z(t,n,r,!0,i,a)}(t,n,r,i,a);if(Array.isArray(n)){for(var s=0;s<n.length;s++)e(t,n[s],r,i,a);return null}return r=ea(r),t&&t[q]?t.K(n,r,l(i)?!!i.capture:!!i,a):Z(t,n,r,!1,i,a)}(n,i[a],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}t=e.H?E(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),eI(),function(e,t,n,r,i,a){e.info(function(){if(e.g){if(a)for(var s="",o=a.split("&"),l=0;l<o.length;l++){var u=o[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");s=2<=h.length&&"type"==h[1]?s+(c+"=")+u+"&":s+(c+"=redacted&")}}else s=null}else s=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s})}(e.i,e.u,e.A,e.l,e.R,e.m)}function e$(e){return!!e.g&&"GET"==e.u&&2!=e.L&&e.j.Ca}function eq(e){e.S=Date.now()+e.I,eH(e,e.I)}function eH(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=eA(h(e.ba,e),t)}function eW(e){e.B&&(s.clearTimeout(e.B),e.B=null)}function eK(e){0==e.j.G||e.J||tY(e.j,e)}function eG(e){eW(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ed(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function eQ(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||e0(n.h,e))){if(!e.K&&e0(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(n.g.F+3e3<e.F)tQ(n),tV(n);else break e}tW(n),eR(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=eA(h(n.Za,n),6e3));if(1>=eZ(n.h)&&n.ca){try{n.ca()}catch(e){}n.ca=void 0}}else tJ(n,11)}else if((e.K||n.g==e)&&tQ(n),!g(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let o=i[t];if(n.T=o[0],o=o[1],2==n.G){if("c"==o[0]){n.K=o[1],n.ia=o[2];let t=o[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));let i=o[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));let l=o[5];null!=l&&"number"==typeof l&&0<l&&(r=1.5*l,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;let u=e.g;if(u){let e=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var a=r.h;a.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(e1(a,a.h),a.h=null))}if(r.D){let e=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,tt(r.I,r.D,e))}}if(n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms")),(r=n).qa=t0(r,r.J?r.ia:null,r.W),e.K){e2(r.h,e);var s=r.L;s&&(e.I=s),e.B&&(eW(e),eq(e)),r.g=e}else tH(r);0<n.i.length&&tB(n)}else"stop"!=o[0]&&"close"!=o[0]||tJ(n,7)}else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?tJ(n,7):tF(n):"noop"!=o[0]&&n.l&&n.l.ta(o),n.v=0)}}eI(4)}catch(e){}}eU.prototype.ca=function(e){e=e.target;let t=this.M;t&&3==tL(e)?t.j():this.Y(e)},eU.prototype.Y=function(e){try{if(e==this.g)e:{let f=tL(this.g);var t=this.g.Ba();let d=this.g.Z();if(!(3>f)&&(3!=f||this.g&&(this.h.h||this.g.oa()||tO(this.g)))){this.J||4!=f||7==t||(8==t||0>=d?eI(3):eI(2)),eW(this);var n=this.g.Z();this.X=n;t:if(e$(this)){var r=tO(this.g);e="";var i=r.length,a=4==tL(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){eG(this),eK(this);var o="";break t}this.h.i=new s.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==i-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,a,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+s})}(this.i,this.u,this.A,this.l,this.R,f,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,u=this.g;if((l=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!g(l)){var c=l;break t}}c=null}if(n=c)eD(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,eQ(this,n);else{this.o=!1,this.s=3,eR(12),eG(this),eK(this);break e}}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;)if((e=function(e,t){var n=e.C,r=t.indexOf("\n",n);return -1==r?ej:isNaN(n=Number(t.substring(n,r)))?eV:(r+=1)+n>t.length?ej:(t=t.slice(r,r+n),e.C=r+n,t)}(this,o))==ej){4==f&&(this.s=4,eR(14),n=!1),eD(this.i,this.l,null,"[Incomplete Response]");break}else if(e==eV){this.s=4,eR(15),eD(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}else eD(this.i,this.l,e,null),eQ(this,e);if(e$(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=f||0!=o.length||this.h.h||(this.s=1,eR(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),tK(h),h.M=!0,eR(11))}}else eD(this.i,this.l,o,"[Invalid Chunked Response]"),eG(this),eK(this)}else eD(this.i,this.l,o,null),eQ(this,o);4==f&&eG(this),this.o&&!this.J&&(4==f?tY(this.j,this):(this.o=!1,eq(this)))}else(function(e){let t={};e=(e.g&&2<=tL(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(g(e[r]))continue;var n=function(e){var t=1;e=e.split(":");let n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}(e[r]);let i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();let a=t[i]||[];t[i]=a,a.push(n)}!function(e,t){for(let n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,eR(12)):(this.s=0,eR(13)),eG(this),eK(this)}}}catch(e){}finally{}},eU.prototype.cancel=function(){this.J=!0,eG(this)},eU.prototype.ba=function(){this.B=null;let e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(eI(),eR(17)),eG(this),this.s=2,eK(this)):eH(this,this.S-e)};var eY=class{constructor(e,t){this.g=e,this.map=t}};function eX(e){this.l=e||10,e=s.PerformanceNavigationTiming?0<(e=s.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function eJ(e){return!!e.h||!!e.g&&e.g.size>=e.j}function eZ(e){return e.h?1:e.g?e.g.size:0}function e0(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function e1(e,t){e.g?e.g.add(t):e.h=t}function e2(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function e3(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(let n of e.g.values())t=t.concat(n.D);return t}return p(e.i)}function e4(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(o(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(o(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(let r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(o(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}eX.prototype.cancel=function(){if(this.i=e3(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(let e of this.g.values())e.cancel();this.g.clear()}};var e6=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function e5(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof e5){this.h=e.h,e7(this,e.j),this.o=e.o,this.g=e.g,e9(this,e.s),this.l=e.l;var t=e.i,n=new th;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),te(this,n),this.m=e.m}else e&&(t=String(e).match(e6))?(this.h=!1,e7(this,t[1]||"",!0),this.o=tr(t[2]||""),this.g=tr(t[3]||"",!0),e9(this,t[4]),this.l=tr(t[5]||"",!0),te(this,t[6]||"",!0),this.m=tr(t[7]||"")):(this.h=!1,this.i=new th(null,this.h))}function e8(e){return new e5(e)}function e7(e,t,n){e.j=n?tr(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function e9(e,t){if(t){if(isNaN(t=Number(t))||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function te(e,t,n){var r,i;t instanceof th?(e.i=t,r=e.i,(i=e.h)&&!r.j&&(tf(r),r.i=null,r.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(td(this,t),tm(this,n,e))},r)),r.j=i):(n||(t=ti(t,tu)),e.i=new th(t,e.h))}function tt(e,t,n){e.i.set(t,n)}function tn(e){return tt(e,"zx",Math.floor(0x80000000*Math.random()).toString(36)+Math.abs(Math.floor(0x80000000*Math.random())^Date.now()).toString(36)),e}function tr(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ti(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,ta),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ta(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}e5.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ti(t,ts,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ti(t,ts,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ti(n,"/"==n.charAt(0)?tl:to,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ti(n,tc)),e.join("")};var ts=/[#\/\?@]/g,to=/[#\?:]/g,tl=/[#\?]/g,tu=/[#\?@]/g,tc=/#/g;function th(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function tf(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function td(e,t){tf(e),t=tg(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function tp(e,t){return tf(e),t=tg(e,t),e.g.has(t)}function tm(e,t,n){td(e,t),0<n.length&&(e.i=null,e.g.set(tg(e,t),p(n)),e.h+=n.length)}function tg(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function ty(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(e){}}function tv(){this.g=new eg}function tw(e){this.l=e.Ub||null,this.j=e.eb||!1}function tb(e,t){es.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function tE(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function t_(e){e.readyState=4,e.l=null,e.j=null,e.v=null,tS(e)}function tS(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function tk(e){let t="";return b(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function tT(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=tk(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):tt(e,t,n))}function tx(e){es.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(n=th.prototype).add=function(e,t){tf(this),this.i=null,e=tg(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},n.forEach=function(e,t){tf(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},n.na=function(){tf(this);let e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){let i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},n.V=function(e){tf(this);let t=[];if("string"==typeof e)tp(this,e)&&(t=t.concat(this.g.get(tg(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},n.set=function(e,t){return tf(this),this.i=null,tp(this,e=tg(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},n.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];let a=encodeURIComponent(String(r)),s=this.V(r);for(r=0;r<s.length;r++){var i=a;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")},d(tw,ey),tw.prototype.g=function(){return new tb(this.l,this.j)},tw.prototype.i=(e={},function(){return e}),d(tb,es),(n=tb.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,tS(this)},n.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;let t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||s).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,t_(this)),this.readyState=0},n.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,tS(this)),this.g&&(this.readyState=3,tS(this),this.g))){if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(void 0!==s.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tE(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))}},n.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?t_(this):tS(this),3==this.readyState&&tE(this)}},n.Ra=function(e){this.g&&(this.response=this.responseText=e,t_(this))},n.Qa=function(e){this.g&&(this.response=e,t_(this))},n.ga=function(){this.g&&t_(this)},n.setRequestHeader=function(e,t){this.u.append(e,t)},n.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let e=[],t=this.h.entries();for(var n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(tb.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(tx,es);var tI=/^https?$/i,tC=["POST","PUT"];function tR(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,tN(e),tP(e)}function tN(e){e.A||(e.A=!0,eo(e,"complete"),eo(e,"error"))}function tA(e){if(e.h&&void 0!==a&&(!e.v[1]||4!=tL(e)||2!=e.Z())){if(e.u&&4==tL(e))eu(e.Ea,0,e);else if(eo(e,"readystatechange"),4==tL(e)){e.h=!1;try{let a=e.Z();switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t,n,r=!0;break;default:r=!1}if(!(t=r)){if(n=0===a){var i=String(e.D).match(e6)[1]||null;!i&&s.self&&s.self.location&&(i=s.self.location.protocol.slice(0,-1)),n=!tI.test(i?i.toLowerCase():"")}t=n}if(t)eo(e,"complete"),eo(e,"success");else{e.m=6;try{var o=2<tL(e)?e.g.statusText:""}catch(e){o=""}e.l=o+" ["+e.Z()+"]",tN(e)}}finally{tP(e)}}}}function tP(e,t){if(e.g){tD(e);let n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||eo(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function tD(e){e.I&&(s.clearTimeout(e.I),e.I=null)}function tL(e){return e.g?e.g.readyState:0}function tO(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function tM(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function tU(e){this.Aa=0,this.i=[],this.j=new eP,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=tM("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=tM("baseRetryDelayMs",5e3,e),this.cb=tM("retryDelaySeedMs",1e4,e),this.Wa=tM("forwardChannelMaxRetries",2,e),this.wa=tM("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new eX(e&&e.concurrentRequestLimit),this.Da=new tv,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function tF(e){if(tj(e),3==e.G){var t=e.U++,n=e8(e.I);if(tt(n,"SID",e.K),tt(n,"RID",t),tt(n,"TYPE","terminate"),t$(e,n),(t=new eU(e,e.j,t)).L=2,t.v=tn(e8(n)),n=!1,s.navigator&&s.navigator.sendBeacon)try{n=s.navigator.sendBeacon(t.v.toString(),"")}catch(e){}!n&&s.Image&&((new Image).src=t.v,n=!0),n||(t.g=t1(t.j,null),t.g.ea(t.v)),t.F=Date.now(),eq(t)}tZ(e)}function tV(e){e.g&&(tK(e),e.g.cancel(),e.g=null)}function tj(e){tV(e),e.u&&(s.clearTimeout(e.u),e.u=null),tQ(e),e.h.cancel(),e.s&&("number"==typeof e.s&&s.clearTimeout(e.s),e.s=null)}function tB(e){if(!eJ(e.h)&&!e.s){e.s=!0;var t=e.Ga;x||U(),I||(x(),I=!0),M.add(t,e),e.B=0}}function tz(e,t){var n;n=t?t.l:e.U++;let r=e8(e.I);tt(r,"SID",e.K),tt(r,"RID",n),tt(r,"AID",e.T),t$(e,r),e.m&&e.o&&tT(r,e.m,e.o),n=new eU(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tq(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),e1(e.h,n),eB(n,r,t)}function t$(e,t){e.H&&b(e.H,function(e,n){tt(t,n,e)}),e.l&&e4({},function(e,n){tt(t,n,e)})}function tq(e,t,n){n=Math.min(e.i.length,n);var r=e.l?h(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){let e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let s=0;s<n;s++){let n=i[s].g,o=i[s].map;if(0>(n-=t))t=Math.max(0,i[s].g-100),a=!1;else try{!function(e,t,n){let r=n||"";try{e4(e,function(e,n){let i=e;l(e)&&(i=ep(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}(o,e,"req"+n+"_")}catch(e){r&&r(o)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function tH(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;x||U(),I||(x(),I=!0),M.add(t,e),e.v=0}}function tW(e){return!e.g&&!e.u&&!(3<=e.v)&&(e.Y++,e.u=eA(h(e.Fa,e),tX(e,e.v)),e.v++,!0)}function tK(e){null!=e.A&&(s.clearTimeout(e.A),e.A=null)}function tG(e){e.g=new eU(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=e8(e.qa);tt(t,"RID","rpc"),tt(t,"SID",e.K),tt(t,"AID",e.T),tt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&tt(t,"TO",e.ja),tt(t,"TYPE","xmlhttp"),t$(e,t),e.m&&e.o&&tT(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=tn(e8(t)),n.m=null,n.P=!0,ez(n,e)}function tQ(e){null!=e.C&&(s.clearTimeout(e.C),e.C=null)}function tY(e,t){var n=null;if(e.g==t){tQ(e),tK(e),e.g=null;var r=2}else{if(!e0(e.h,t))return;n=t.D,e2(e.h,t),r=1}if(0!=e.G){if(t.o){if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i,a=e.B;eo(r=eT(),new eN(r,n)),tB(e)}else tH(e)}else if(3==(a=t.s)||0==a&&0<t.X||!(1==r&&(i=t,!(eZ(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=i.D.concat(e.i),!0):1!=e.G&&2!=e.G&&!(e.B>=(e.Va?0:e.Wa))&&(e.s=eA(h(e.Ga,e,i),tX(e,e.B)),e.B++,!0)))||2==r&&tW(e)))switch(n&&0<n.length&&((t=e.h).i=t.i.concat(n)),a){case 1:tJ(e,5);break;case 4:tJ(e,10);break;case 3:tJ(e,6);break;default:tJ(e,2)}}}function tX(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function tJ(e,t){if(e.j.info("Error code "+t),2==t){var n=h(e.fb,e),r=e.Xa;let t=!r;r=new e5(r||"//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||e7(r,"https"),tn(r),t?function(e,t){let n=new eP;if(s.Image){let r=new Image;r.onload=f(ty,n,"TestLoadImage: loaded",!0,t,r),r.onerror=f(ty,n,"TestLoadImage: error",!1,t,r),r.onabort=f(ty,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=f(ty,n,"TestLoadImage: timeout",!1,t,r),s.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){let n=new eP,r=new AbortController,i=setTimeout(()=>{r.abort(),ty(n,"TestPingServer: timeout",!1,t)},1e4);fetch(e,{signal:r.signal}).then(e=>{clearTimeout(i),e.ok?ty(n,"TestPingServer: ok",!0,t):ty(n,"TestPingServer: server error",!1,t)}).catch(()=>{clearTimeout(i),ty(n,"TestPingServer: error",!1,t)})}(r.toString(),n)}else eR(2);e.G=0,e.l&&e.l.sa(t),tZ(e),tj(e)}function tZ(e){if(e.G=0,e.ka=[],e.l){let t=e3(e.h);(0!=t.length||0!=e.i.length)&&(m(e.ka,t),m(e.ka,e.i),e.h.i.length=0,p(e.i),e.i.length=0),e.l.ra()}}function t0(e,t,n){var r=n instanceof e5?e8(n):new e5(n);if(""!=r.g)t&&(r.g=t+"."+r.g),e9(r,r.s);else{var i=s.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new e5(null);r&&e7(a,r),t&&(a.g=t),i&&e9(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&tt(r,n,t),tt(r,"VER",e.la),t$(e,r),r}function t1(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new tx(e.Ca&&!e.pa?new tw({eb:n}):e.pa)).Ha(e.J),t}function t2(){}function t3(){}function t4(e,t){es.call(this),this.g=new tU(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!g(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!g(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new t8(this)}function t6(e){eE.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(let n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function t5(){e_.call(this),this.status=1}function t8(e){this.g=e}(n=tx.prototype).Ha=function(e){this.J=e},n.ea=function(e,n,r,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);n=n?n.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():t.g(),this.v=this.o?ev(this.o):ev(t),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(n,String(e),!0),this.B=!1}catch(e){tR(this,e);return}if(e=r||"",r=new Map(this.headers),i){if(Object.getPrototypeOf(i)===Object.prototype)for(var a in i)r.set(a,i[a]);else if("function"==typeof i.keys&&"function"==typeof i.get)for(let e of i.keys())r.set(e,i.get(e));else throw Error("Unknown input type for opt_headers: "+String(i))}for(let[t,o]of(i=Array.from(r.keys()).find(e=>"content-type"==e.toLowerCase()),a=s.FormData&&e instanceof s.FormData,!(0<=Array.prototype.indexOf.call(tC,n,void 0))||i||a||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r))this.g.setRequestHeader(t,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{tD(this),this.u=!0,this.g.send(e),this.u=!1}catch(e){tR(this,e)}},n.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,eo(this,"complete"),eo(this,"abort"),tP(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tP(this,!0)),tx.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?tA(this):this.bb())},n.bb=function(){tA(this)},n.isActive=function(){return!!this.g},n.Z=function(){try{return 2<tL(this)?this.g.status:-1}catch(e){return -1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},n.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),em(t)}},n.Ba=function(){return this.m},n.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(n=tU.prototype).la=8,n.G=1,n.connect=function(e,t,n,r){eR(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=t0(this,null,this.W),tB(this)},n.Ga=function(e){if(this.s){if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;let i=new eU(this,this.j,e),a=this.o;if(this.S&&(a?S(a=E(a),this.S):a=this.S),null!==this.m||this.O||(i.H=a,a=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.map&&"string"==typeof(r=r.map.__data__)){r=r.length;break t}r=void 0}if(void 0===r)break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tq(this,i,t),tt(n=e8(this.I),"RID",e),tt(n,"CVER",22),this.D&&tt(n,"X-HTTP-Session-Id",this.D),t$(this,n),a&&(this.O?t="headers="+encodeURIComponent(String(tk(a)))+"&"+t:this.m&&tT(n,this.m,a)),e1(this.h,i),this.Ua&&tt(n,"TYPE","init"),this.P?(tt(n,"$req",t),tt(n,"SID","null"),i.T=!0,eB(i,n,null)):eB(i,n,t),this.G=2}}else 3==this.G&&(e?tz(this,e):0==this.i.length||eJ(this.h)||tz(this))}},n.Fa=function(){if(this.u=null,tG(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=eA(h(this.ab,this),e)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,eR(10),tV(this),tG(this))},n.Za=function(){null!=this.C&&(this.C=null,tV(this),tW(this),eR(19))},n.fb=function(e){e?(this.j.info("Successfully pinged google.com"),eR(2)):(this.j.info("Failed to ping google.com"),eR(1))},n.isActive=function(){return!!this.l&&this.l.isActive(this)},(n=t2.prototype).ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){},t3.prototype.g=function(e,t){return new t4(e,t)},d(t4,es),t4.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},t4.prototype.close=function(){tF(this.g)},t4.prototype.o=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=ep(e),e=n);t.i.push(new eY(t.Ya++,e)),3==t.G&&tB(t)},t4.prototype.N=function(){this.g.l=null,delete this.j,tF(this.g),delete this.g,t4.aa.N.call(this)},d(t6,eE),d(t5,e_),d(t8,t2),t8.prototype.ua=function(){eo(this.g,"a")},t8.prototype.ta=function(e){eo(this.g,new t6(e))},t8.prototype.sa=function(e){eo(this.g,new t5)},t8.prototype.ra=function(){eo(this.g,"b")},t3.prototype.createWebChannel=t3.prototype.g,t4.prototype.send=t4.prototype.o,t4.prototype.open=t4.prototype.m,t4.prototype.close=t4.prototype.close,O=a9.createWebChannelTransport=function(){return new t3},L=a9.getStatEventTarget=function(){return eT()},D=a9.Event=eS,P=a9.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},eL.NO_ERROR=0,eL.TIMEOUT=8,eL.HTTP_ERROR=6,A=a9.ErrorCode=eL,eO.COMPLETE="complete",N=a9.EventType=eO,ew.EventType=eb,eb.OPEN="a",eb.CLOSE="b",eb.ERROR="c",eb.MESSAGE="d",es.prototype.listen=es.prototype.K,R=a9.WebChannel=ew,a9.FetchXmlHttpFactory=tw,tx.prototype.listenOnce=tx.prototype.L,tx.prototype.getLastError=tx.prototype.Ka,tx.prototype.getLastErrorCode=tx.prototype.Ba,tx.prototype.getStatus=tx.prototype.Z,tx.prototype.getResponseJson=tx.prototype.Oa,tx.prototype.getResponseText=tx.prototype.oa,tx.prototype.send=tx.prototype.ea,tx.prototype.setWithCredentials=tx.prototype.Ha,C=a9.XhrIo=tx}).apply(void 0!==a7?a7:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),M=function(e){var t,n,r=function(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");-1===n&&(n=t);var r=n===t?0:4-n%4;return[n,r]}(e),i=r[0],a=r[1],s=new sn((i+a)*3/4-a),o=0,l=a>0?i-4:i;for(n=0;n<l;n+=4)t=st[e.charCodeAt(n)]<<18|st[e.charCodeAt(n+1)]<<12|st[e.charCodeAt(n+2)]<<6|st[e.charCodeAt(n+3)],s[o++]=t>>16&255,s[o++]=t>>8&255,s[o++]=255&t;return 2===a&&(t=st[e.charCodeAt(n)]<<2|st[e.charCodeAt(n+1)]>>4,s[o++]=255&t),1===a&&(t=st[e.charCodeAt(n)]<<10|st[e.charCodeAt(n+1)]<<4|st[e.charCodeAt(n+2)]>>2,s[o++]=t>>8&255,s[o++]=255&t),s},U=function(e){for(var t,n=e.length,r=n%3,i=[],a=0,s=n-r;a<s;a+=16383)i.push(function(e,t,n){for(var r,i=[],a=t;a<n;a+=3)i.push(se[(r=(e[a]<<16&0xff0000)+(e[a+1]<<8&65280)+(255&e[a+2]))>>18&63]+se[r>>12&63]+se[r>>6&63]+se[63&r]);return i.join("")}(e,a,a+16383>s?s:a+16383));return 1===r?i.push(se[(t=e[n-1])>>2]+se[t<<4&63]+"=="):2===r&&i.push(se[(t=(e[n-2]<<8)+e[n-1])>>10]+se[t>>4&63]+se[t<<2&63]+"="),i.join("")};for(var se=[],st=[],sn="undefined"!=typeof Uint8Array?Uint8Array:Array,sr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",si=0,sa=sr.length;si<sa;++si)se[si]=sr[si],st[sr.charCodeAt(si)]=si;st["-".charCodeAt(0)]=62,st["_".charCodeAt(0)]=63,F=function(e,t,n,r,i){var a,s,o=8*i-r-1,l=(1<<o)-1,u=l>>1,c=-7,h=n?i-1:0,f=n?-1:1,d=e[t+h];for(h+=f,a=d&(1<<-c)-1,d>>=-c,c+=o;c>0;a=256*a+e[t+h],h+=f,c-=8);for(s=a&(1<<-c)-1,a>>=-c,c+=r;c>0;s=256*s+e[t+h],h+=f,c-=8);if(0===a)a=1-u;else{if(a===l)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),a-=u}return(d?-1:1)*s*Math.pow(2,a-r)},V=function(e,t,n,r,i,a){var s,o,l,u=8*a-i-1,c=(1<<u)-1,h=c>>1,f=23===i?5960464477539062e-23:0,d=r?0:a-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(o=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+h>=1?t+=f/l:t+=f*Math.pow(2,1-h),t*l>=2&&(s++,l/=2),s+h>=c?(o=0,s=c):s+h>=1?(o=(t*l-1)*Math.pow(2,i),s+=h):(o=t*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;e[n+d]=255&o,d+=p,o/=256,i-=8);for(s=s<<i|o,u+=i;u>0;e[n+d]=255&s,d+=p,s/=256,u-=8);e[n+d-p]|=128*m};const ss="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function so(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,sl.prototype),t}function sl(e,t,n){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return sh(e)}return su(e,t,n)}function su(e,t,n){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!sl.isEncoding(t))throw TypeError("Unknown encoding: "+t);let n=0|sm(e,t),r=so(n),i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(sF(e,Uint8Array)){let t=new Uint8Array(e);return sd(t.buffer,t.byteOffset,t.byteLength)}return sf(e)}(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(sF(e,ArrayBuffer)||e&&sF(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(sF(e,SharedArrayBuffer)||e&&sF(e.buffer,SharedArrayBuffer)))return sd(e,t,n);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return sl.from(r,t,n);let i=function(e){var t;if(sl.isBuffer(e)){let t=0|sp(e.length),n=so(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||(t=e.length)!=t?so(0):sf(e):"Buffer"===e.type&&Array.isArray(e.data)?sf(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return sl.from(e[Symbol.toPrimitive]("string"),t,n);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function sc(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function sh(e){return sc(e),so(e<0?0:0|sp(e))}function sf(e){let t=e.length<0?0:0|sp(e.length),n=so(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function sd(e,t,n){let r;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),sl.prototype),r}function sp(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function sm(e,t){if(sl.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||sF(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return sO(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return sM(e).length;default:if(i)return r?-1:sO(e).length;t=(""+t).toLowerCase(),i=!0}}function sg(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0||(n>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,n){let r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=t;r<n;++r)i+=sV[e[r]];return i}(this,t,n);case"utf8":case"utf-8":return sb(this,t,n);case"ascii":return function(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}(this,t,n);case"latin1":case"binary":return function(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}(this,t,n);case"base64":var i,a;return i=t,a=n,0===i&&a===this.length?U(this):U(this.slice(i,a));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,n){let r=e.slice(t,n),i="";for(let e=0;e<r.length-1;e+=2)i+=String.fromCharCode(r[e]+256*r[e+1]);return i}(this,t,n);default:if(r)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function sy(e,t,n){let r=e[t];e[t]=e[n],e[n]=r}function sv(e,t,n,r,i){var a;if(0===e.length)return -1;if("string"==typeof n?(r=n,n=0):n>0x7fffffff?n=0x7fffffff:n<-0x80000000&&(n=-0x80000000),(a=n=+n)!=a&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return -1;n=e.length-1}else if(n<0){if(!i)return -1;n=0}if("string"==typeof t&&(t=sl.from(t,r)),sl.isBuffer(t))return 0===t.length?-1:sw(e,t,n,r,i);if("number"==typeof t)return(t&=255,"function"==typeof Uint8Array.prototype.indexOf)?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):sw(e,[t],n,r,i);throw TypeError("val must be string, number or Buffer")}function sw(e,t,n,r,i){let a,s=1,o=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return -1;s=2,o/=2,l/=2,n/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let r=-1;for(a=n;a<o;a++)if(u(e,a)===u(t,-1===r?0:a-r)){if(-1===r&&(r=a),a-r+1===l)return r*s}else -1!==r&&(a-=a-r),r=-1}else for(n+l>o&&(n=o-l),a=n;a>=0;a--){let n=!0;for(let r=0;r<l;r++)if(u(e,a+r)!==u(t,r)){n=!1;break}if(n)return a}return -1}function sb(e,t,n){n=Math.min(e.length,n);let r=[],i=t;for(;i<n;){let t=e[i],a=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=n){let n,r,o,l;switch(s){case 1:t<128&&(a=t);break;case 2:(192&(n=e[i+1]))==128&&(l=(31&t)<<6|63&n)>127&&(a=l);break;case 3:n=e[i+1],r=e[i+2],(192&n)==128&&(192&r)==128&&(l=(15&t)<<12|(63&n)<<6|63&r)>2047&&(l<55296||l>57343)&&(a=l);break;case 4:n=e[i+1],r=e[i+2],o=e[i+3],(192&n)==128&&(192&r)==128&&(192&o)==128&&(l=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&o)>65535&&l<1114112&&(a=l)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return function(e){let t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}function sE(e,t,n){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>n)throw RangeError("Trying to access beyond buffer length")}function s_(e,t,n,r,i,a){if(!sl.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw RangeError('"value" argument is out of bounds');if(n+r>e.length)throw RangeError("Index out of range")}function sS(e,t,n,r,i){sA(t,r,i,e,n,7);let a=Number(t&BigInt(0xffffffff));e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a;let s=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,n}function sk(e,t,n,r,i){sA(t,r,i,e,n,7);let a=Number(t&BigInt(0xffffffff));e[n+7]=a,a>>=8,e[n+6]=a,a>>=8,e[n+5]=a,a>>=8,e[n+4]=a;let s=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[n+3]=s,s>>=8,e[n+2]=s,s>>=8,e[n+1]=s,s>>=8,e[n]=s,n+8}function sT(e,t,n,r,i,a){if(n+r>e.length||n<0)throw RangeError("Index out of range")}function sx(e,t,n,r,i){return t=+t,n>>>=0,i||sT(e,t,n,4,34028234663852886e22,-34028234663852886e22),V(e,t,n,r,23,4),n+4}function sI(e,t,n,r,i){return t=+t,n>>>=0,i||sT(e,t,n,8,17976931348623157e292,-17976931348623157e292),V(e,t,n,r,52,8),n+8}sl.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),sl.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(sl.prototype,"parent",{enumerable:!0,get:function(){if(sl.isBuffer(this))return this.buffer}}),Object.defineProperty(sl.prototype,"offset",{enumerable:!0,get:function(){if(sl.isBuffer(this))return this.byteOffset}}),sl.poolSize=8192,sl.from=function(e,t,n){return su(e,t,n)},Object.setPrototypeOf(sl.prototype,Uint8Array.prototype),Object.setPrototypeOf(sl,Uint8Array),sl.alloc=function(e,t,n){return(sc(e),e<=0)?so(e):void 0!==t?"string"==typeof n?so(e).fill(t,n):so(e).fill(t):so(e)},sl.allocUnsafe=function(e){return sh(e)},sl.allocUnsafeSlow=function(e){return sh(e)},sl.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==sl.prototype},sl.compare=function(e,t){if(sF(e,Uint8Array)&&(e=sl.from(e,e.offset,e.byteLength)),sF(t,Uint8Array)&&(t=sl.from(t,t.offset,t.byteLength)),!sl.isBuffer(e)||!sl.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},sl.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},sl.concat=function(e,t){let n;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return sl.alloc(0);if(void 0===t)for(n=0,t=0;n<e.length;++n)t+=e[n].length;let r=sl.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){let t=e[n];if(sF(t,Uint8Array))i+t.length>r.length?(sl.isBuffer(t)||(t=sl.from(t)),t.copy(r,i)):Uint8Array.prototype.set.call(r,t,i);else if(sl.isBuffer(t))t.copy(r,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=t.length}return r},sl.byteLength=sm,sl.prototype._isBuffer=!0,sl.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)sy(this,t,t+1);return this},sl.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)sy(this,t,t+3),sy(this,t+1,t+2);return this},sl.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)sy(this,t,t+7),sy(this,t+1,t+6),sy(this,t+2,t+5),sy(this,t+3,t+4);return this},sl.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?sb(this,0,e):sg.apply(this,arguments)},sl.prototype.toLocaleString=sl.prototype.toString,sl.prototype.equals=function(e){if(!sl.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===sl.compare(this,e)},sl.prototype.inspect=function(){let e="";return e=this.toString("hex",0,50).replace(/(.{2})/g,"$1 ").trim(),this.length>50&&(e+=" ... "),"<Buffer "+e+">"},ss&&(sl.prototype[ss]=sl.prototype.inspect),sl.prototype.compare=function(e,t,n,r,i){if(sF(e,Uint8Array)&&(e=sl.from(e,e.offset,e.byteLength)),!sl.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return -1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;let a=i-r,s=n-t,o=Math.min(a,s),l=this.slice(r,i),u=e.slice(t,n);for(let e=0;e<o;++e)if(l[e]!==u[e]){a=l[e],s=u[e];break}return a<s?-1:s<a?1:0},sl.prototype.includes=function(e,t,n){return -1!==this.indexOf(e,t,n)},sl.prototype.indexOf=function(e,t,n){return sv(this,e,t,n,!0)},sl.prototype.lastIndexOf=function(e,t,n){return sv(this,e,t,n,!1)},sl.prototype.write=function(e,t,n,r){var i,a,s,o,l,u,c,h;if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let f=this.length-t;if((void 0===n||n>f)&&(n=f),e.length>0&&(n<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let d=!1;for(;;)switch(r){case"hex":return function(e,t,n,r){let i;n=Number(n)||0;let a=e.length-n;r?(r=Number(r))>a&&(r=a):r=a;let s=t.length;for(r>s/2&&(r=s/2),i=0;i<r;++i){let r=parseInt(t.substr(2*i,2),16);if(r!=r)break;e[n+i]=r}return i}(this,e,t,n);case"utf8":case"utf-8":return i=t,a=n,sU(sO(e,this.length-i),this,i,a);case"ascii":case"latin1":case"binary":return s=t,o=n,sU(function(e){let t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(e),this,s,o);case"base64":return l=t,u=n,sU(sM(e),this,l,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c=t,h=n,sU(function(e,t){let n,r;let i=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i.push(n%256),i.push(r);return i}(e,this.length-c),this,c,h);default:if(d)throw TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),d=!0}},sl.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},sl.prototype.slice=function(e,t){let n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);let r=this.subarray(e,t);return Object.setPrototypeOf(r,sl.prototype),r},sl.prototype.readUintLE=sl.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||sE(e,t,this.length);let r=this[e],i=1,a=0;for(;++a<t&&(i*=256);)r+=this[e+a]*i;return r},sl.prototype.readUintBE=sl.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||sE(e,t,this.length);let r=this[e+--t],i=1;for(;t>0&&(i*=256);)r+=this[e+--t]*i;return r},sl.prototype.readUint8=sl.prototype.readUInt8=function(e,t){return e>>>=0,t||sE(e,1,this.length),this[e]},sl.prototype.readUint16LE=sl.prototype.readUInt16LE=function(e,t){return e>>>=0,t||sE(e,2,this.length),this[e]|this[e+1]<<8},sl.prototype.readUint16BE=sl.prototype.readUInt16BE=function(e,t){return e>>>=0,t||sE(e,2,this.length),this[e]<<8|this[e+1]},sl.prototype.readUint32LE=sl.prototype.readUInt32LE=function(e,t){return e>>>=0,t||sE(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},sl.prototype.readUint32BE=sl.prototype.readUInt32BE=function(e,t){return e>>>=0,t||sE(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},sl.prototype.readBigUInt64LE=sj(function(e){sP(e>>>=0,"offset");let t=this[e],n=this[e+7];(void 0===t||void 0===n)&&sD(e,this.length-8);let r=t+256*this[++e]+65536*this[++e]+0x1000000*this[++e],i=this[++e]+256*this[++e]+65536*this[++e]+0x1000000*n;return BigInt(r)+(BigInt(i)<<BigInt(32))}),sl.prototype.readBigUInt64BE=sj(function(e){sP(e>>>=0,"offset");let t=this[e],n=this[e+7];(void 0===t||void 0===n)&&sD(e,this.length-8);let r=0x1000000*t+65536*this[++e]+256*this[++e]+this[++e],i=0x1000000*this[++e]+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)}),sl.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||sE(e,t,this.length);let r=this[e],i=1,a=0;for(;++a<t&&(i*=256);)r+=this[e+a]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},sl.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||sE(e,t,this.length);let r=t,i=1,a=this[e+--r];for(;r>0&&(i*=256);)a+=this[e+--r]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},sl.prototype.readInt8=function(e,t){return(e>>>=0,t||sE(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},sl.prototype.readInt16LE=function(e,t){e>>>=0,t||sE(e,2,this.length);let n=this[e]|this[e+1]<<8;return 32768&n?0xffff0000|n:n},sl.prototype.readInt16BE=function(e,t){e>>>=0,t||sE(e,2,this.length);let n=this[e+1]|this[e]<<8;return 32768&n?0xffff0000|n:n},sl.prototype.readInt32LE=function(e,t){return e>>>=0,t||sE(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},sl.prototype.readInt32BE=function(e,t){return e>>>=0,t||sE(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},sl.prototype.readBigInt64LE=sj(function(e){sP(e>>>=0,"offset");let t=this[e],n=this[e+7];return(void 0===t||void 0===n)&&sD(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+0x1000000*this[++e])}),sl.prototype.readBigInt64BE=sj(function(e){sP(e>>>=0,"offset");let t=this[e],n=this[e+7];return(void 0===t||void 0===n)&&sD(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(0x1000000*this[++e]+65536*this[++e]+256*this[++e]+n)}),sl.prototype.readFloatLE=function(e,t){return e>>>=0,t||sE(e,4,this.length),F(this,e,!0,23,4)},sl.prototype.readFloatBE=function(e,t){return e>>>=0,t||sE(e,4,this.length),F(this,e,!1,23,4)},sl.prototype.readDoubleLE=function(e,t){return e>>>=0,t||sE(e,8,this.length),F(this,e,!0,52,8)},sl.prototype.readDoubleBE=function(e,t){return e>>>=0,t||sE(e,8,this.length),F(this,e,!1,52,8)},sl.prototype.writeUintLE=sl.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){let r=Math.pow(2,8*n)-1;s_(this,e,t,n,r,0)}let i=1,a=0;for(this[t]=255&e;++a<n&&(i*=256);)this[t+a]=e/i&255;return t+n},sl.prototype.writeUintBE=sl.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){let r=Math.pow(2,8*n)-1;s_(this,e,t,n,r,0)}let i=n-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+n},sl.prototype.writeUint8=sl.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||s_(this,e,t,1,255,0),this[t]=255&e,t+1},sl.prototype.writeUint16LE=sl.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||s_(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},sl.prototype.writeUint16BE=sl.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||s_(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},sl.prototype.writeUint32LE=sl.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||s_(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},sl.prototype.writeUint32BE=sl.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||s_(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},sl.prototype.writeBigUInt64LE=sj(function(e,t=0){return sS(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),sl.prototype.writeBigUInt64BE=sj(function(e,t=0){return sk(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),sl.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){let r=Math.pow(2,8*n-1);s_(this,e,t,n,r-1,-r)}let i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},sl.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){let r=Math.pow(2,8*n-1);s_(this,e,t,n,r-1,-r)}let i=n-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},sl.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||s_(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},sl.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||s_(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},sl.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||s_(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},sl.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||s_(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},sl.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||s_(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},sl.prototype.writeBigInt64LE=sj(function(e,t=0){return sS(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),sl.prototype.writeBigInt64BE=sj(function(e,t=0){return sk(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),sl.prototype.writeFloatLE=function(e,t,n){return sx(this,e,t,!0,n)},sl.prototype.writeFloatBE=function(e,t,n){return sx(this,e,t,!1,n)},sl.prototype.writeDoubleLE=function(e,t,n){return sI(this,e,t,!0,n)},sl.prototype.writeDoubleBE=function(e,t,n){return sI(this,e,t,!1,n)},sl.prototype.copy=function(e,t,n,r){if(!sl.isBuffer(e))throw TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw RangeError("Index out of range");if(r<0)throw RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);let i=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},sl.prototype.fill=function(e,t,n,r){let i;if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw TypeError("encoding must be a string");if("string"==typeof r&&!sl.isEncoding(r))throw TypeError("Unknown encoding: "+r);if(1===e.length){let t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw RangeError("Out of range index");if(n<=t)return this;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{let a=sl.isBuffer(e)?e:sl.from(e,r),s=a.length;if(0===s)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=a[i%s]}return this};const sC={};function sR(e,t,n){sC[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function sN(e){let t="",n=e.length,r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function sA(e,t,n,r,i,a){if(e>n||e<t){let r;let i="bigint"==typeof t?"n":"";throw r=a>3?0===t||t===BigInt(0)?`>= 0${i} and < 2${i} ** ${(a+1)*8}${i}`:`>= -(2${i} ** ${(a+1)*8-1}${i}) and < 2 ** ${(a+1)*8-1}${i}`:`>= ${t}${i} and <= ${n}${i}`,new sC.ERR_OUT_OF_RANGE("value",r,e)}sP(i,"offset"),(void 0===r[i]||void 0===r[i+a])&&sD(i,r.length-(a+1))}function sP(e,t){if("number"!=typeof e)throw new sC.ERR_INVALID_ARG_TYPE(t,"number",e)}function sD(e,t,n){if(Math.floor(e)!==e)throw sP(e,n),new sC.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new sC.ERR_BUFFER_OUT_OF_BOUNDS;throw new sC.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}sR("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),sR("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),sR("ERR_OUT_OF_RANGE",function(e,t,n){let r=`The value of "${e}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>0x100000000?i=sN(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=sN(i)),i+="n"),r+=` It must be ${t}. Received ${i}`},RangeError);const sL=/[^+/0-9A-Za-z-_]/g;function sO(e,t){let n;t=t||1/0;let r=e.length,i=null,a=[];for(let s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319||s+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else if(n<1114112){if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}else throw Error("Invalid code point")}return a}function sM(e){return M(function(e){if((e=(e=e.split("=")[0]).trim().replace(sL,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function sU(e,t,n,r){let i;for(i=0;i<r&&!(i+n>=t.length)&&!(i>=e.length);++i)t[i+n]=e[i];return i}function sF(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}const sV=function(){let e="0123456789abcdef",t=Array(256);for(let n=0;n<16;++n){let r=16*n;for(let i=0;i<16;++i)t[r+i]=e[n]+e[i]}return t}();function sj(e){return"undefined"==typeof BigInt?sB:e}function sB(){throw Error("BigInt not supported")}const sz="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s${constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}s$.UNAUTHENTICATED=new s$(null),s$.GOOGLE_CREDENTIALS=new s$("google-credentials-uid"),s$.FIRST_PARTY=new s$("first-party-uid"),s$.MOCK_USER=new s$("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sq="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sH=new nk("@firebase/firestore");function sW(){return sH.logLevel}function sK(e,...t){if(sH.logLevel<=T.DEBUG){let n=t.map(sY);sH.debug(`Firestore (${sq}): ${e}`,...n)}}function sG(e,...t){if(sH.logLevel<=T.ERROR){let n=t.map(sY);sH.error(`Firestore (${sq}): ${e}`,...n)}}function sQ(e,...t){if(sH.logLevel<=T.WARN){let n=t.map(sY);sH.warn(`Firestore (${sq}): ${e}`,...n)}}function sY(e){if("string"==typeof e)return e;try{/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */return JSON.stringify(e)}catch(t){return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sX(e="Unexpected state"){let t=`FIRESTORE (${sq}) INTERNAL ASSERTION FAILED: `+e;throw sG(t),Error(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sJ={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class sZ extends ni{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class s2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(s$.UNAUTHENTICATED))}shutdown(){}}class s3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class s4{constructor(e){this.t=e,this.currentUser=s$.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){void 0===this.o||sX();let n=this.i,r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve(),i=new s0;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new s0,e.enqueueRetryable(()=>r(this.currentUser))};let a=()=>{let t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},s=e=>{sK("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(e=>s(e)),setTimeout(()=>{if(!this.auth){let e=this.t.getImmediate({optional:!0});e?s(e):(sK("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new s0)}},0),a()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(sK("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?("string"==typeof t.accessToken||sX(),new s1(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return null===e||"string"==typeof e||sX(),new s$(e)}}class s6{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=s$.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);let e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class s5{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new s6(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(s$.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class s8{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class s7{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){void 0===this.o||sX();let n=e=>{null!=e.error&&sK("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);let n=e.token!==this.R;return this.R=e.token,sK("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};let r=e=>{sK("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){let e=this.A.getImmediate({optional:!0});e?r(e):sK("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?("string"==typeof e.token||sX(),this.R=e.token,new s8(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";for(;n.length<20;){let r=/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){let t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(40);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let e=0;e<40;e++)n[e]=Math.floor(256*Math.random());return n}(0);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function oe(e,t){return e<t?-1:e>t?1:0}function ot(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{static now(){return on.fromMillis(Date.now())}static fromDate(e){return on.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new on(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0||t>=1e9)throw new sZ(sJ.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-0xe7791f700||e>=0x3afff44180)throw new sZ(sJ.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?oe(this.nanoseconds,e.nanoseconds):oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -0xe7791f700).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{static fromTimestamp(e){return new or(e)}static min(){return new or(new on(0,0))}static max(){return new or(new on(0x3afff4417f,0x3b9ac9ff))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e,t,n){void 0===t?t=0:t>e.length&&sX(),void 0===n?n=e.length-t:n>e.length-t&&sX(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===oi.comparator(this,e)}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof oi?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let n=Math.min(e.length,t.length);for(let r=0;r<n;r++){let n=e.get(r),i=t.get(r);if(n<i)return -1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class oa extends oi{construct(e,t,n){return new oa(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let n of e){if(n.indexOf("//")>=0)throw new sZ(sJ.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new oa(t)}static emptyPath(){return new oa([])}}const os=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class oo extends oi{construct(e,t,n){return new oo(e,t,n)}static isValidIdentifier(e){return os.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),oo.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new oo(["__name__"])}static fromServerFormat(e){let t=[],n="",r=0,i=()=>{if(0===n.length)throw new sZ(sJ.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""},a=!1;for(;r<e.length;){let t=e[r];if("\\"===t){if(r+1===e.length)throw new sZ(sJ.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new sZ(sJ.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?a=!a:"."!==t||a?n+=t:i(),r++}if(i(),a)throw new sZ(sJ.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new oo(t)}static emptyPath(){return new oo([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e){this.path=e}static fromPath(e){return new ol(oa.fromString(e))}static fromName(e){return new ol(oa.fromString(e).popFirst(5))}static empty(){return new ol(oa.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===oa.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return oa.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ol(new oa(e.slice()))}}class ou{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ou(or.min(),ol.empty(),-1)}static max(){return new ou(or.max(),ol.empty(),-1)}}class oc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oh(e){if(e.code!==sJ.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==e.message)throw e;sK("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&sX(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new of((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof of?t:of.resolve(t)}catch(e){return of.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):of.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):of.reject(t)}static resolve(e){return new of((t,n)=>{t(e)})}static reject(e){return new of((t,n)=>{n(e)})}static waitFor(e){return new of((t,n)=>{let r=0,i=0,a=!1;e.forEach(e=>{++r,e.next(()=>{++i,a&&i===r&&t()},e=>n(e))}),a=!0,i===r&&t()})}static or(e){let t=of.resolve(!1);for(let n of e)t=t.next(e=>e?of.resolve(e):n());return t}static forEach(e,t){let n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new of((n,r)=>{let i=e.length,a=Array(i),s=0;for(let o=0;o<i;o++){let l=o;t(e[l]).next(e=>{a[l]=e,++s===i&&n(a)},e=>r(e))}})}static doWhile(e,t){return new of((n,r)=>{let i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function od(e){return"IndexedDbTransactionError"===e.name}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.se&&this.se(e),e}}function om(e){return 0===e&&1/e==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(e){let t=0;for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function oy(e,t){for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ov(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}op.oe=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,t){this.comparator=e,this.root=t||oE.EMPTY}insert(e,t){return new ow(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,oE.BLACK,null,null))}remove(e){return new ow(this.comparator,this.root.remove(e,this.comparator).copy(null,null,oE.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return -1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){let e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ob(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ob(this.root,e,this.comparator,!1)}getReverseIterator(){return new ob(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ob(this.root,e,this.comparator,!0)}}class ob{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class oE{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:oE.RED,this.left=null!=r?r:oE.EMPTY,this.right=null!=i?i:oE.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new oE(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}removeMin(){if(this.left.isEmpty())return oE.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()}remove(e,t){let n,r=this;if(0>t(e,r.key))r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return oE.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}rotateLeft(){let e=this.copy(null,null,oE.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,oE.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){return Math.pow(2,this.check())<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw sX();let e=this.left.check();if(e!==this.right.check())throw sX();return e+(this.isRed()?0:1)}}oE.EMPTY=null,oE.RED=!0,oE.BLACK=!1,oE.EMPTY=new class{constructor(){this.size=0}get key(){throw sX()}get value(){throw sX()}get color(){throw sX()}get left(){throw sX()}get right(){throw sX()}copy(e,t,n,r,i){return this}insert(e,t,n){return new oE(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e){this.comparator=e,this.data=new ow(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){let n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){let r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new oS(this.data.getIterator())}getIteratorFrom(e){return new oS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof o_)||this.size!==e.size)return!1;let t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){let e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new o_(this.comparator);return t.data=e,t}}class oS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e){this.fields=e,e.sort(oo.comparator)}static empty(){return new ok([])}unionWith(e){let t=new o_(oo.comparator);for(let e of this.fields)t=t.add(e);for(let n of e)t=t.add(n);return new ok(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ot(this.fields,e.fields,(e,t)=>e.isEqual(t))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e){this.binaryString=e}static fromBase64String(e){return new ox(function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new oT("Invalid base64 string: "+e):e}}(e))}static fromUint8Array(e){return new ox(function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e))}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){let t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ox.EMPTY_BYTE_STRING=new ox("");const oI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oC(e){if(e||sX(),"string"==typeof e){let t=0,n=oI.exec(e);if(n||sX(),n[1]){let e=n[1];t=Number(e=(e+"000000000").substr(0,9))}return{seconds:Math.floor(new Date(e).getTime()/1e3),nanos:t}}return{seconds:oR(e.seconds),nanos:oR(e.nanos)}}function oR(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function oN(e){return"string"==typeof e?ox.fromBase64String(e):ox.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function oP(e){let t=e.mapValue.fields.__previous_value__;return oA(t)?oP(t):t}function oD(e){let t=oC(e.mapValue.fields.__local_write_time__.timestampValue);return new on(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e,t,n,r,i,a,s,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=o,this.useFetchStreams=l}}class oO{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new oO("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof oO&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function oU(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?oA(e)?4:oX(e)?0x1fffffffffffff:oQ(e)?10:11:sX()}function oF(e,t){if(e===t)return!0;let n=oU(e);if(n!==oU(t))return!1;switch(n){case 0:case 0x1fffffffffffff:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return oD(e).isEqual(oD(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;let n=oC(e.timestampValue),r=oC(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return oN(e.bytesValue).isEqual(oN(t.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return oR(e.geoPointValue.latitude)===oR(t.geoPointValue.latitude)&&oR(e.geoPointValue.longitude)===oR(t.geoPointValue.longitude);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return oR(e.integerValue)===oR(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){let n=oR(e.doubleValue),r=oR(t.doubleValue);return n===r?om(n)===om(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ot(e.arrayValue.values||[],t.arrayValue.values||[],oF);case 10:case 11:return function(e,t){let n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(og(n)!==og(r))return!1;for(let e in n)if(n.hasOwnProperty(e)&&(void 0===r[e]||!oF(n[e],r[e])))return!1;return!0}(e,t);default:return sX()}}function oV(e,t){return void 0!==(e.values||[]).find(e=>oF(e,t))}function oj(e,t){if(e===t)return 0;let n=oU(e),r=oU(t);if(n!==r)return oe(n,r);switch(n){case 0:case 0x1fffffffffffff:return 0;case 1:return oe(e.booleanValue,t.booleanValue);case 2:return function(e,t){let n=oR(e.integerValue||e.doubleValue),r=oR(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return oB(e.timestampValue,t.timestampValue);case 4:return oB(oD(e),oD(t));case 5:return oe(e.stringValue,t.stringValue);case 6:return function(e,t){let n=oN(e),r=oN(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){let n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){let t=oe(n[e],r[e]);if(0!==t)return t}return oe(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){let n=oe(oR(e.latitude),oR(t.latitude));return 0!==n?n:oe(oR(e.longitude),oR(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return oz(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,a;let s=e.fields||{},o=t.fields||{},l=null===(n=s.value)||void 0===n?void 0:n.arrayValue,u=null===(r=o.value)||void 0===r?void 0:r.arrayValue,c=oe((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(a=null==u?void 0:u.values)||void 0===a?void 0:a.length)||0);return 0!==c?c:oz(l,u)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===oM.mapValue&&t===oM.mapValue)return 0;if(e===oM.mapValue)return 1;if(t===oM.mapValue)return -1;let n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let e=0;e<r.length&&e<a.length;++e){let t=oe(r[e],a[e]);if(0!==t)return t;let s=oj(n[r[e]],i[a[e]]);if(0!==s)return s}return oe(r.length,a.length)}(e.mapValue,t.mapValue);default:throw sX()}}function oB(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return oe(e,t);let n=oC(e),r=oC(t),i=oe(n.seconds,r.seconds);return 0!==i?i:oe(n.nanos,r.nanos)}function oz(e,t){let n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){let t=oj(n[e],r[e]);if(t)return t}return oe(n.length,r.length)}function o$(e){var t,n;return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){let t=oC(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?oN(e.bytesValue).toBase64():"referenceValue"in e?(t=e.referenceValue,ol.fromName(t).toString()):"geoPointValue"in e?(n=e.geoPointValue,`geo(${n.latitude},${n.longitude})`):"arrayValue"in e?function(e){let t="[",n=!0;for(let r of e.values||[])n?n=!1:t+=",",t+=o$(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){let t=Object.keys(e.fields||{}).sort(),n="{",r=!0;for(let i of t)r?r=!1:n+=",",n+=`${i}:${o$(e.fields[i])}`;return n+"}"}(e.mapValue):sX()}function oq(e){return!!e&&"integerValue"in e}function oH(e){return!!e&&"arrayValue"in e}function oW(e){return!!e&&"nullValue"in e}function oK(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function oG(e){return!!e&&"mapValue"in e}function oQ(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function oY(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){let t={mapValue:{fields:{}}};return oy(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=oY(n)),t}if(e.arrayValue){let t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=oY(e.arrayValue.values[n]);return t}return Object.assign({},e)}function oX(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oJ{constructor(e){this.value=e}static empty(){return new oJ({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(!oG(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=oY(t)}setAll(e){let t=oo.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){let e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=oY(e):r.push(i.lastSegment())});let i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){let t=this.field(e.popLast());oG(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return oF(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];oG(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){for(let r of(oy(t,(t,n)=>e[t]=n),n))delete e[r]}clone(){return new oJ(oY(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oZ{constructor(e,t,n,r,i,a,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=s}static newInvalidDocument(e){return new oZ(e,0,or.min(),or.min(),or.min(),oJ.empty(),0)}static newFoundDocument(e,t,n,r){return new oZ(e,1,t,or.min(),n,r,0)}static newNoDocument(e,t){return new oZ(e,2,t,or.min(),or.min(),oJ.empty(),0)}static newUnknownDocument(e,t){return new oZ(e,3,t,or.min(),or.min(),oJ.empty(),2)}convertToFoundDocument(e,t){return this.createTime.isEqual(or.min())&&(2===this.documentType||0===this.documentType)&&(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=oJ.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=oJ.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=or.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof oZ&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new oZ(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,t){this.position=e,this.inclusive=t}}function o1(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){let a=t[i],s=e.position[i];if(r=a.field.isKeyField()?ol.comparator(ol.fromName(s.referenceValue),n.key):oj(s,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function o2(e,t){if(null===e)return null===t;if(null===t||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!oF(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e,t="asc"){this.field=e,this.dir=t}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{}class o6 extends o4{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new o9(e,t,n):"array-contains"===t?new lr(e,n):"in"===t?new li(e,n):"not-in"===t?new la(e,n):"array-contains-any"===t?new ls(e,n):new o6(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new le(e,n):new lt(e,n)}matches(e){let t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(oj(t,this.value)):null!==t&&oU(this.value)===oU(t)&&this.matchesComparison(oj(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return sX()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class o5 extends o4{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new o5(e,t)}matches(e){return o8(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function o8(e){return"and"===e.op}function o7(e){for(let t of e.filters)if(t instanceof o5)return!1;return!0}class o9 extends o6{constructor(e,t,n){super(e,t,n),this.key=ol.fromName(n.referenceValue)}matches(e){let t=ol.comparator(e.key,this.key);return this.matchesComparison(t)}}class le extends o6{constructor(e,t){super(e,"in",t),this.keys=ln("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class lt extends o6{constructor(e,t){super(e,"not-in",t),this.keys=ln("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ln(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>ol.fromName(e.referenceValue))}class lr extends o6{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return oH(t)&&oV(t.arrayValue,this.value)}}class li extends o6{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return null!==t&&oV(this.value.arrayValue,t)}}class la extends o6{constructor(e,t){super(e,"not-in",t)}matches(e){if(oV(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return null!==t&&!oV(this.value.arrayValue,t)}}class ls extends o6{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!oH(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>oV(this.value.arrayValue,e))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,t=null,n=[],r=[],i=null,a=null,s=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=s,this.ue=null}}function ll(e,t=null,n=[],r=[],i=null,a=null,s=null){return new lo(e,t,n,r,i,a,s)}function lu(e){if(null===e.ue){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(e=>(function e(t){if(t instanceof o6)return t.field.canonicalString()+t.op.toString()+o$(t.value);if(o7(t)&&o8(t))return t.filters.map(t=>e(t)).join(",");{let n=t.filters.map(t=>e(t)).join(",");return`${t.op}(${n})`}})(e)).join(","),t+="|ob:",t+=e.orderBy.map(e=>e.field.canonicalString()+e.dir).join(","),null==e.limit||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>o$(e)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>o$(e)).join(",")),e.ue=t}return e.ue}function lc(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++){var n,r;if(n=e.orderBy[i],r=t.orderBy[i],!(n.dir===r.dir&&n.field.isEqual(r.field)))return!1}if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!function e(t,n){return t instanceof o6?n instanceof o6&&t.op===n.op&&t.field.isEqual(n.field)&&oF(t.value,n.value):t instanceof o5?n instanceof o5&&t.op===n.op&&t.filters.length===n.filters.length&&t.filters.reduce((t,r,i)=>t&&e(r,n.filters[i]),!0):void sX()}(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!o2(e.startAt,t.startAt)&&o2(e.endAt,t.endAt)}function lh(e){return ol.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,t=null,n=[],r=[],i=null,a="F",s=null,o=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=s,this.endAt=o,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function ld(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function lp(e){if(null===e.ce){let t;e.ce=[];let n=new Set;for(let t of e.explicitOrderBy)e.ce.push(t),n.add(t.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(t=new o_(oo.comparator),e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t).forEach(t=>{n.has(t.canonicalString())||t.isKeyField()||e.ce.push(new o3(t,r))}),n.has(oo.keyField().canonicalString())||e.ce.push(new o3(oo.keyField(),r))}return e.ce}function lm(e){return e.le||(e.le=function(e,t){if("F"===e.limitType)return ll(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{let t="desc"===e.dir?"asc":"desc";return new o3(e.field,t)});let n=e.endAt?new o0(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new o0(e.startAt.position,e.startAt.inclusive):null;return ll(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}(e,lp(e))),e.le}function lg(e,t,n){return new lf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ly(e,t){return lc(lm(e),lm(t))&&e.limitType===t.limitType}function lv(e){return`${lu(lm(e))}|lt:${e.limitType}`}function lw(e){var t;let n;return`Query(target=${n=(t=lm(e)).path.canonicalString(),null!==t.collectionGroup&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(e=>(function e(t){return t instanceof o6?`${t.field.canonicalString()} ${t.op} ${o$(t.value)}`:t instanceof o5?t.op.toString()+" {"+t.getFilters().map(e).join(" ,")+"}":"Filter"})(e)).join(", ")}]`),null==t.limit||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(e=>`${e.field.canonicalString()} (${e.dir})`).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(e=>o$(e)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(e=>o$(e)).join(",")),`Target(${n})`}; limitType=${e.limitType})`}function lb(e,t){return t.isFoundDocument()&&function(e,t){let n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ol.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(let n of lp(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(let n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&(!e.startAt||!!function(e,t,n){let r=o1(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,lp(e),t))&&(!e.endAt||!!function(e,t,n){let r=o1(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,lp(e),t))}function lE(e){return(t,n)=>{let r=!1;for(let i of lp(e)){let e=function(e,t,n){let r=e.field.isKeyField()?ol.comparator(t.key,n.key):function(e,t,n){let r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?oj(r,i):sX()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return -1*r;default:return sX()}}(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){for(let[t,r]of n)if(this.equalsFn(t,e))return r}}has(e){return void 0!==this.get(e)}set(e,t){let n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){oy(this.inner,(t,n)=>{for(let[t,r]of n)e(t,r)})}isEmpty(){return ov(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS=new ow(ol.comparator),lk=new ow(ol.comparator);function lT(...e){let t=lk;for(let n of e)t=t.insert(n.key,n);return t}function lx(e){let t=lk;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function lI(){return new l_(e=>e.toString(),(e,t)=>e.isEqual(t))}const lC=new ow(ol.comparator),lR=new o_(ol.comparator);function lN(...e){let t=lR;for(let n of e)t=t.add(n);return t}const lA=new o_(oe);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lP(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:om(t)?"-0":t}}function lD(e){return{integerValue:""+e}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(){this._=void 0}}function lO(e,t){return e instanceof lB?oq(t)||t&&"doubleValue"in t?t:{integerValue:0}:null}class lM extends lL{}class lU extends lL{constructor(e){super(),this.elements=e}}function lF(e,t){let n=l$(t);for(let t of e.elements)n.some(e=>oF(e,t))||n.push(t);return{arrayValue:{values:n}}}class lV extends lL{constructor(e){super(),this.elements=e}}function lj(e,t){let n=l$(t);for(let t of e.elements)n=n.filter(e=>!oF(e,t));return{arrayValue:{values:n}}}class lB extends lL{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function lz(e){return oR(e.integerValue||e.doubleValue)}function l$(e){return oH(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class lq{constructor(e,t){this.version=e,this.transformResults=t}}class lH{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new lH}static exists(e){return new lH(void 0,e)}static updateTime(e){return new lH(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lW(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class lK{}function lG(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new l2(e.key,lH.none()):new lX(e.key,e.data,lH.none());{let n=e.data,r=oJ.empty(),i=new o_(oo.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new lJ(e.key,r,new ok(i.toArray()),lH.none())}}function lQ(e,t,n,r){return e instanceof lX?function(e,t,n,r){if(!lW(e.precondition,t))return n;let i=e.value.clone(),a=l1(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof lJ?function(e,t,n,r){if(!lW(e.precondition,t))return n;let i=l1(e.fieldTransforms,r,t),a=t.data;return(a.setAll(lZ(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n)?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):lW(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}function lY(e,t){var n,r;return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(n=e.fieldTransforms,r=t.fieldTransforms,!!(void 0===n&&void 0===r||!(!n||!r)&&ot(n,r,(e,t)=>{var n,r;return e.field.isEqual(t.field)&&(n=e.transform,r=t.transform,n instanceof lU&&r instanceof lU||n instanceof lV&&r instanceof lV?ot(n.elements,r.elements,oF):n instanceof lB&&r instanceof lB?oF(n.Pe,r.Pe):n instanceof lM&&r instanceof lM)})))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class lX extends lK{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class lJ extends lK{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function lZ(e){let t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=e.data.field(n);t.set(n,r)}}),t}function l0(e,t,n){var r;let i=new Map;e.length===n.length||sX();for(let a=0;a<n.length;a++){let s=e[a],o=s.transform,l=t.data.field(s.field);i.set(s.field,(r=n[a],o instanceof lU?lF(o,l):o instanceof lV?lj(o,l):r))}return i}function l1(e,t,n){let r=new Map;for(let i of e){let e=i.transform,a=n.data.field(i.field);r.set(i.field,e instanceof lM?function(e,t){let n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&oA(t)&&(t=oP(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(t,a):e instanceof lU?lF(e,a):e instanceof lV?lj(e,a):function(e,t){let n=lO(e,t),r=lz(n)+lz(e.Pe);return oq(n)&&oq(e.Pe)?lD(r):lP(e.serializer,r)}(e,a))}return r}class l2 extends lK{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class l3 extends lK{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){let n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){let i=this.mutations[t];if(i.key.isEqual(e.key)){var r;r=n[t],i instanceof lX?function(e,t,n){let r=e.value.clone(),i=l0(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(i,e,r):i instanceof lJ?function(e,t,n){if(!lW(e.precondition,t))return void t.convertToUnknownDocument(n.version);let r=l0(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(lZ(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(i,e,r):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,r)}}}applyToLocalView(e,t){for(let n of this.baseMutations)n.key.isEqual(e.key)&&(t=lQ(n,e,t,this.localWriteTime));for(let n of this.mutations)n.key.isEqual(e.key)&&(t=lQ(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let n=lI();return this.mutations.forEach(r=>{let i=e.get(r.key),a=i.overlayedDocument,s=this.applyToLocalView(a,i.mutatedFields),o=lG(a,s=t.has(r.key)?null:s);null!==o&&n.set(r.key,o),a.isValidDocument()||a.convertToNoDocument(or.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),lN())}isEqual(e){return this.batchId===e.batchId&&ot(this.mutations,e.mutations,(e,t)=>lY(e,t))&&ot(this.baseMutations,e.baseMutations,(e,t)=>lY(e,t))}}class l6{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){e.mutations.length===n.length||sX();let r=lC,i=e.mutations;for(let e=0;e<i.length;e++)r=r.insert(i[e].key,n[e].version);return new l6(e,t,n,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l8{constructor(e,t){this.count=e,this.unchangedNames=t}}function l7(e){if(void 0===e)return sG("GRPC error has no .code"),sJ.UNKNOWN;switch(e){case j.OK:return sJ.OK;case j.CANCELLED:return sJ.CANCELLED;case j.UNKNOWN:return sJ.UNKNOWN;case j.DEADLINE_EXCEEDED:return sJ.DEADLINE_EXCEEDED;case j.RESOURCE_EXHAUSTED:return sJ.RESOURCE_EXHAUSTED;case j.INTERNAL:return sJ.INTERNAL;case j.UNAVAILABLE:return sJ.UNAVAILABLE;case j.UNAUTHENTICATED:return sJ.UNAUTHENTICATED;case j.INVALID_ARGUMENT:return sJ.INVALID_ARGUMENT;case j.NOT_FOUND:return sJ.NOT_FOUND;case j.ALREADY_EXISTS:return sJ.ALREADY_EXISTS;case j.PERMISSION_DENIED:return sJ.PERMISSION_DENIED;case j.FAILED_PRECONDITION:return sJ.FAILED_PRECONDITION;case j.ABORTED:return sJ.ABORTED;case j.OUT_OF_RANGE:return sJ.OUT_OF_RANGE;case j.UNIMPLEMENTED:return sJ.UNIMPLEMENTED;case j.DATA_LOSS:return sJ.DATA_LOSS;default:return sX()}}(B=j||(j={}))[B.OK=0]="OK",B[B.CANCELLED=1]="CANCELLED",B[B.UNKNOWN=2]="UNKNOWN",B[B.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",B[B.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",B[B.NOT_FOUND=5]="NOT_FOUND",B[B.ALREADY_EXISTS=6]="ALREADY_EXISTS",B[B.PERMISSION_DENIED=7]="PERMISSION_DENIED",B[B.UNAUTHENTICATED=16]="UNAUTHENTICATED",B[B.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",B[B.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",B[B.ABORTED=10]="ABORTED",B[B.OUT_OF_RANGE=11]="OUT_OF_RANGE",B[B.UNIMPLEMENTED=12]="UNIMPLEMENTED",B[B.INTERNAL=13]="INTERNAL",B[B.UNAVAILABLE=14]="UNAVAILABLE",B[B.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l9=new x([0xffffffff,0xffffffff],0);function ue(e){let t=(new TextEncoder).encode(e),n=new I;return n.update(t),new Uint8Array(n.digest())}function ut(e){let t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new x([n,r],0),new x([i,a],0)]}class un{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new ur(`Invalid padding: ${t}`);if(n<0||e.length>0&&0===this.hashCount)throw new ur(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new ur(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=x.fromNumber(this.Te)}Ee(e,t,n){let r=e.add(t.multiply(x.fromNumber(n)));return 1===r.compare(l9)&&(r=new x([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ie).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;let[t,n]=ut(ue(e));for(let e=0;e<this.hashCount;e++){let r=this.Ee(t,n,e);if(!this.de(r))return!1}return!0}static create(e,t,n){let r=new un(new Uint8Array(Math.ceil(e/8)),e%8==0?0:8-e%8,t);return n.forEach(e=>r.insert(e)),r}insert(e){if(0===this.Te)return;let[t,n]=ut(ue(e));for(let e=0;e<this.hashCount;e++){let r=this.Ee(t,n,e);this.Ae(r)}}Ae(e){let t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class ur extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){let r=new Map;return r.set(e,ua.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new ui(or.min(),r,new ow(oe),lS,lN())}}class ua{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new ua(n,t,lN(),lN(),lN())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class uo{constructor(e,t){this.targetId=e,this.me=t}}class ul{constructor(e,t,n=ox.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class uu{constructor(){this.fe=0,this.ge=uf(),this.pe=ox.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=lN(),t=lN(),n=lN();return this.ge.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:sX()}}),new ua(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=uf()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,this.fe>=0||sX()}Ne(){this.we=!0,this.ye=!0}}class uc{constructor(e){this.Le=e,this.Be=new Map,this.ke=lS,this.qe=uh(),this.Qe=uh(),this.Ke=new ow(oe)}$e(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{let n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.je(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.De(e.resumeToken));break;default:sX()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((e,n)=>{this.je(n)&&t(n)})}Je(e){let t=e.targetId,n=e.me.count,r=this.Ye(t);if(r){let i=r.target;if(lh(i)){if(0===n){let e=new ol(i.path);this.We(t,e,oZ.newNoDocument(e,or.min()))}else 1===n||sX()}else{let r=this.Ze(t);if(r!==n){let n=this.Xe(e),i=n?this.et(n,e,r):1;0!==i&&(this.He(t),this.Ke=this.Ke.insert(t,2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){let t,n;let r=e.me.unchangedNames;if(!r||!r.bits)return null;let{bits:{bitmap:i="",padding:a=0},hashCount:s=0}=r;try{t=oN(i).toUint8Array()}catch(e){if(e instanceof oT)return sQ("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{n=new un(t,a,s)}catch(e){return sQ(e instanceof ur?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===n.Te?null:n}et(e,t,n){return t.me.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){let n=this.Le.getRemoteKeysForTarget(t),r=0;return n.forEach(n=>{let i=this.Le.nt(),a=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(a)||(this.We(t,n,null),r++)}),r}it(e){let t=new Map;this.Be.forEach((n,r)=>{let i=this.Ye(r);if(i){if(n.current&&lh(i.target)){let t=new ol(i.target.path);this.st(t).has(r)||this.ot(r,t)||this.We(r,t,oZ.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}});let n=lN();this.Qe.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{let t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.ke.forEach((t,n)=>n.setReadTime(e));let r=new ui(e,t,this.Ke,this.ke,n);return this.ke=lS,this.qe=uh(),this.Qe=uh(),this.Ke=new ow(oe),r}Ue(e,t){if(!this.je(e))return;let n=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,n){if(!this.je(e))return;let r=this.ze(e);this.ot(e,t)?r.Fe(t,1):r.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ze(e){let t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new uu,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new o_(oe),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new o_(oe),this.qe=this.qe.insert(e,t)),t}je(e){let t=null!==this.Ye(e);return t||sK("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new uu),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function uh(){return new ow(ol.comparator)}function uf(){return new ow(ol.comparator)}const ud={asc:"ASCENDING",desc:"DESCENDING"},up={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},um={and:"AND",or:"OR"};class ug{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function uy(e,t){return e.useProto3Json||null==t?t:{value:t}}function uv(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function uw(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ub(e){return e||sX(),or.fromTimestamp(function(e){let t=oC(e);return new on(t.seconds,t.nanos)}(e))}function uE(e,t){return u_(e,t).canonicalString()}function u_(e,t){let n=new oa(["projects",e.projectId,"databases",e.database]).child("documents");return void 0===t?n:n.child(t)}function uS(e){let t=oa.fromString(e);return uP(t)||sX(),t}function uk(e,t){return uE(e.databaseId,t.path)}function uT(e,t){let n=uS(t);if(n.get(1)!==e.databaseId.projectId)throw new sZ(sJ.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new sZ(sJ.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ol(uC(n))}function ux(e,t){return uE(e.databaseId,t)}function uI(e){return new oa(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function uC(e){return e.length>4&&"documents"===e.get(4)||sX(),e.popFirst(5)}function uR(e,t,n){return{name:uk(e,t),fields:n.value.mapValue.fields}}function uN(e){return{fieldPath:e.canonicalString()}}function uA(e){return oo.fromServerFormat(e.fieldPath)}function uP(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e,t,n,r,i=or.min(),a=or.min(),s=ox.EMPTY_BYTE_STRING,o=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=o}withSequenceNumber(e){return new uD(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new uD(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new uD(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new uD(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e){this.ht=e}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(){}Et(e,t){this.dt(e,t),t.At()}dt(e,t){if("nullValue"in e)this.Rt(t,5);else if("booleanValue"in e)this.Rt(t,10),t.Vt(e.booleanValue?1:0);else if("integerValue"in e)this.Rt(t,15),t.Vt(oR(e.integerValue));else if("doubleValue"in e){let n=oR(e.doubleValue);isNaN(n)?this.Rt(t,13):(this.Rt(t,15),om(n)?t.Vt(0):t.Vt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Rt(t,20),"string"==typeof n&&(n=oC(n)),t.ft(`${n.seconds||""}`),t.Vt(n.nanos||0)}else if("stringValue"in e)this.gt(e.stringValue,t),this.yt(t);else if("bytesValue"in e)this.Rt(t,30),t.wt(oN(e.bytesValue)),this.yt(t);else if("referenceValue"in e)this.St(e.referenceValue,t);else if("geoPointValue"in e){let n=e.geoPointValue;this.Rt(t,45),t.Vt(n.latitude||0),t.Vt(n.longitude||0)}else"mapValue"in e?oX(e)?this.Rt(t,Number.MAX_SAFE_INTEGER):oQ(e)?this.bt(e.mapValue,t):(this.Dt(e.mapValue,t),this.yt(t)):"arrayValue"in e?(this.vt(e.arrayValue,t),this.yt(t)):sX()}gt(e,t){this.Rt(t,25),this.Ct(e,t)}Ct(e,t){t.ft(e)}Dt(e,t){let n=e.fields||{};for(let e of(this.Rt(t,55),Object.keys(n)))this.gt(e,t),this.dt(n[e],t)}bt(e,t){var n,r;let i=e.fields||{};this.Rt(t,53);let a="value",s=(null===(r=null===(n=i[a].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Rt(t,15),t.Vt(oR(s)),this.gt(a,t),this.dt(i[a],t)}vt(e,t){let n=e.values||[];for(let e of(this.Rt(t,50),n))this.dt(e,t)}St(e,t){this.Rt(t,37),ol.fromName(e).path.forEach(e=>{this.Rt(t,60),this.Ct(e,t)})}Rt(e,t){e.Vt(t)}yt(e){e.Vt(2)}}uO.Ft=new uO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(){this.ln=new uU}addToCollectionParentIndex(e,t){return this.ln.add(t),of.resolve()}getCollectionParents(e,t){return of.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return of.resolve()}deleteFieldIndex(e,t){return of.resolve()}deleteAllFieldIndexes(e){return of.resolve()}createTargetIndexes(e,t){return of.resolve()}getDocumentsMatchingTarget(e,t){return of.resolve(null)}getIndexType(e,t){return of.resolve(0)}getFieldIndexes(e,t){return of.resolve([])}getNextCollectionGroupToUpdate(e){return of.resolve(null)}getMinOffset(e,t){return of.resolve(ou.min())}getMinOffsetFromCollectionGroup(e,t){return of.resolve(ou.min())}updateCollectionGroup(e,t,n){return of.resolve()}updateIndexEntries(e,t){return of.resolve()}}class uU{constructor(){this.index={}}add(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new o_(oa.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new o_(oa.comparator)).toArray()}}new Uint8Array(0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class uV{static withCacheSize(e){return new uV(e,uV.DEFAULT_COLLECTION_PERCENTILE,uV.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */uV.DEFAULT_COLLECTION_PERCENTILE=10,uV.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,uV.DEFAULT=new uV(0x2800000,uV.DEFAULT_COLLECTION_PERCENTILE,uV.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),uV.DISABLED=new uV(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new uj(0)}static Qn(){return new uj(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uB([e,t],[n,r]){let i=oe(e,n);return 0===i?oe(t,r):i}class uz{constructor(e){this.Gn=e,this.buffer=new o_(uB),this.zn=0}jn(){return++this.zn}Hn(e){let t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{let e=this.buffer.last();0>uB(t,e)&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class u${constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return null!==this.Jn}Yn(e){sK("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){od(e)?sK("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await oh(e)}await this.Yn(3e5)})}}class uq{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return of.resolve(op.oe);let n=new uz(t);return this.Zn.forEachTarget(e,e=>n.Hn(e.sequenceNumber)).next(()=>this.Zn.er(e,e=>n.Hn(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.Zn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return -1===this.params.cacheSizeCollectionThreshold?(sK("LruGarbageCollector","Garbage collection skipped; disabled"),of.resolve(uF)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(sK("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uF):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let n,r,i,a,s,o,l;let u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(sK("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,s=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),sW()<=T.DEBUG&&sK("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-u}ms
	Determined least recently used ${r} in `+(s-a)+"ms\n"+`	Removed ${i} targets in `+(o-s)+"ms\n"+`	Removed ${e} documents in `+(l-o)+"ms\n"+`Total Duration: ${l-u}ms`),of.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uH{constructor(){this.changes=new l_(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,oZ.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let n=this.changes.get(t);return void 0!==n?of.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uW{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uK{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&lQ(n.mutation,e,ok.empty(),on.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,lN()).next(()=>t))}getLocalViewOfDocuments(e,t,n=lN()){let r=lI();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=lT();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){let n=lI();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,lN()))}populateOverlays(e,t,n){let r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=lS,a=lI(),s=lI();return t.forEach((e,t)=>{let s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof lJ)?i=i.insert(t.key,t):void 0!==s?(a.set(t.key,s.mutation.getFieldMask()),lQ(s.mutation,t,s.mutation.getFieldMask(),on.now())):a.set(t.key,ok.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>a.set(e,t)),t.forEach((e,t)=>{var n;return s.set(e,new uW(t,null!==(n=a.get(e))&&void 0!==n?n:null))}),s))}recalculateAndSaveOverlays(e,t){let n=lI(),r=new ow((e,t)=>e-t),i=lN();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(let i of e)i.keys().forEach(e=>{let a=t.get(e);if(null===a)return;let s=n.get(e)||ok.empty();s=i.applyToLocalView(a,s),n.set(e,s);let o=(r.get(i.batchId)||lN()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{let a=[],s=r.getReverseIterator();for(;s.hasNext();){let r=s.getNext(),o=r.key,l=r.value,u=lI();l.forEach(e=>{if(!i.has(e)){let r=lG(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}}),a.push(this.documentOverlayCache.saveOverlays(e,o,u))}return of.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return ol.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):null!==t.collectionGroup?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{let a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):of.resolve(lI()),s=-1,o=i;return a.next(t=>of.forEach(t,(t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?of.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,lN())).next(e=>({batchId:s,changes:lx(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ol(t)).next(e=>{let t=lT();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){let i=t.collectionGroup,a=lT();return this.indexManager.getCollectionParents(e,i).next(s=>of.forEach(s,s=>{let o=new lf(s.child(i),null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt);return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{a=a.insert(e,t)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{let r=n.getKey();null===e.get(r)&&(e=e.insert(r,oZ.newInvalidDocument(r)))});let n=lT();return e.forEach((e,r)=>{let a=i.get(e);void 0!==a&&lQ(a.mutation,r,ok.empty(),on.now()),lb(t,r)&&(n=n.insert(e,r))}),n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uG{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return of.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,{id:t.id,version:t.version,createTime:ub(t.createTime)}),of.resolve()}getNamedQuery(e,t){return of.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,{name:t.name,query:function(e){let t=function(e){var t;let n,r=function(e){let t=uS(e);return 4===t.length?oa.emptyPath():uC(t)}(e.parent),i=e.structuredQuery,a=i.from?i.from.length:0,s=null;if(a>0){1===a||sX();let e=i.from[0];e.allDescendants?s=e.collectionId:r=r.child(e.collectionId)}let o=[];i.where&&(o=function(e){var t;let n=function e(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":let t=uA(e.unaryFilter.field);return o6.create(t,"==",{doubleValue:NaN});case"IS_NULL":let n=uA(e.unaryFilter.field);return o6.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let r=uA(e.unaryFilter.field);return o6.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let i=uA(e.unaryFilter.field);return o6.create(i,"!=",{nullValue:"NULL_VALUE"});default:return sX()}}(t):void 0!==t.fieldFilter?o6.create(uA(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return sX()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==t.compositeFilter?o5.create(t.compositeFilter.filters.map(t=>e(t)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return sX()}}(t.compositeFilter.op)):sX()}(e);return n instanceof o5&&o7(t=n)&&o8(t)?n.getFilters():[n]}(i.where));let l=[];i.orderBy&&(l=i.orderBy.map(e=>new o3(uA(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))));let u=null;i.limit&&(u=null==(n="object"==typeof(t=i.limit)?t.value:t)?null:n);let c=null;i.startAt&&(c=function(e){let t=!!e.before;return new o0(e.values||[],t)}(i.startAt));let h=null;return i.endAt&&(h=function(e){let t=!e.before;return new o0(e.values||[],t)}(i.endAt)),new lf(r,s,l,o,u,"F",c,h)}({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?lg(t,t.limit,"L"):t}(t.bundledQuery),readTime:ub(t.readTime)}),of.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uQ{constructor(){this.overlays=new ow(ol.comparator),this.Er=new Map}getOverlay(e,t){return of.resolve(this.overlays.get(t))}getOverlays(e,t){let n=lI();return of.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.Tt(e,t,r)}),of.resolve()}removeOverlaysForBatchId(e,t,n){let r=this.Er.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.Er.delete(n)),of.resolve()}getOverlaysForCollection(e,t,n){let r=lI(),i=t.length+1,a=new ol(t.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){let e=s.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return of.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new ow((e,t)=>e-t),a=this.overlays.getIterator();for(;a.hasNext();){let e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=lI(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}let s=lI(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>s.set(e,t)),!(s.size()>=r)););return of.resolve(s)}Tt(e,t,n){let r=this.overlays.get(n.key);if(null!==r){let e=this.Er.get(r.largestBatchId).delete(n.key);this.Er.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new l5(t,n));let i=this.Er.get(t);void 0===i&&(i=lN(),this.Er.set(t,i)),this.Er.set(t,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uY{constructor(){this.sessionToken=ox.EMPTY_BYTE_STRING}getSessionToken(e){return of.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,of.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uX{constructor(){this.dr=new o_(uJ.Ar),this.Rr=new o_(uJ.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){let n=new uJ(e,t);this.dr=this.dr.add(n),this.Rr=this.Rr.add(n)}mr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.gr(new uJ(e,t))}pr(e,t){e.forEach(e=>this.removeReference(e,t))}yr(e){let t=new ol(new oa([])),n=new uJ(t,e),r=new uJ(t,e+1),i=[];return this.Rr.forEachInRange([n,r],e=>{this.gr(e),i.push(e.key)}),i}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){let t=new ol(new oa([])),n=new uJ(t,e),r=new uJ(t,e+1),i=lN();return this.Rr.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){let t=new uJ(e,0),n=this.dr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class uJ{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return ol.comparator(e.key,t.key)||oe(e.br,t.br)}static Vr(e,t){return oe(e.br,t.br)||ol.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uZ{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new o_(uJ.Ar)}checkEmpty(e){return of.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){let i=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let a=new l4(i,t,n,r);for(let t of(this.mutationQueue.push(a),r))this.vr=this.vr.add(new uJ(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return of.resolve(a)}lookupMutationBatch(e,t){return of.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){let n=this.Fr(t+1),r=n<0?0:n;return of.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return of.resolve(0===this.mutationQueue.length?-1:this.Dr-1)}getAllMutationBatches(e){return of.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let n=new uJ(t,0),r=new uJ(t,Number.POSITIVE_INFINITY),i=[];return this.vr.forEachInRange([n,r],e=>{let t=this.Cr(e.br);i.push(t)}),of.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new o_(oe);return t.forEach(e=>{let t=new uJ(e,0),r=new uJ(e,Number.POSITIVE_INFINITY);this.vr.forEachInRange([t,r],e=>{n=n.add(e.br)})}),of.resolve(this.Mr(n))}getAllMutationBatchesAffectingQuery(e,t){let n=t.path,r=n.length+1,i=n;ol.isDocumentKey(i)||(i=i.child(""));let a=new uJ(new ol(i),0),s=new o_(oe);return this.vr.forEachWhile(e=>{let t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.br)),!0)},a),of.resolve(this.Mr(s))}Mr(e){let t=[];return e.forEach(e=>{let n=this.Cr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){0===this.Or(t.batchId,"removed")||sX(),this.mutationQueue.shift();let n=this.vr;return of.forEach(t.mutations,r=>{let i=new uJ(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.vr=n})}Ln(e){}containsKey(e,t){let n=new uJ(t,0),r=this.vr.firstAfterOrEqual(n);return of.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,of.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Cr(e){let t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e){this.Nr=e,this.docs=new ow(ol.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Nr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let n=this.docs.get(t);return of.resolve(n?n.document.mutableCopy():oZ.newInvalidDocument(t))}getEntries(e,t){let n=lS;return t.forEach(e=>{let t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():oZ.newInvalidDocument(e))}),of.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=lS,a=t.path,s=new ol(a.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){let{key:e,value:{document:s}}=o.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||0>=function(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=ol.comparator(e.documentKey,t.documentKey))?n:oe(e.largestBatchId,t.largestBatchId)}(new ou(s.readTime,s.key,-1),n)||(r.has(s.key)||lb(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return of.resolve(i)}getAllFromCollectionGroup(e,t,n,r){sX()}Lr(e,t){return of.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new u1(this)}getSize(e){return of.resolve(this.size)}}class u1 extends uH{constructor(e){super(),this.hr=e}applyChanges(e){let t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.hr.addEntry(e,r)):this.hr.removeEntry(n)}),of.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e){this.persistence=e,this.Br=new l_(e=>lu(e),lc),this.lastRemoteSnapshotVersion=or.min(),this.highestTargetId=0,this.kr=0,this.qr=new uX,this.targetCount=0,this.Qr=uj.qn()}forEachTarget(e,t){return this.Br.forEach((e,n)=>t(n)),of.resolve()}getLastRemoteSnapshotVersion(e){return of.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return of.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),of.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.kr&&(this.kr=t),of.resolve()}Un(e){this.Br.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.Qr=new uj(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,of.resolve()}updateTargetData(e,t){return this.Un(t),of.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,of.resolve()}removeTargets(e,t,n){let r=0,i=[];return this.Br.forEach((a,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Br.delete(a),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)}),of.waitFor(i).next(()=>r)}getTargetCount(e){return of.resolve(this.targetCount)}getTargetData(e,t){let n=this.Br.get(t)||null;return of.resolve(n)}addMatchingKeys(e,t,n){return this.qr.mr(t,n),of.resolve()}removeMatchingKeys(e,t,n){this.qr.pr(t,n);let r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),of.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),of.resolve()}getMatchingKeysForTargetId(e,t){let n=this.qr.Sr(t);return of.resolve(n)}containsKey(e,t){return of.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e,t){this.Kr={},this.overlays={},this.$r=new op(0),this.Ur=!1,this.Ur=!0,this.Wr=new uY,this.referenceDelegate=e(this),this.Gr=new u2(this),this.indexManager=new uM,this.remoteDocumentCache=new u0(e=>this.referenceDelegate.zr(e)),this.serializer=new uL(t),this.jr=new uG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new uQ,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Kr[e.toKey()];return n||(n=new uZ(t,this.referenceDelegate),this.Kr[e.toKey()]=n),n}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,n){sK("MemoryPersistence","Starting transaction:",e);let r=new u4(this.$r.next());return this.referenceDelegate.Hr(),n(r).next(e=>this.referenceDelegate.Jr(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Yr(e,t){return of.or(Object.values(this.Kr).map(n=>()=>n.containsKey(e,t)))}}class u4 extends oc{constructor(e){super(),this.currentSequenceNumber=e}}class u6{constructor(e){this.persistence=e,this.Zr=new uX,this.Xr=null}static ei(e){return new u6(e)}get ti(){if(this.Xr)return this.Xr;throw sX()}addReference(e,t,n){return this.Zr.addReference(n,t),this.ti.delete(n.toString()),of.resolve()}removeReference(e,t,n){return this.Zr.removeReference(n,t),this.ti.add(n.toString()),of.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),of.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(e=>this.ti.add(e.toString()));let n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.ti.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return of.forEach(this.ti,n=>{let r=ol.fromPath(n);return this.ni(e,r).next(e=>{e||t.removeEntry(r,or.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(e=>{e?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return of.or([()=>of.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class u5{constructor(e,t){this.persistence=e,this.ri=new l_(e=>/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t+="\x01\x01"),t=function(e,t){let n=t,r=e.length;for(let t=0;t<r;t++){let r=e.charAt(t);switch(r){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=r}}return n}(e.get(n),t);return t+"\x01\x01"})(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=new uq(this,t)}static ei(e,t){return new u5(e,t)}Hr(){}Jr(e){return of.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){let t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}nr(e){let t=0;return this.er(e,e=>{t++}).next(()=>t)}er(e,t){return of.forEach(this.ri,(n,r)=>this.ir(e,n,r).next(e=>e?of.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0,r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.Lr(e,r=>this.ir(e,r,t).next(e=>{e||(n++,i.removeEntry(r,or.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),of.resolve()}removeTarget(e,t){let n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.ri.set(n,e.currentSequenceNumber),of.resolve()}removeReference(e,t,n){return this.ri.set(n,e.currentSequenceNumber),of.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),of.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=function e(t){switch(oU(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let n=oP(t);return n?16+e(n):16;case 5:return 2*t.stringValue.length;case 6:return oN(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(t.arrayValue.values||[]).reduce((t,n)=>t+e(n),0);case 10:case 11:var r;let i;return r=t.mapValue,i=0,oy(r.fields,(t,n)=>{i+=t.length+e(n)}),i;default:throw sX()}}(e.data.value)),t}ir(e,t,n){return of.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let e=this.ri.get(t);return of.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Wi=n,this.Gi=r}static zi(e,t){let n=lN(),r=lN();for(let e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new u8(e,t.fromCache,n,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=!function(){var e;let t=null===(e=t8())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(W.process)}catch(e){return!1}}()&&navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")?8:function(e){let t=e.match(/Android ([\d.]+)/i);return Number(t?t[1].split(".").slice(0,2).join("."):"-1")}(nr())>0?6:4}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,n,r){let i={result:null};return this.Xi(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.es(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;let n=new u7;return this.ts(e,t,n).next(r=>{if(i.result=r,this.Hi)return this.ns(e,t,n,r.size)})}).next(()=>i.result)}ns(e,t,n,r){return n.documentReadCount<this.Ji?(sW()<=T.DEBUG&&sK("QueryEngine","SDK will not create cache indexes for query:",lw(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),of.resolve()):(sW()<=T.DEBUG&&sK("QueryEngine","Query:",lw(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Yi*r?(sW()<=T.DEBUG&&sK("QueryEngine","The SDK decides to create cache indexes for query:",lw(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,lm(t))):of.resolve())}Xi(e,t){if(ld(t))return of.resolve(null);let n=lm(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(n=lm(t=lg(t,null,"F"))),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{let i=lN(...r);return this.Zi.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{let a=this.rs(t,r);return this.ss(t,a,i,n.readTime)?this.Xi(e,lg(t,null,"F")):this.os(e,a,t,n)}))})))}es(e,t,n,r){return ld(t)||r.isEqual(or.min())?of.resolve(null):this.Zi.getDocuments(e,n).next(i=>{let a=this.rs(t,i);return this.ss(t,a,n,r)?of.resolve(null):(sW()<=T.DEBUG&&sK("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),lw(t)),this.os(e,a,t,function(e,t){let n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1;return new ou(or.fromTimestamp(1e9===r?new on(n+1,0):new on(n,r)),ol.empty(),-1)}(r,0)).next(e=>e))})}rs(e,t){let n=new o_(lE(e));return t.forEach((t,r)=>{lb(e,r)&&(n=n.add(r))}),n}ss(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;let i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}ts(e,t,n){return sW()<=T.DEBUG&&sK("QueryEngine","Using full collection scan to execute query:",lw(t)),this.Zi.getDocumentsMatchingQuery(e,t,ou.min(),n)}os(e,t,n,r){return this.Zi.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e,t,n,r){this.persistence=e,this._s=t,this.serializer=r,this.us=new ow(oe),this.cs=new l_(e=>lu(e),lc),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(n)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uK(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}async function ct(e,t){return await e.persistence.runTransaction("Handle user change","readonly",n=>{let r;return e.mutationQueue.getAllMutationBatches(n).next(i=>(r=i,e.Ps(t),e.mutationQueue.getAllMutationBatches(n))).next(t=>{let i=[],a=[],s=lN();for(let e of r)for(let t of(i.push(e.batchId),e.mutations))s=s.add(t.key);for(let e of t)for(let t of(a.push(e.batchId),e.mutations))s=s.add(t.key);return e.localDocuments.getDocuments(n,s).next(e=>({Ts:e,removedBatchIds:i,addedBatchIds:a}))})})}function cn(e){return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}async function cr(e,t,n){let r=e.us.get(t);try{n||await e.persistence.runTransaction("Release target",n?"readwrite":"readwrite-primary",t=>e.persistence.referenceDelegate.removeTarget(t,r))}catch(e){if(!od(e))throw e;sK("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}e.us=e.us.remove(t),e.cs.delete(r.target)}function ci(e,t,n){let r=or.min(),i=lN();return e.persistence.runTransaction("Execute query","readwrite",a=>(function(e,t,n){let r=e.cs.get(n);return void 0!==r?of.resolve(e.us.get(r)):e.Gr.getTargetData(t,n)})(e,a,lm(t)).next(t=>{if(t)return r=t.lastLimboFreeSnapshotVersion,e.Gr.getMatchingKeysForTargetId(a,t.targetId).next(e=>{i=e})}).next(()=>e._s.getDocumentsMatchingQuery(a,t,n?r:or.min(),n?i:lN())).next(n=>{var r;let a;return r=t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2)),a=e.ls.get(r)||or.min(),n.forEach((e,t)=>{t.readTime.compareTo(a)>0&&(a=t.readTime)}),e.ls.set(r,a),{documents:n,ds:i}}))}class ca{constructor(){this.activeTargetIds=lA}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){return JSON.stringify({activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()})}}class cs{constructor(){this._o=new ca,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,n){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new ca,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){for(let e of(sK("ConnectivityMonitor","Network connectivity changed: AVAILABLE"),this.To))e(0)}Po(){for(let e of(sK("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE"),this.To))e(1)}static p(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cu=null;function cc(){return null===cu?cu=0x10000000+Math.round(0x80000000*Math.random()):cu++,"0x"+cu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd="WebChannelConnection";class cp extends class{get Co(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Fo=t+"://"+e.host,this.Mo=`projects/${n}/databases/${r}`,this.xo="(default)"===this.databaseId.database?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Oo(e,t,n,r,i){let a=cc(),s=this.No(e,t.toUriEncodedString());sK("RestConnection",`Sending RPC '${e}' ${a}:`,s,n);let o={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(o,r,i),this.Bo(e,s,o,n).then(t=>(sK("RestConnection",`Received RPC '${e}' ${a}: `,t),t),t=>{throw sQ("RestConnection",`RPC '${e}' ${a} failed with error: `,t,"url: ",s,"request:",n),t})}ko(e,t,n,r,i,a){return this.Oo(e,t,n,r,i)}Lo(e,t,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+sq}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}No(e,t){let n=ch[e];return`${this.Fo}/v1/${t}:${n}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,n,r){let i=cc();return new Promise((a,s)=>{let o=new C;o.setWithCredentials(!0),o.listenOnce(N.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case A.NO_ERROR:let t=o.getResponseJson();sK(cd,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),a(t);break;case A.TIMEOUT:sK(cd,`RPC '${e}' ${i} timed out`),s(new sZ(sJ.DEADLINE_EXCEEDED,"Request time out"));break;case A.HTTP_ERROR:let n=o.getStatus();if(sK(cd,`RPC '${e}' ${i} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);let t=null==e?void 0:e.error;if(t&&t.status&&t.message){let e=function(e){let t=e.toLowerCase().replace(/_/g,"-");return Object.values(sJ).indexOf(t)>=0?t:sJ.UNKNOWN}(t.status);s(new sZ(e,t.message))}else s(new sZ(sJ.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new sZ(sJ.UNAVAILABLE,"Connection failed."));break;default:sX()}}finally{sK(cd,`RPC '${e}' ${i} completed.`)}});let l=JSON.stringify(r);sK(cd,`RPC '${e}' ${i} sending request:`,r),o.send(t,"POST",l,n,15)})}qo(e,t,n){let r=cc(),i=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=O(),s=L(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;let u=i.join("");sK(cd,`Creating RPC '${e}' stream ${r}: ${u}`,o);let c=a.createWebChannel(u,o),h=!1,f=!1,d=new cf({Eo:t=>{f?sK(cd,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(h||(sK(cd,`Opening RPC '${e}' stream ${r} transport.`),c.open(),h=!0),sK(cd,`RPC '${e}' stream ${r} sending:`,t),c.send(t))},Ao:()=>c.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(c,R.EventType.OPEN,()=>{f||(sK(cd,`RPC '${e}' stream ${r} transport opened.`),d.So())}),p(c,R.EventType.CLOSE,()=>{f||(f=!0,sK(cd,`RPC '${e}' stream ${r} transport closed`),d.Do())}),p(c,R.EventType.ERROR,t=>{f||(f=!0,sQ(cd,`RPC '${e}' stream ${r} transport errored:`,t),d.Do(new sZ(sJ.UNAVAILABLE,"The operation could not be completed")))}),p(c,R.EventType.MESSAGE,t=>{var n;if(!f){let i=t.data[0];i||sX();let a=(null==i?void 0:i.error)||(null===(n=i[0])||void 0===n?void 0:n.error);if(a){sK(cd,`RPC '${e}' stream ${r} received error:`,a);let t=a.status,n=function(e){let t=j[e];if(void 0!==t)return l7(t)}(t),i=a.message;void 0===n&&(n=sJ.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),f=!0,d.Do(new sZ(n,i)),c.close()}else sK(cd,`RPC '${e}' stream ${r} received:`,i),d.vo(i)}}),p(s,D.STAT_EVENT,t=>{t.stat===P.PROXY?sK(cd,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===P.NOPROXY&&sK(cd,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{d.bo()},0),d}}function cm(){return"undefined"!=typeof document?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(e){return new ug(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e,t,n=1e3,r=1.5,i=6e4){this.li=e,this.timerId=t,this.Qo=n,this.Ko=r,this.$o=i,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();let t=Math.floor(this.Uo+this.Ho()),n=Math.max(0,Date.now()-this.Go),r=Math.max(0,t-n);r>0&&sK("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,r,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){null!==this.Wo&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){null!==this.Wo&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e,t,n,r,i,a,s,o){this.li=e,this.Yo=n,this.Zo=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=o,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new cy(e,t)}i_(){return 1===this.state||5===this.state||this.s_()}s_(){return 2===this.state||3===this.state}start(){this.n_=0,4!==this.state?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&null===this.e_&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,4!==e?this.r_.reset():t&&t.code===sJ.RESOURCE_EXHAUSTED?(sG(t.toString()),sG("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===sJ.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;let e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,n])=>{this.Xo===t&&this.I_(e,n)},t=>{e(()=>{let e=new sZ(sJ.UNKNOWN,"Fetching auth token failed: "+t.message);return this.E_(e)})})}I_(e,t){let n=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{n(()=>this.listener.Ro())}),this.stream.mo(()=>{n(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(e=>{n(()=>this.E_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.n_?this.A_(e):this.onNext(e))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return sK("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(sK("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cw extends cv{constructor(e,t,n,r,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();let t=function(e,t){let n;if("targetChange"in t){var r,i;t.targetChange;let a="NO_CHANGE"===(r=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:sX(),s=t.targetChange.targetIds||[],o=(i=t.targetChange.resumeToken,e.useProto3Json?(void 0===i||"string"==typeof i||sX(),ox.fromBase64String(i||"")):(void 0===i||i instanceof sl||i instanceof Uint8Array||sX(),ox.fromUint8Array(i||new Uint8Array))),l=t.targetChange.cause;n=new ul(a,s,o,l&&new sZ(void 0===l.code?sJ.UNKNOWN:l7(l.code),l.message||"")||null)}else if("documentChange"in t){t.documentChange;let r=t.documentChange;r.document,r.document.name,r.document.updateTime;let i=uT(e,r.document.name),a=ub(r.document.updateTime),s=r.document.createTime?ub(r.document.createTime):or.min(),o=new oJ({mapValue:{fields:r.document.fields}}),l=oZ.newFoundDocument(i,a,s,o);n=new us(r.targetIds||[],r.removedTargetIds||[],l.key,l)}else if("documentDelete"in t){t.documentDelete;let r=t.documentDelete;r.document;let i=uT(e,r.document),a=r.readTime?ub(r.readTime):or.min(),s=oZ.newNoDocument(i,a);n=new us([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in t){t.documentRemove;let r=t.documentRemove;r.document;let i=uT(e,r.document);n=new us([],r.removedTargetIds||[],i,null)}else{if(!("filter"in t))return sX();{t.filter;let e=t.filter;e.targetId;let{count:r=0,unchangedNames:i}=e,a=new l8(r,i);n=new uo(e.targetId,a)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return or.min();let t=e.targetChange;return t.targetIds&&t.targetIds.length?or.min():t.readTime?ub(t.readTime):or.min()}(e);return this.listener.R_(t,n)}V_(e){let t={};t.database=uI(this.serializer),t.addTarget=function(e,t){let n;let r=t.target;if((n=lh(r)?{documents:{documents:[ux(e,r.path)]}}:{query:function(e,t){var n,r;let i;let a={structuredQuery:{}},s=t.path;null!==t.collectionGroup?(i=s,a.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=s.popLast(),a.structuredQuery.from=[{collectionId:s.lastSegment()}]),a.parent=ux(e,i);let o=function(e){if(0!==e.length)return function e(t){return t instanceof o6?function(e){if("=="===e.op){if(oK(e.value))return{unaryFilter:{field:uN(e.field),op:"IS_NAN"}};if(oW(e.value))return{unaryFilter:{field:uN(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(oK(e.value))return{unaryFilter:{field:uN(e.field),op:"IS_NOT_NAN"}};if(oW(e.value))return{unaryFilter:{field:uN(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uN(e.field),op:up[e.op],value:e.value}}}(t):t instanceof o5?function(t){let n=t.getFilters().map(t=>e(t));return 1===n.length?n[0]:{compositeFilter:{op:um[t.op],filters:n}}}(t):sX()}(o5.create(e,"and"))}(t.filters);o&&(a.structuredQuery.where=o);let l=function(e){if(0!==e.length)return e.map(e=>({field:uN(e.field),direction:ud[e.dir]}))}(t.orderBy);l&&(a.structuredQuery.orderBy=l);let u=uy(e,t.limit);return null!==u&&(a.structuredQuery.limit=u),t.startAt&&(a.structuredQuery.startAt={before:(n=t.startAt).inclusive,values:n.position}),t.endAt&&(a.structuredQuery.endAt={before:!(r=t.endAt).inclusive,values:r.position}),{ct:a,parent:i}}(e,r).ct}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=uw(e,t.resumeToken);let r=uy(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(or.min())>0){n.readTime=uv(e,t.snapshotVersion.toTimestamp());let r=uy(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);let n=function(e,t){let n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return sX()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.c_(t)}m_(e){let t={};t.database=uI(this.serializer),t.removeTarget=e,this.c_(t)}}class cb extends cv{constructor(e,t,n,r,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return e.streamToken||sX(),this.lastStreamToken=e.streamToken,e.writeResults&&0!==e.writeResults.length&&sX(),this.listener.p_()}onNext(e){var t,n;e.streamToken||sX(),this.lastStreamToken=e.streamToken,this.r_.reset();let r=(t=e.writeResults,n=e.commitTime,t&&t.length>0?(void 0!==n||sX(),t.map(e=>{let t;return(t=e.updateTime?ub(e.updateTime):ub(n)).isEqual(or.min())&&(t=ub(n)),new lq(t,e.transformResults||[])})):[]),i=ub(e.commitTime);return this.listener.y_(i,r)}w_(){let e={};e.database=uI(this.serializer),this.c_(e)}g_(e){let t={streamToken:this.lastStreamToken,writes:e.map(e=>(function(e,t){var n;let r;if(t instanceof lX)r={update:uR(e,t.key,t.value)};else if(t instanceof l2)r={delete:uk(e,t.key)};else if(t instanceof lJ)r={update:uR(e,t.key,t.data),updateMask:function(e){let t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}(t.fieldMask)};else{if(!(t instanceof l3))return sX();r={verify:uk(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(e=>(function(e,t){let n=t.transform;if(n instanceof lM)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof lU)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof lV)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof lB)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw sX()})(0,e))),t.precondition.isNone||(r.currentDocument=void 0!==(n=t.precondition).updateTime?{updateTime:uv(e,n.updateTime.toTimestamp())}:void 0!==n.exists?{exists:n.exists}:sX()),r})(this.serializer,e))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.S_=!1}b_(){if(this.S_)throw new sZ(sJ.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,n,r){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Oo(e,u_(t,n),r,i,a)).catch(e=>{throw"FirebaseError"===e.name?(e.code===sJ.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new sZ(sJ.UNKNOWN,e.toString())})}ko(e,t,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.ko(e,u_(t,n),r,a,s,i)).catch(e=>{throw"FirebaseError"===e.name?(e.code===sJ.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new sZ(sJ.UNKNOWN,e.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class c_{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){0===this.D_&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){"Online"===this.state?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,"Online"===e&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(sG(t),this.C_=!1):sK("OnlineStateTracker",t)}N_(){null!==this.v_&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=i,this.Q_.uo(e=>{n.enqueueAndForget(async()=>{cP(this)&&(sK("RemoteStore","Restarting streams for network reachability change."),await async function(e){e.k_.add(4),await cT(e),e.K_.set("Unknown"),e.k_.delete(4),await ck(e)}(this))})}),this.K_=new c_(n,r)}}async function ck(e){if(cP(e))for(let t of e.q_)await t(!0)}async function cT(e){for(let t of e.q_)await t(!1)}function cx(e,t){e.B_.has(t.targetId)||(e.B_.set(t.targetId,t),cA(e)?cN(e):cG(e).s_()&&cC(e,t))}function cI(e,t){let n=cG(e);e.B_.delete(t),n.s_()&&cR(e,t),0===e.B_.size&&(n.s_()?n.a_():cP(e)&&e.K_.set("Unknown"))}function cC(e,t){if(e.U_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(or.min())>0){let n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}cG(e).V_(t)}function cR(e,t){e.U_.xe(t),cG(e).m_(t)}function cN(e){e.U_=new uc({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ut:t=>e.B_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),cG(e).start(),e.K_.F_()}function cA(e){return cP(e)&&!cG(e).i_()&&e.B_.size>0}function cP(e){return 0===e.k_.size}async function cD(e){e.K_.set("Online")}async function cL(e){e.B_.forEach((t,n)=>{cC(e,t)})}async function cO(e,t){e.U_=void 0,cA(e)?(e.K_.O_(t),cN(e)):e.K_.set("Unknown")}async function cM(e,t,n){if(e.K_.set("Online"),t instanceof ul&&2===t.state&&t.cause)try{await async function(e,t){let n=t.cause;for(let r of t.targetIds)e.B_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.B_.delete(r),e.U_.removeTarget(r))}(e,t)}catch(n){sK("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await cU(e,n)}else if(t instanceof us?e.U_.$e(t):t instanceof uo?e.U_.Je(t):e.U_.Ge(t),!n.isEqual(or.min()))try{let t=await cn(e.localStore);n.compareTo(t)>=0&&await function(e,t){let n=e.U_.it(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){let i=e.B_.get(r);i&&e.B_.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{let r=e.B_.get(t);if(!r)return;e.B_.set(t,r.withResumeToken(ox.EMPTY_BYTE_STRING,r.snapshotVersion)),cR(e,t);let i=new uD(r.target,t,n,r.sequenceNumber);cC(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){sK("RemoteStore","Failed to raise snapshot:",t),await cU(e,t)}}async function cU(e,t,n){if(!od(t))throw t;e.k_.add(1),await cT(e),e.K_.set("Offline"),n||(n=()=>cn(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{sK("RemoteStore","Retrying IndexedDB access"),await n(),e.k_.delete(1),await ck(e)})}function cF(e,t){return t().catch(n=>cU(e,n,t))}async function cV(e){let t=cQ(e),n=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;cP(e)&&e.L_.length<10;)try{let r=await function(e,t){return e.persistence.runTransaction("Get next mutation batch","readonly",n=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}(e.localStore,n);if(null===r){0===e.L_.length&&t.a_();break}n=r.batchId,function(e,t){e.L_.push(t);let n=cQ(e);n.s_()&&n.f_&&n.g_(t.mutations)}(e,r)}catch(t){await cU(e,t)}cj(e)&&cB(e)}function cj(e){return cP(e)&&!cQ(e).i_()&&e.L_.length>0}function cB(e){cQ(e).start()}async function cz(e){cQ(e).w_()}async function c$(e){let t=cQ(e);for(let n of e.L_)t.g_(n.mutations)}async function cq(e,t,n){let r=e.L_.shift(),i=l6.from(r,t,n);await cF(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await cV(e)}async function cH(e,t){t&&cQ(e).f_&&await async function(e,t){var n;if(function(e){switch(e){default:return sX();case sJ.CANCELLED:case sJ.UNKNOWN:case sJ.DEADLINE_EXCEEDED:case sJ.RESOURCE_EXHAUSTED:case sJ.INTERNAL:case sJ.UNAVAILABLE:case sJ.UNAUTHENTICATED:return!1;case sJ.INVALID_ARGUMENT:case sJ.NOT_FOUND:case sJ.ALREADY_EXISTS:case sJ.PERMISSION_DENIED:case sJ.FAILED_PRECONDITION:case sJ.ABORTED:case sJ.OUT_OF_RANGE:case sJ.UNIMPLEMENTED:case sJ.DATA_LOSS:return!0}}(n=t.code)&&n!==sJ.ABORTED){let n=e.L_.shift();cQ(e).__(),await cF(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await cV(e)}}(e,t),cj(e)&&cB(e)}async function cW(e,t){e.asyncQueue.verifyOperationInProgress(),sK("RemoteStore","RemoteStore received new credentials");let n=cP(e);e.k_.add(3),await cT(e),n&&e.K_.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.k_.delete(3),await ck(e)}async function cK(e,t){t?(e.k_.delete(2),await ck(e)):t||(e.k_.add(2),await cT(e),e.K_.set("Unknown"))}function cG(e){var t,n,r;return e.W_||(e.W_=(t=e.datastore,n=e.asyncQueue,r={Ro:cD.bind(null,e),mo:cL.bind(null,e),po:cO.bind(null,e),R_:cM.bind(null,e)},t.b_(),new cw(n,t.connection,t.authCredentials,t.appCheckCredentials,t.serializer,r)),e.q_.push(async t=>{t?(e.W_.__(),cA(e)?cN(e):e.K_.set("Unknown")):(await e.W_.stop(),e.U_=void 0)})),e.W_}function cQ(e){var t,n,r;return e.G_||(e.G_=(t=e.datastore,n=e.asyncQueue,r={Ro:()=>Promise.resolve(),mo:cz.bind(null,e),po:cH.bind(null,e),p_:c$.bind(null,e),y_:cq.bind(null,e)},t.b_(),new cb(n,t.connection,t.authCredentials,t.appCheckCredentials,t.serializer,r)),e.q_.push(async t=>{t?(e.G_.__(),await cV(e)):(await e.G_.stop(),e.L_.length>0&&(sK("RemoteStore",`Stopping write stream with ${e.L_.length} pending writes`),e.L_=[]))})),e.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cY{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new s0,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){let a=new cY(e,t,Date.now()+n,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new sZ(sJ.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cX(e,t){if(sG("AsyncQueue",`${t}: ${e}`),od(e))return new sZ(sJ.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cJ{static emptySet(e){return new cJ(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||ol.comparator(t.key,n.key):(e,t)=>ol.comparator(e.key,t.key),this.keyedMap=lT(),this.sortedSet=new ow(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof cJ)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){let e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){let n=new cJ;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cZ{constructor(){this.z_=new ow(ol.comparator)}track(e){let t=e.doc.key,n=this.z_.get(t);n?0!==e.type&&3===n.type?this.z_=this.z_.insert(t,e):3===e.type&&1!==n.type?this.z_=this.z_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.z_=this.z_.remove(t):1===e.type&&2===n.type?this.z_=this.z_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):sX():this.z_=this.z_.insert(t,e)}j_(){let e=[];return this.z_.inorderTraversal((t,n)=>{e.push(n)}),e}}class c0{constructor(e,t,n,r,i,a,s,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){let a=[];return t.forEach(e=>{a.push({type:0,doc:e})}),new c0(e,t,cJ.emptySet(t),a,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ly(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class c2{constructor(){this.queries=c3(),this.onlineState="Unknown",this.X_=new Set}terminate(){!function(e,t){let n=e.queries;e.queries=c3(),n.forEach((e,n)=>{for(let e of n.J_)e.onError(t)})}(this,new sZ(sJ.ABORTED,"Firestore shutting down"))}}function c3(){return new l_(e=>lv(e),ly)}async function c4(e,t){let n=3,r=t.query,i=e.queries.get(r);i?!i.Y_()&&t.Z_()&&(n=2):(i=new c1,n=t.Z_()?0:1);try{switch(n){case 0:i.H_=await e.onListen(r,!0);break;case 1:i.H_=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(n){let e=cX(n,`Initialization of query '${lw(t.query)}' failed`);return void t.onError(e)}e.queries.set(r,i),i.J_.push(t),t.ea(e.onlineState),i.H_&&t.ta(i.H_)&&c7(e)}async function c6(e,t){let n=t.query,r=3,i=e.queries.get(n);if(i){let e=i.J_.indexOf(t);e>=0&&(i.J_.splice(e,1),0===i.J_.length?r=t.Z_()?0:1:!i.Y_()&&t.Z_()&&(r=2))}switch(r){case 0:return e.queries.delete(n),e.onUnlisten(n,!0);case 1:return e.queries.delete(n),e.onUnlisten(n,!1);case 2:return e.onLastRemoteStoreUnlisten(n);default:return}}function c5(e,t){let n=!1;for(let r of t){let t=r.query,i=e.queries.get(t);if(i){for(let e of i.J_)e.ta(r)&&(n=!0);i.H_=r}}n&&c7(e)}function c8(e,t,n){let r=e.queries.get(t);if(r)for(let e of r.J_)e.onError(n);e.queries.delete(t)}function c7(e){e.X_.forEach(e=>{e.next()})}($=z||(z={})).na="default",$.Cache="cache";class c9{constructor(e,t,n){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=n||{}}ta(e){if(!this.options.includeMetadataChanges){let t=[];for(let n of e.docChanges)3!==n.type&&t.push(n);e=new c0(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){return!(e.fromCache&&this.Z_())||(!this.options.ua||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}oa(e){if(e.docChanges.length>0)return!0;let t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}aa(e){e=c0.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==z.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.key=e}}class ht{constructor(e){this.key=e}}class hn{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=lN(),this.mutatedKeys=lN(),this.Va=lE(e),this.ma=new cJ(this.Va)}get fa(){return this.da}ga(e,t){let n=t?t.pa:new cZ,r=t?t.ma:this.ma,i=t?t.mutatedKeys:this.mutatedKeys,a=r,s=!1,o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{let u=r.get(e),c=lb(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),f=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations),d=!1;u&&c?u.data.isEqual(c.data)?h!==f&&(n.track({type:3,doc:c}),d=!0):this.ya(u,c)||(n.track({type:2,doc:c}),d=!0,(o&&this.Va(c,o)>0||l&&0>this.Va(c,l))&&(s=!0)):!u&&c?(n.track({type:0,doc:c}),d=!0):u&&!c&&(n.track({type:1,doc:u}),d=!0,(o||l)&&(s=!0)),d&&(c?(a=a.add(c),i=f?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;a.size>this.query.limit;){let e="F"===this.query.limitType?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ma:a,pa:n,ss:s,mutatedKeys:i}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){let i=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;let a=e.pa.j_();a.sort((e,t)=>(function(e,t){let n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return sX()}};return n(e)-n(t)})(e.type,t.type)||this.Va(e.doc,t.doc)),this.wa(n),r=null!=r&&r;let s=t&&!r?this.Sa():[],o=0===this.Ra.size&&this.current&&!r?1:0,l=o!==this.Aa;return(this.Aa=o,0!==a.length||l)?{snapshot:new c0(this.query,e.ma,i,a,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),ba:s}:{ba:s}}ea(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ma:this.ma,pa:new cZ,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(e=>this.da=this.da.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.da=this.da.delete(e)),this.current=e.current)}Sa(){if(!this.current)return[];let e=this.Ra;this.Ra=lN(),this.ma.forEach(e=>{this.Da(e.key)&&(this.Ra=this.Ra.add(e.key))});let t=[];return e.forEach(e=>{this.Ra.has(e)||t.push(new ht(e))}),this.Ra.forEach(n=>{e.has(n)||t.push(new he(n))}),t}va(e){this.da=e.ds,this.Ra=lN();let t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return c0.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,0===this.Aa,this.hasCachedResults)}}class hr{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class hi{constructor(e){this.key=e,this.Fa=!1}}class ha{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Ma={},this.xa=new l_(e=>lv(e),ly),this.Oa=new Map,this.Na=new Set,this.La=new ow(ol.comparator),this.Ba=new Map,this.ka=new uX,this.qa={},this.Qa=new Map,this.Ka=uj.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return!0===this.$a}}async function hs(e,t,n=!0){let r;let i=hI(e),a=i.xa.get(t);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),r=a.view.Ca()):r=await hl(i,t,n,!0),r}async function ho(e,t){let n=hI(e);await hl(n,t,!0,!1)}async function hl(e,t,n,r){var i,a;let s;let o=await (i=e.localStore,a=lm(t),i.persistence.runTransaction("Allocate target","readwrite",e=>{let t;return i.Gr.getTargetData(e,a).next(n=>n?(t=n,of.resolve(t)):i.Gr.allocateTargetId(e).next(n=>(t=new uD(a,n,"TargetPurposeListen",e.currentSequenceNumber),i.Gr.addTargetData(e,t).next(()=>t))))}).then(e=>{let t=i.us.get(e.targetId);return(null===t||e.snapshotVersion.compareTo(t.snapshotVersion)>0)&&(i.us=i.us.insert(e.targetId,e),i.cs.set(a,e.targetId)),e})),l=o.targetId,u=e.sharedClientState.addLocalQueryTarget(l,n);return r&&(s=await hu(e,t,l,"current"===u,o.resumeToken)),e.isPrimaryClient&&n&&cx(e.remoteStore,o),s}async function hu(e,t,n,r,i){e.Ua=(t,n,r)=>(async function(e,t,n,r){let i=t.view.ga(n);i.ss&&(i=await ci(e.localStore,t.query,!1).then(({documents:e})=>t.view.ga(e,i)));let a=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,a,s);return h_(e,t.targetId,o.ba),o.snapshot})(e,t,n,r);let a=await ci(e.localStore,t,!0),s=new hn(t,a.ds),o=s.ga(a.documents),l=ua.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=s.applyChanges(o,e.isPrimaryClient,l);h_(e,n,u.ba);let c=new hr(t,n,s);return e.xa.set(t,c),e.Oa.has(n)?e.Oa.get(n).push(t):e.Oa.set(n,[t]),u.snapshot}async function hc(e,t,n){let r=e.xa.get(t),i=e.Oa.get(r.targetId);if(i.length>1)return e.Oa.set(r.targetId,i.filter(e=>!ly(e,t))),void e.xa.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(r.targetId),e.sharedClientState.isActiveQueryTarget(r.targetId)||await cr(e.localStore,r.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(r.targetId),n&&cI(e.remoteStore,r.targetId),hb(e,r.targetId)}).catch(oh)):(hb(e,r.targetId),await cr(e.localStore,r.targetId,!0))}async function hh(e,t){let n=e.xa.get(t),r=e.Oa.get(n.targetId);e.isPrimaryClient&&1===r.length&&(e.sharedClientState.removeLocalQueryTarget(n.targetId),cI(e.remoteStore,n.targetId))}async function hf(e,t,n){var r;let i=(e.remoteStore.remoteSyncer.applySuccessfulWrite=hg.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hy.bind(null,e),e);try{let e;let a=await function(e,t){let n,r;let i=on.now(),a=t.reduce((e,t)=>e.add(t.key),lN());return e.persistence.runTransaction("Locally write mutations","readwrite",s=>{let o=lS,l=lN();return e.hs.getEntries(s,a).next(e=>{(o=e).forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>e.localDocuments.getOverlayedDocuments(s,o)).next(r=>{n=r;let a=[];for(let e of t){let t=function(e,t){let n=null;for(let r of e.fieldTransforms){let e=t.data.field(r.field),i=lO(r.transform,e||null);null!=i&&(null===n&&(n=oJ.empty()),n.set(r.field,i))}return n||null}(e,n.get(e.key).overlayedDocument);null!=t&&a.push(new lJ(e.key,t,function e(t){let n=[];return oy(t.fields,(t,r)=>{let i=new oo([t]);if(oG(r)){let t=e(r.mapValue).fields;if(0===t.length)n.push(i);else for(let e of t)n.push(i.child(e))}else n.push(i)}),new ok(n)}(t.value.mapValue),lH.exists(!0)))}return e.mutationQueue.addMutationBatch(s,i,a,t)}).next(t=>{r=t;let i=t.applyToLocalDocumentSet(n,l);return e.documentOverlayCache.saveOverlays(s,t.batchId,i)})}).then(()=>({batchId:r.batchId,changes:lx(n)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(a.batchId),r=a.batchId,(e=i.qa[i.currentUser.toKey()])||(e=new ow(oe)),e=e.insert(r,n),i.qa[i.currentUser.toKey()]=e,await hk(i,a.changes),await cV(i.remoteStore)}catch(t){let e=cX(t,"Failed to persist write");n.reject(e)}}async function hd(e,t){try{let n=await function(e,t){let n=t.snapshotVersion,r=e.us;return e.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{var a;let s,o;let l=e.hs.newChangeBuffer({trackRemovals:!0});r=e.us;let u=[];t.targetChanges.forEach((a,s)=>{var o;let l=r.get(s);if(!l)return;u.push(e.Gr.removeMatchingKeys(i,a.removedDocuments,s).next(()=>e.Gr.addMatchingKeys(i,a.addedDocuments,s)));let c=l.withSequenceNumber(i.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(ox.EMPTY_BYTE_STRING,or.min()).withLastLimboFreeSnapshotVersion(or.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,n)),r=r.insert(s,c),o=c,(0===l.resumeToken.approximateByteSize()||o.snapshotVersion.toMicroseconds()-l.snapshotVersion.toMicroseconds()>=3e8||a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size>0)&&u.push(e.Gr.updateTargetData(i,c))});let c=lS,h=lN();if(t.documentUpdates.forEach(n=>{t.resolvedLimboDocuments.has(n)&&u.push(e.persistence.referenceDelegate.updateLimboDocument(i,n))}),u.push((a=t.documentUpdates,s=lN(),o=lN(),a.forEach(e=>s=s.add(e)),l.getEntries(i,s).next(e=>{let t=lS;return a.forEach((n,r)=>{let i=e.get(n);r.isFoundDocument()!==i.isFoundDocument()&&(o=o.add(n)),r.isNoDocument()&&r.version.isEqual(or.min())?(l.removeEntry(n,r.readTime),t=t.insert(n,r)):!i.isValidDocument()||r.version.compareTo(i.version)>0||0===r.version.compareTo(i.version)&&i.hasPendingWrites?(l.addEntry(r),t=t.insert(n,r)):sK("LocalStore","Ignoring outdated watch update for ",n,". Current version:",i.version," Watch version:",r.version)}),{Is:t,Es:o}})).next(e=>{c=e.Is,h=e.Es})),!n.isEqual(or.min())){let t=e.Gr.getLastRemoteSnapshotVersion(i).next(t=>e.Gr.setTargetsMetadata(i,i.currentSequenceNumber,n));u.push(t)}return of.waitFor(u).next(()=>l.apply(i)).next(()=>e.localDocuments.getLocalViewOfDocuments(i,c,h)).next(()=>c)}).then(t=>(e.us=r,t))}(e.localStore,t);t.targetChanges.forEach((t,n)=>{let r=e.Ba.get(n);r&&(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1||sX(),t.addedDocuments.size>0?r.Fa=!0:t.modifiedDocuments.size>0?r.Fa||sX():t.removedDocuments.size>0&&(r.Fa||sX(),r.Fa=!1))}),await hk(e,n,t)}catch(e){await oh(e)}}function hp(e,t,n){var r;if(e.isPrimaryClient&&0===n||!e.isPrimaryClient&&1===n){let n;let i=[];e.xa.forEach((e,n)=>{let r=n.view.ea(t);r.snapshot&&i.push(r.snapshot)}),(r=e.eventManager).onlineState=t,n=!1,r.queries.forEach((e,r)=>{for(let e of r.J_)e.ea(t)&&(n=!0)}),n&&c7(r),i.length&&e.Ma.R_(i),e.onlineState=t,e.isPrimaryClient&&e.sharedClientState.setOnlineState(t)}}async function hm(e,t,n){e.sharedClientState.updateQueryState(t,"rejected",n);let r=e.Ba.get(t),i=r&&r.key;if(i){let n=new ow(ol.comparator);n=n.insert(i,oZ.newNoDocument(i,or.min()));let r=lN().add(i),a=new ui(or.min(),new Map,new ow(oe),n,r);await hd(e,a),e.La=e.La.remove(i),e.Ba.delete(t),hS(e)}else await cr(e.localStore,t,!1).then(()=>hb(e,t,n)).catch(oh)}async function hg(e,t){var n;let r=t.batch.batchId;try{let i=await (n=e.localStore).persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{let r=t.batch.keys(),i=n.hs.newChangeBuffer({trackRemovals:!0});return(function(e,t,n,r){let i=n.batch,a=i.keys(),s=of.resolve();return a.forEach(e=>{s=s.next(()=>r.getEntry(t,e)).next(t=>{let a=n.docVersions.get(e);null!==a||sX(),0>t.version.compareTo(a)&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),s.next(()=>e.mutationQueue.removeMutationBatch(t,i))})(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=lN();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))});hw(e,r,null),hv(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await hk(e,i)}catch(e){await oh(e)}}async function hy(e,t,n){var r;try{let i=await (r=e.localStore).persistence.runTransaction("Reject batch","readwrite-primary",e=>{let n;return r.mutationQueue.lookupMutationBatch(e,t).next(t=>(null!==t||sX(),n=t.keys(),r.mutationQueue.removeMutationBatch(e,t))).next(()=>r.mutationQueue.performConsistencyCheck(e)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(e,n,t)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,n)).next(()=>r.localDocuments.getDocuments(e,n))});hw(e,t,n),hv(e,t),e.sharedClientState.updateMutationState(t,"rejected",n),await hk(e,i)}catch(e){await oh(e)}}function hv(e,t){(e.Qa.get(t)||[]).forEach(e=>{e.resolve()}),e.Qa.delete(t)}function hw(e,t,n){let r=e.qa[e.currentUser.toKey()];if(r){let i=r.get(t);i&&(n?i.reject(n):i.resolve(),r=r.remove(t)),e.qa[e.currentUser.toKey()]=r}}function hb(e,t,n=null){for(let r of(e.sharedClientState.removeLocalQueryTarget(t),e.Oa.get(t)))e.xa.delete(r),n&&e.Ma.Wa(r,n);e.Oa.delete(t),e.isPrimaryClient&&e.ka.yr(t).forEach(t=>{e.ka.containsKey(t)||hE(e,t)})}function hE(e,t){e.Na.delete(t.path.canonicalString());let n=e.La.get(t);null!==n&&(cI(e.remoteStore,n),e.La=e.La.remove(t),e.Ba.delete(n),hS(e))}function h_(e,t,n){for(let r of n)r instanceof he?(e.ka.addReference(r.key,t),function(e,t){let n=t.key,r=n.path.canonicalString();e.La.get(n)||e.Na.has(r)||(sK("SyncEngine","New document in limbo: "+n),e.Na.add(r),hS(e))}(e,r)):r instanceof ht?(sK("SyncEngine","Document no longer in limbo: "+r.key),e.ka.removeReference(r.key,t),e.ka.containsKey(r.key)||hE(e,r.key)):sX()}function hS(e){for(;e.Na.size>0&&e.La.size<e.maxConcurrentLimboResolutions;){let t=e.Na.values().next().value;e.Na.delete(t);let n=new ol(oa.fromString(t)),r=e.Ka.next();e.Ba.set(r,new hi(n)),e.La=e.La.insert(n,r),cx(e.remoteStore,new uD(lm(new lf(n.path)),r,"TargetPurposeLimboResolution",op.oe))}}async function hk(e,t,n){let r=[],i=[],a=[];e.xa.isEmpty()||(e.xa.forEach((s,o)=>{a.push(e.Ua(o,t,n).then(t=>{var a;if((t||n)&&e.isPrimaryClient){let r=t?!t.fromCache:null===(a=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===a?void 0:a.current;e.sharedClientState.updateQueryState(o.targetId,r?"current":"not-current")}if(t){r.push(t);let e=u8.zi(o.targetId,t);i.push(e)}}))}),await Promise.all(a),e.Ma.R_(r),await async function(e,t){try{await e.persistence.runTransaction("notifyLocalViewChanges","readwrite",n=>of.forEach(t,t=>of.forEach(t.Wi,r=>e.persistence.referenceDelegate.addReference(n,t.targetId,r)).next(()=>of.forEach(t.Gi,r=>e.persistence.referenceDelegate.removeReference(n,t.targetId,r)))))}catch(e){if(!od(e))throw e;sK("LocalStore","Failed to update sequence numbers: "+e)}for(let n of t){let t=n.targetId;if(!n.fromCache){let n=e.us.get(t),r=n.snapshotVersion,i=n.withLastLimboFreeSnapshotVersion(r);e.us=e.us.insert(t,i)}}}(e.localStore,i))}async function hT(e,t){var n;if(!e.currentUser.isEqual(t)){sK("SyncEngine","User change. New user:",t.toKey());let r=await ct(e.localStore,t);e.currentUser=t,n="'waitForPendingWrites' promise is rejected due to a user change.",e.Qa.forEach(e=>{e.forEach(e=>{e.reject(new sZ(sJ.CANCELLED,n))})}),e.Qa.clear(),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await hk(e,r.Ts)}}function hx(e,t){let n=e.Ba.get(t);if(n&&n.Fa)return lN().add(n.key);{let n=lN(),r=e.Oa.get(t);if(!r)return n;for(let t of r){let r=e.xa.get(t);n=n.unionWith(r.view.fa)}return n}}function hI(e){return e.remoteStore.remoteSyncer.applyRemoteEvent=hd.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hm.bind(null,e),e.Ma.R_=c5.bind(null,e.eventManager),e.Ma.Wa=c8.bind(null,e.eventManager),e}class hC{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cg(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){var t;return t=this.persistence,new ce(t,new u9,e.initialUser,this.serializer)}ja(e){return new u3(u6.ei,this.serializer)}za(e){return new cs}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hC.provider={build:()=>new hC};class hR extends hC{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){return this.persistence.referenceDelegate instanceof u5||sX(),new u$(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}ja(e){let t=void 0!==this.cacheSizeBytes?uV.withCacheSize(this.cacheSizeBytes):uV.DEFAULT;return new u3(e=>u5.ei(e,t),this.serializer)}}class hN{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>hp(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=hT.bind(null,this.syncEngine),await cK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new c2}createDatastore(e){let t=cg(e.databaseInfo.databaseId),n=new cp(e.databaseInfo);return new cE(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){var t;return t=this.localStore,new cS(t,this.datastore,e.asyncQueue,e=>hp(this.syncEngine,e,0),cl.p()?new cl:new co)}createSyncEngine(e,t){return function(e,t,n,r,i,a,s){let o=new ha(e,t,n,r,i,a);return s&&(o.$a=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){sK("RemoteStore","RemoteStore shutting down."),e.k_.add(5),await cT(e),e.Q_.shutdown(),e.K_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}hN.provider={build:()=>new hN};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):sG("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=s$.UNAUTHENTICATED,this.clientId=s9.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{sK("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(sK("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new s0;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let t=cX(n,"Failed to shutdown persistence");e.reject(t)}}),e.promise}}async function hD(e,t){e.asyncQueue.verifyOperationInProgress(),sK("FirestoreClient","Initializing OfflineComponentProvider");let n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await ct(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function hL(e,t){e.asyncQueue.verifyOperationInProgress();let n=await hO(e);sK("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>cW(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>cW(t.remoteStore,n)),e._onlineComponents=t}async function hO(e){if(!e._offlineComponents){if(e._uninitializedComponentsProvider){sK("FirestoreClient","Using user provided OfflineComponentProvider");try{await hD(e,e._uninitializedComponentsProvider._offline)}catch(t){if(!("FirebaseError"===t.name?t.code===sJ.FAILED_PRECONDITION||t.code===sJ.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code))throw t;sQ("Error using user provided cache. Falling back to memory cache: "+t),await hD(e,new hC)}}else sK("FirestoreClient","Using default OfflineComponentProvider"),await hD(e,new hR(void 0))}return e._offlineComponents}async function hM(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(sK("FirestoreClient","Using user provided OnlineComponentProvider"),await hL(e,e._uninitializedComponentsProvider._online)):(sK("FirestoreClient","Using default OnlineComponentProvider"),await hL(e,new hN))),e._onlineComponents}async function hU(e){let t=await hM(e),n=t.eventManager;return n.onListen=hs.bind(null,t.syncEngine),n.onUnlisten=hc.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=ho.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=hh.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hF(e){let t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hj(e,t,n){if(!n)throw new sZ(sJ.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function hB(e){if(!ol.isDocumentKey(e))throw new sZ(sJ.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function hz(e){if(ol.isDocumentKey(e))throw new sZ(sJ.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function h$(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{var t;let n=(t=e).constructor?t.constructor.name:null;return n?`a custom ${n} object`:"an object"}}return"function"==typeof e?"a function":sX()}function hq(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new sZ(sJ.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=h$(e);throw new sZ(sJ.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hH{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new sZ(sJ.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=0x2800000;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new sZ(sJ.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new sZ(sJ.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hF(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new sZ(sJ.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new sZ(sJ.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new sZ(sJ.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){var t,n;return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hW{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hH({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new sZ(sJ.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new sZ(sJ.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hH(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new s2;switch(e.type){case"firstParty":return new s5(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new sZ(sJ.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){let t=hV.get(e);t&&(sK("ComponentProvider","Removing Datastore"),hV.delete(e),t.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hK{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new hK(this.firestore,e,this._query)}}class hG{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hQ(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hG(this.firestore,e,this._key)}}class hQ extends hK{constructor(e,t,n){super(e,t,new lf(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new hG(this.firestore,null,new ol(e))}withConverter(e){return new hQ(this.firestore,e,this._path)}}function hY(e,t,...n){if(e=np(e),hj("collection","path",t),e instanceof hW){let r=oa.fromString(t,...n);return hz(r),new hQ(e,null,r)}{if(!(e instanceof hG||e instanceof hQ))throw new sZ(sJ.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=e._path.child(oa.fromString(t,...n));return hz(r),new hQ(e.firestore,null,r)}}function hX(e,t,...n){if(e=np(e),1==arguments.length&&(t=s9.newId()),hj("doc","path",t),e instanceof hW){let r=oa.fromString(t,...n);return hB(r),new hG(e,null,new ol(r))}{if(!(e instanceof hG||e instanceof hQ))throw new sZ(sJ.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=e._path.child(oa.fromString(t,...n));return hB(r),new hG(e.firestore,e instanceof hQ?e.converter:null,new ol(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hJ{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new cy(this,"async_queue_retry"),this.fu=()=>{let e=cm();e&&sK("AsyncQueue","Visibility state changed to "+e.visibilityState),this.r_.Jo()},this.gu=e;let t=cm();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;let t=cm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});let t=new s0;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(0!==this.Iu.length){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!od(e))throw e;sK("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){let t=this.gu.then(()=>(this.Ru=!0,e().catch(e=>{let t;throw this.Au=e,this.Ru=!1,sG("INTERNAL UNHANDLED ERROR: ",(t=e.message||"",e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t)),e}).then(e=>(this.Ru=!1,e))));return this.gu=t,t}enqueueAfterDelay(e,t,n){this.pu(),this.mu.indexOf(e)>-1&&(t=0);let r=cY.createAndSchedule(this,e,t,n,e=>this.Su(e));return this.du.push(r),r}pu(){this.Au&&sX()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(let t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{for(let t of(this.du.sort((e,t)=>e.targetTimeMs-t.targetTimeMs),this.du))if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){let t=this.du.indexOf(e);this.du.splice(t,1)}}class hZ extends hW{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new hJ,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new hJ(e),this._firestoreClient=void 0,await e}}}function h0(e){if(e._terminated)throw new sZ(sJ.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||function(e){var t,n,r,i;let a=e._freezeSettings(),s=(i=e._databaseId,new oL(i,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,hF(a.experimentalLongPollingOptions),a.useFetchStreams));e._componentsProvider||(null===(n=a.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=a.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new hP(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){let t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}(e),e._firestoreClient}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e){this._byteString=e}static fromBase64String(e){try{return new h1(ox.fromBase64String(e))}catch(e){throw new sZ(sJ.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new h1(ox.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new sZ(sJ.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new oo(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new sZ(sJ.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new sZ(sJ.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return oe(this._lat,e._lat)||oe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5=/^__.*__$/;class h8{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new lJ(e,this.data,this.fieldMask,t,this.fieldTransforms):new lX(e,this.data,t,this.fieldTransforms)}}class h7{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new lJ(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function h9(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw sX()}}class fe{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Fu(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new fe(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;let n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xu({path:n,Nu:!1});return r.Lu(e),r}Bu(e){var t;let n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xu({path:n,Nu:!1});return r.Fu(),r}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return fh(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(0===e.length)throw this.qu("Document fields must not be empty");if(h9(this.Mu)&&h5.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class ft{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||cg(e)}$u(e,t,n,r=!1){return new fe({Mu:e,methodName:t,Ku:n,path:oo.emptyPath(),Nu:!1,Qu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fn(e){let t=e._freezeSettings(),n=cg(e._databaseId);return new ft(e._databaseId,!!t.ignoreUndefinedProperties,n)}class fr extends h3{_toFieldTransform(e){if(2!==e.Mu)throw 1===e.Mu?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fr}}function fi(e,t){if(fs(e=np(e)))return fo("Unsupported field value:",t,e),fa(e,t);if(e instanceof h3)return function(e,t){if(!h9(t.Mu))throw t.qu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.qu(`${e._methodName}() is not currently supported inside arrays`);let n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Nu&&4!==t.Mu)throw t.qu("Nested arrays are not supported");return function(e,t){let n=[],r=0;for(let i of e){let e=fi(i,t.ku(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){var n,r,i;if(null===(e=np(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return n=t.serializer,"number"==typeof(i=r=e)&&Number.isInteger(i)&&!om(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER?lD(r):lP(n,r);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){let n=on.fromDate(e);return{timestampValue:uv(t.serializer,n)}}if(e instanceof on){let n=new on(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:uv(t.serializer,n)}}if(e instanceof h4)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof h1)return{bytesValue:uw(t.serializer,e._byteString)};if(e instanceof hG){let n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.qu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:uE(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof h6)return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.qu("VectorValues must only contain numeric values.");return lP(t.serializer,e)})}}}}};throw t.qu(`Unsupported field value: ${h$(e)}`)}(e,t)}function fa(e,t){let n={};return ov(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):oy(e,(e,r)=>{let i=fi(r,t.Ou(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function fs(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof on||e instanceof h4||e instanceof h1||e instanceof hG||e instanceof h3||e instanceof h6)}function fo(e,t,n){if(!fs(n)||!("object"==typeof n&&null!==n&&(Object.getPrototypeOf(n)===Object.prototype||null===Object.getPrototypeOf(n)))){let r=h$(n);throw"an object"===r?t.qu(e+" a custom object"):t.qu(e+" "+r)}}function fl(e,t,n){if((t=np(t))instanceof h2)return t._internalPath;if("string"==typeof t)return fc(e,t);throw fh("Field path arguments must be of type string or ",e,!1,void 0,n)}const fu=RegExp("[~\\*/\\[\\]]");function fc(e,t,n){if(t.search(fu)>=0)throw fh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new h2(...t.split("."))._internalPath}catch(r){throw fh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function fh(e,t,n,r,i){let a=r&&!r.isEmpty(),s=void 0!==i,o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new sZ(sJ.INVALID_ARGUMENT,o+e+l)}function ff(e,t){return e.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new hG(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){let e=new fp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(fm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class fp extends fd{data(){return super.data()}}function fm(e,t){return"string"==typeof t?fc(e,t):t instanceof h2?t._internalPath:t._delegate._internalPath}class fg{convertValue(e,t="none"){switch(oU(e)){case 0:return null;case 1:return e.booleanValue;case 2:return oR(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(oN(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw sX()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let n={};return oy(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,r;return new h6(null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(e=>oR(e.doubleValue)))}convertGeoPoint(e){return new h4(oR(e.latitude),oR(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":let n=oP(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(oD(e));default:return null}}convertTimestamp(e){let t=oC(e);return new on(t.seconds,t.nanos)}convertDocumentKey(e,t){let n=oa.fromString(e);uP(n)||sX();let r=new oO(n.get(1),n.get(3)),i=new ol(n.popFirst(5));return r.isEqual(t)||sG(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fv extends fd{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new fw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let n=this._document.data.field(fm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class fw extends fv{data(e={}){return super.data(e)}}class fb{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new fy(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new fw(this._firestore,this._userDataWriter,n.key,n,new fy(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new sZ(sJ.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{let r=new fw(e._firestore,e._userDataWriter,n.doc.key,n.doc,new fy(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{let r=new fw(e._firestore,e._userDataWriter,t.doc.key,t.doc,new fy(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(a=(n=n.add(t.doc)).indexOf(t.doc.key)),{type:function(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return sX()}}(t.type),doc:r,oldIndex:i,newIndex:a}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}class fE extends fg{constructor(e){super(),this.firestore=e}convertBytes(e){return new h1(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new hG(this.firestore,null,t)}}function f_(e){e=hq(e,hK);let t=hq(e.firestore,hZ),n=h0(t),r=new fE(t);return(/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new sZ(sJ.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(e._query),(function(e,t,n={}){let r=new s0;return e.asyncQueue.enqueueAndForget(async()=>(function(e,t,n,r,i){let a=new hA({next:n=>{a.eu(),t.enqueueAndForget(()=>c6(e,s)),n.fromCache&&"server"===r.source?i.reject(new sZ(sJ.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new c9(n,a,{includeMetadataChanges:!0,ua:!0});return c4(e,s)})(await hU(e),e.asyncQueue,t,n,r)),r.promise})(n,e._query).then(n=>new fb(t,r,e,n)))}function fS(e,t,n,...r){e=hq(e,hG);let i=hq(e.firestore,hZ),a=fn(i);return fT(i,[("string"==typeof(t=np(t))||t instanceof h2?function(e,t,n,r,i,a){let s=e.$u(1,t,n),o=[fl(t,r,n)],l=[i];if(a.length%2!=0)throw new sZ(sJ.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<a.length;e+=2)o.push(fl(t,a[e])),l.push(a[e+1]);let u=[],c=oJ.empty();for(let e=o.length-1;e>=0;--e)if(!ff(u,o[e])){let t=o[e],n=l[e];n=np(n);let r=s.Bu(t);if(n instanceof fr)u.push(t);else{let e=fi(n,r);null!=e&&(u.push(t),c.set(t,e))}}return new h7(c,new ok(u),s.fieldTransforms)}(a,"updateDoc",e._key,t,n,r):function(e,t,n,r){let i=e.$u(1,t,n);fo("Data must be an object, but it was:",i,r);let a=[],s=oJ.empty();return oy(r,(e,r)=>{let o=fc(t,e,n);r=np(r);let l=i.Bu(o);if(r instanceof fr)a.push(o);else{let e=fi(r,l);null!=e&&(a.push(o),s.set(o,e))}}),new h7(s,new ok(a),i.fieldTransforms)}(a,"updateDoc",e._key,t)).toMutation(e._key,lH.exists(!0))])}function fk(e,t){var n;let r=hq(e.firestore,hZ),i=hX(e),a=(n=e.converter)?n.toFirestore(t):t;return fT(r,[(function(e,t,n,r,i,a={}){let s,o;let l=e.$u(a.merge||a.mergeFields?2:0,t,n,i);fo("Data must be an object, but it was:",l,r);let u=fa(r,l);if(a.merge)s=new ok(l.fieldMask),o=l.fieldTransforms;else if(a.mergeFields){let e=[];for(let r of a.mergeFields){let i=fl(t,r,n);if(!l.contains(i))throw new sZ(sJ.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);ff(e,i)||e.push(i)}s=new ok(e),o=l.fieldTransforms.filter(e=>s.covers(e.field))}else s=null,o=l.fieldTransforms;return new h8(new oJ(u),s,o)})(fn(e.firestore),"addDoc",i._key,a,null!==e.converter,{}).toMutation(i._key,lH.exists(!1))]).then(()=>i)}function fT(e,t){return function(e,t){let n=new s0;return e.asyncQueue.enqueueAndForget(async()=>hf(await hM(e).then(e=>e.syncEngine),t,n)),n.promise}(h0(e),t)}new WeakMap,function(e=!0){sq=nZ,nG(new nm("firestore",(t,{instanceIdentifier:n,options:r})=>{let i=t.getProvider("app").getImmediate(),a=new hZ(new s4(t.getProvider("auth-internal")),new s7(t.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new sZ(sJ.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oO(e.options.projectId,t)}(i,n),i);return r=Object.assign({useFetchStreams:e},r),a._setSettings(r),a},"PUBLIC").setMultipleInstances(!0)),n2(sz,"4.7.5",void 0),n2(sz,"4.7.5","esm2017")}();const fx=(0,J.createContext)(null),fI=()=>(0,J.useContext)(fx),fC=n0({apiKey:"AIzaSyAPd_OOHcDamdKsxn1jHLLaVi1uvicTwxg",authDomain:"notificationsystem-c1552.firebaseapp.com",projectId:"notificationsystem-c1552",storageBucket:"notificationsystem-c1552.firebasestorage.app",messagingSenderId:"383363146689",appId:"1:383363146689:web:2133223589b96cf31fc540",measurementId:"G-SNS7LJFETC"}),fR=function(e=n1()){let t=nQ(e,"auth");if(t.isInitialized())return t.getImmediate();let n=/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e,t){let n=nQ(e,"auth");if(n.isInitialized()){let e=n.getImmediate();if(no(n.getOptions(),null!=t?t:{}))return e;rl(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:aG,persistence:[au,i2,i3]}),r=nt("authTokenSyncURL");if(r&&"boolean"==typeof isSecureContext&&isSecureContext){let e=new URL(r,location.origin);if(location.origin===e.origin){var i,a;let t=a6(e.toString());i=()=>t(n.currentUser),np(n).beforeAuthStateChanged(t,i),a=e=>t(e),np(n).onIdTokenChanged(a,void 0,void 0)}}let s=t7("auth");return s&&function(e,t,n){let r=np(e);rd(r._canInitEmulator,r,"emulator-config-failed"),rd(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");let i=iv(t),{host:a,port:s}=function(e){let t=iv(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let e=i[1];return{host:e,port:iw(r.substr(e.length+1))}}{let[e,t]=r.split(":");return{host:e,port:iw(t)}}}(t),o=null===s?"":`:${s}`;r.config.emulator={url:`${i}//${a}${o}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:!1})}),function(){function e(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(n,`http://${s}`),n}(fC),fN=function(e,t){let n=nQ("object"==typeof e?e:n1(),"firestore").getImmediate({identifier:"string"==typeof e?e:"(default)"});if(!n._initialized){let e=t9("firestore");e&&function(e,t,n,r={}){var i;let a=(e=hq(e,hW))._getSettings(),s=`${t}:${n}`;if("firestore.googleapis.com"!==a.host&&a.host!==s&&sQ("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=s$.MOCK_USER;else{t=function(e,t){if(e.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw Error("mockUserToken must contain 'sub' or 'user_id' field!");let a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[t2(JSON.stringify({alg:"none",type:"JWT"})),t2(JSON.stringify(a)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);let a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new sZ(sJ.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new s$(a)}e._authCredentials=new s3(new s1(t,n))}}(n,...e)}return n}(fC),fA=new iV;/**
 * React Router DOM v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var J=Q("acw62");function fP(){return(fP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}try{window.__reactRouterVersion="6"}catch(e){}const fD=J.createContext({isTransitioning:!1}),fL=J.createContext(new Map),fO=J.startTransition,fM=ee.flushSync;function fU(e){fM?fM(e):e()}J.useId;class fF{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=t=>{"pending"===this.status&&(this.status="resolved",e(t))},this.reject=e=>{"pending"===this.status&&(this.status="rejected",t(e))}})}}const fV=J.memo(function(e){let{routes:t,future:n,state:r}=e;return tT(t,void 0,r,n)});"undefined"!=typeof window&&void 0!==window.document&&window.document.createElement,(p=q||(q={})).UseScrollRestoration="useScrollRestoration",p.UseSubmit="useSubmit",p.UseSubmitFetcher="useSubmitFetcher",p.UseFetcher="useFetcher",p.useViewTransitionState="useViewTransitionState",(m=H||(H={})).UseFetcher="useFetcher",m.UseFetchers="useFetchers",m.UseScrollRestoration="useScrollRestoration";var fj=()=>{let[e,t]=(0,J.useState)(""),[n,r]=(0,J.useState)(""),[i,a]=(0,J.useState)(!1),s=fI(),o=tk();(0,J.useEffect)(()=>{s.isLoggedIn&&o("/")},[s.isLoggedIn,o]);let l=async t=>{t.preventDefault(),a(!0);try{console.log("Signing up..."),await s.signupUserWithEmailAndPassword(e,n),console.log("Registration successful"),o("/")}catch(e){console.error("Error registering user:",e),alert("Registration failed. Please try again.")}finally{a(!1)}};return(0,X.jsxs)("div",{className:"max-w-md mx-auto mt-8 p-6 bg-white shadow-lg rounded-lg",children:[(0,X.jsx)("h2",{className:"text-2xl font-semibold text-center mb-4",children:"Register"}),(0,X.jsxs)("form",{onSubmit:l,children:[(0,X.jsx)("input",{type:"text",placeholder:"Username",className:"w-full p-2 mb-4 border border-gray-300 rounded",value:e,onChange:e=>t(e.target.value),required:!0}),(0,X.jsx)("input",{type:"password",placeholder:"Password",className:"w-full p-2 mb-4 border border-gray-300 rounded",value:n,onChange:e=>r(e.target.value),required:!0}),(0,X.jsx)("button",{type:"submit",className:"w-full py-2 bg-green-500 text-white rounded hover:bg-green-600",disabled:i,children:i?"Registering...":"Create Account"})]})]})},J=Q("acw62"),fB=()=>{let[e,t]=(0,J.useState)(""),[n,r]=(0,J.useState)(""),[i,a]=(0,J.useState)(!1),s=fI(),o=tk();(0,J.useEffect)(()=>{s.isLoggedIn&&o("/")},[s.isLoggedIn,o]);let l=async t=>{t.preventDefault(),a(!0);try{console.log("Signing in..."),await s.loginWithEmailAndPassword(e,n),console.log("Login successful"),o("/")}catch(e){console.error("Login error:",e),alert("Login failed. Please check your credentials and try again.")}finally{a(!1)}};return(0,X.jsxs)("div",{className:"max-w-md mx-auto mt-8 p-6 bg-white shadow-lg rounded-lg",children:[(0,X.jsx)("h2",{className:"text-2xl font-semibold text-center mb-4",children:"Login"}),(0,X.jsxs)("form",{onSubmit:l,children:[(0,X.jsx)("input",{type:"text",placeholder:"Username",className:"w-full p-2 mb-4 border border-gray-300 rounded",value:e,onChange:e=>t(e.target.value),required:!0}),(0,X.jsx)("input",{type:"password",placeholder:"Password",className:"w-full p-2 mb-4 border border-gray-300 rounded",value:n,onChange:e=>r(e.target.value),required:!0}),(0,X.jsx)("button",{type:"submit",className:"w-full py-2 bg-blue-500 text-white rounded hover:bg-blue-600",disabled:i,children:i?"Logging in...":"Login"})]}),(0,X.jsx)("h1",{className:"text-center my-4",children:"OR"}),(0,X.jsx)("button",{onClick:s.signinWithGoogle,className:"w-full py-2 bg-red-500 text-white rounded hover:bg-red-600",children:"Sign in with Google"})]})},J=Q("acw62"),fz=()=>{let[e,t]=(0,J.useState)(""),[n,r]=(0,J.useState)(""),[i,a]=(0,J.useState)(""),[s,o]=(0,J.useState)(!1),l=fI(),u=async s=>{s.preventDefault(),o(!0);try{let s=await l.handleCreateNewListing(e,n,i);s.success?(console.log("Listing created successfully with ID:",s.id),t(""),r(""),a("")):console.error("Error creating listing:",s.error)}catch(e){console.error("Unexpected error:",e)}finally{o(!1)}};return(0,X.jsx)("div",{children:(0,X.jsxs)("div",{className:"max-w-md mx-auto mt-8 p-6 bg-white shadow-lg rounded-lg",children:[(0,X.jsx)("h2",{className:"text-2xl font-semibold text-center mb-4",children:"Book Listing"}),(0,X.jsxs)("form",{onSubmit:u,children:[(0,X.jsx)("label",{children:"Book Name"}),(0,X.jsx)("input",{type:"text",placeholder:"Book Name",className:"w-full p-2 mb-4 border border-gray-300 rounded",value:e,onChange:e=>t(e.target.value)}),(0,X.jsx)("label",{children:"ISBN Number"}),(0,X.jsx)("input",{type:"number",placeholder:"ISBN Number",className:"w-full p-2 mb-4 border border-gray-300 rounded",value:n,onChange:e=>r(e.target.value)}),(0,X.jsx)("label",{children:"Price"}),(0,X.jsx)("input",{type:"text",placeholder:"Price",className:"w-full p-2 mb-4 border border-gray-300 rounded",value:i,onChange:e=>a(e.target.value)}),(0,X.jsx)("button",{type:"submit",className:"w-full py-2 bg-blue-500 text-white rounded hover:bg-blue-600",disabled:s,children:s?"Creating...":"Create"})]})]})})},J=Q("acw62"),f$=()=>{let e=fI(),[t,n]=(0,J.useState)([]);return(0,J.useEffect)(()=>{let t=async()=>{try{let t=(await e.listAllBooks()).docs.map(e=>({id:e.id,...e.data()})).filter(t=>t.userId===e.user?.uid);console.log(t),n(t)}catch(e){console.error("Error fetching books:",e)}};e.isLoggedIn?t():n([])},[e]),(0,X.jsxs)("div",{children:[(0,X.jsx)("h1",{className:"mx-4 p-4 justify-center flex font-semibold text-red-600",children:"Your Books"}),(0,X.jsx)("div",{className:"flex flex-row mx-4",children:t.length>0?t.map(e=>(0,X.jsxs)("div",{className:"gap-4 rounded-lg flex-col mx-4 bg-emerald-100 p-4 md:w-1/2 sm:w-1/2 lg:w-1/5",children:[(0,X.jsxs)("p",{children:["Book:"," ",(0,X.jsx)("span",{className:"text-black font-bold font-mono",children:e.name})]}),(0,X.jsxs)("p",{children:["ISBN: ",(0,X.jsx)("span",{className:"text-gray-700",children:e.isbn})]}),(0,X.jsxs)("p",{children:["Price: ",e.price]})]},e.id)):(0,X.jsx)("p",{className:"mx-auto text-gray-500",children:"No books found."})})]})},J=Q("acw62"),fq=()=>{let e=fI(),[t,n]=(0,J.useState)([]),[r,i]=(0,J.useState)(""),[a,s]=(0,J.useState)(!1),[o,l]=(0,J.useState)(!1);(0,J.useEffect)(()=>{(async()=>{let t=await e.listAllUsers();console.log("Fetched users:",t),n(t)})()},[e]);let u=t.filter(e=>e.isAdmin),c=t.filter(e=>!e.isAdmin),h=async()=>{try{await e.addUser({email:r,isAdmin:a}),i(""),s(!1),l(!1);let t=await e.listAllUsers();n(t)}catch(e){console.error("Error adding user:",e)}},f=async t=>{try{await e.deleteUser(t);let r=await e.listAllUsers();n(r)}catch(e){console.error("Error deleting user:",e)}},d=async t=>{try{await e.setUserAdmin(t,!0);let r=await e.listAllUsers();n(r)}catch(e){console.error("Error setting user as admin:",e)}},p=async t=>{try{await e.setUserAdmin(t,!1);let r=await e.listAllUsers();n(r)}catch(e){console.error("Error removing admin:",e)}};return(0,X.jsxs)("div",{className:"container mx-auto p-6",children:[(0,X.jsx)("h2",{className:"text-3xl font-semibold text-center mb-6",children:"Admin Dashboard"}),(0,X.jsxs)("div",{className:"mb-6",children:[(0,X.jsx)("h3",{className:"text-2xl font-semibold",children:"Admin Users"}),0===u.length?(0,X.jsx)("p",{children:"No admin users found."}):(0,X.jsx)("ul",{children:u.map(e=>(0,X.jsxs)("li",{className:"flex justify-between items-center py-2 px-4 bg-gray-100 mb-2 rounded-md",children:[(0,X.jsxs)("div",{children:[(0,X.jsx)("p",{children:e.email}),(0,X.jsx)("p",{className:"text-sm text-gray-500",children:"Status: Admin"})]}),(0,X.jsxs)("div",{className:"flex space-x-2",children:[(0,X.jsx)("button",{className:"text-red-500 hover:text-red-700",onClick:()=>p(e.uid),children:"Remove"}),(0,X.jsx)("button",{className:"text-red-500 hover:text-red-700",onClick:()=>f(e.uid),children:"Delete"})]})]},e.uid))})]}),(0,X.jsxs)("div",{className:"mb-6",children:[(0,X.jsx)("h3",{className:"text-2xl font-semibold",children:"Non-Admin Users"}),0===c.length?(0,X.jsx)("p",{children:"No non-admin users found."}):(0,X.jsx)("ul",{children:c.map(e=>(0,X.jsxs)("li",{className:"flex justify-between items-center py-2 px-4 bg-gray-100 mb-2 rounded-md",children:[(0,X.jsxs)("div",{children:[(0,X.jsx)("p",{children:e.email}),(0,X.jsx)("p",{className:"text-sm text-gray-500",children:"Status: Non-Admin"})]}),(0,X.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,X.jsx)("button",{className:"text-green-500 hover:text-green-700",onClick:()=>d(e.uid),children:"Set as Admin"}),(0,X.jsx)("button",{className:"text-red-500 hover:text-red-700",onClick:()=>f(e.uid),children:"Delete"})]})]},e.uid))})]}),(0,X.jsx)("button",{className:"w-full py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:()=>l(!0),children:"Add New User"}),o&&(0,X.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-50",children:(0,X.jsxs)("div",{className:"bg-white p-6 rounded-md shadow-lg w-96",children:[(0,X.jsx)("h3",{className:"text-2xl font-semibold mb-4",children:"Add New User"}),(0,X.jsx)("input",{type:"email",className:"w-full p-2 mb-4 border border-gray-300 rounded",placeholder:"Email",value:r,onChange:e=>i(e.target.value)}),(0,X.jsx)("label",{className:"block text-sm mb-2",children:"Role"}),(0,X.jsxs)("select",{className:"w-full p-2 mb-4 border border-gray-300 rounded",value:a,onChange:e=>s("true"===e.target.value),children:[(0,X.jsx)("option",{value:!1,children:"Non-Admin"}),(0,X.jsx)("option",{value:!0,children:"Admin"})]}),(0,X.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,X.jsx)("button",{className:"px-4 py-2 bg-gray-200 rounded text-gray-700",onClick:()=>l(!1),children:"Cancel"}),(0,X.jsx)("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:h,children:"Add User"})]})]})})]})};Q("acw62"),console.log("AIzaSyAPd_OOHcDamdKsxn1jHLLaVi1uvicTwxg"),console.log("notificationsystem-c1552.firebaseapp.com");var J=Q("acw62");const fH=(g=[{path:"/",element:(0,X.jsxs)(e=>{let[t,n]=(0,J.useState)(null);(0,J.useEffect)(()=>{var e;let t=(e=e=>{e?n(e):n(null)},np(fR).onAuthStateChanged(e,void 0,void 0));return()=>t()},[]);let r=async(e,t)=>{try{let n=hX(fN,"users",e);await fS(n,{isAdmin:t}),console.log(`User ${e} is now ${t?"an admin":"a regular user"}`)}catch(e){console.error("Error setting admin:",e)}},i=async()=>{try{return(await f_(hY(fN,"users"))).docs.map(e=>({uid:e.id,...e.data()}))}catch(e){throw console.error("Error fetching users:",e),e}},a=async e=>{try{let t=hY(fN,"users");await fk(t,e)}catch(e){console.error("Error adding user:",e)}},s=async e=>{try{let t=hX(fN,"users",e);await fT(hq(t.firestore,hZ),[new l2(t._key,lH.none())])}catch(e){console.error("Error deleting user:",e)}},o=async(e,t)=>{try{let n=hX(fN,"users",e);await fS(n,{isAdmin:t})}catch(e){console.error("Error updating user:",e)}},l=async()=>{try{await np(fR).signOut(),console.log("User logged out successfully")}catch(e){console.error("Error logging out:",e)}},u=async(e,n,r)=>{try{let i=await fk(hY(fN,"books"),{name:e,isbn:n,price:r,userId:t.uid,userEmail:t.email,displayName:t.displayName,photoURL:t.photoURL});return{success:!0,id:i.id}}catch(e){return console.error("Error creating new listing:",e),{success:!1,error:e.message}}},c=async()=>await f_(hY(fN,"books")),h=!!t;return(0,X.jsx)(fx.Provider,{value:{user:t,signupUserWithEmailAndPassword:(e,t,n)=>iJ(fR,e,t,n),loginWithEmailAndPassword:(e,t,n)=>nY(fR.app)?Promise.reject(rh(fR)):iY(np(fR),iO.credential(e,t)).catch(async e=>{throw"auth/password-does-not-meet-requirements"===e.code&&iX(fR),e}),signinWithGoogle:()=>a_(fR,fA),handleCreateNewListing:u,isLoggedIn:h,addUser:a,deleteUser:s,setUserAdmin:o,logout:l,listAllBooks:c,setAdminPrivilege:r,listAllUsers:i},children:e.children})},{children:[(0,X.jsx)(()=>{let e=tk(),[t,n]=(0,J.useState)(!1),r=t=>{e(t),n(!1)},i=fI();return(0,X.jsxs)("header",{className:"bg-blue-500 text-white p-4 flex items-center justify-between relative",children:[(0,X.jsx)("div",{className:"flex items-center",children:(0,X.jsx)("h1",{className:"font-bold lg:text-xl ",children:"Notify"})}),(0,X.jsxs)("div",{className:"relative",children:[(0,X.jsx)("button",{onClick:()=>n(e=>!e),className:"flex items-center justify-center p-2 rounded-md bg-blue-700 hover:bg-blue-600 focus:outline-none",children:(0,X.jsxs)("div",{className:"space-y-1",children:[(0,X.jsx)("span",{className:"block w-6 h-0.5 bg-white"}),(0,X.jsx)("span",{className:"block w-6 h-0.5 bg-white"}),(0,X.jsx)("span",{className:"block w-6 h-0.5 bg-white"})]})}),t&&(0,X.jsxs)("div",{className:"absolute right-0 mt-2 w-40 bg-white text-black rounded-md shadow-lg",children:[(0,X.jsx)("button",{onClick:()=>r("/"),className:"block px-4 py-2 w-full text-left hover:bg-gray-100",children:"Home"}),(0,X.jsx)("button",{onClick:()=>r("/listBooks"),className:"block px-4 py-2 w-full text-left hover:bg-gray-100",children:"Add Books"}),(0,X.jsx)("button",{onClick:()=>r("/login"),className:"block px-4 py-2 w-full text-left hover:bg-gray-100 text-green-600 ",children:"Login"}),(0,X.jsx)("button",{className:"block px-4 py-2 w-full text-left hover:bg-gray-100 text-red-600 ",onClick:async()=>{try{await i.logout(),localStorage.removeItem("token"),window.location.href="/login"}catch(e){console.error("Error logging out:",e)}},children:"Logout"}),(0,X.jsx)("button",{onClick:()=>{localStorage.removeItem("token"),window.location.href="/register"},className:"text-red-900 hover:text-red-700 block px-4 py-2 w-full text-left",children:"register"})]})]})]})},{}),(0,X.jsx)(function(){return(0,X.jsxs)(tU,{children:[(0,X.jsx)(tO,{path:"/",element:(0,X.jsx)(f$,{})}),(0,X.jsx)(tO,{path:"/listBooks",element:(0,X.jsx)(fz,{})}),(0,X.jsx)(tO,{path:"/register",element:(0,X.jsx)(fj,{})}),(0,X.jsx)(tO,{path:"/login",element:(0,X.jsx)(fB,{})}),(0,X.jsx)(tO,{path:"/admin",element:(0,X.jsx)(fq,{})})," "]})},{})]})}],(function(e){let t,n,r,i,a,s;let o=e.window?e.window:"undefined"!=typeof window?window:void 0,l=void 0!==o&&void 0!==o.document&&void 0!==o.document.createElement,u=!l;if(er(e.routes.length>0,"You must provide a non-empty routes array to createRouter"),e.mapRouteProperties)t=e.mapRouteProperties;else if(e.detectErrorBoundary){let n=e.detectErrorBoundary;t=e=>({hasErrorBoundary:n(e)})}else t=eM;let c={},h=ec(e.routes,t,void 0,c),f=e.basename||"/",d=e.dataStrategy||eK,p=e.patchRoutesOnNavigation,m=et({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),g=null,y=new Set,v=null,w=null,_=null,S=null!=e.hydrationData,k=eh(h,e.history.location,f),T=null;if(null==k&&!p){let t=e5(404,{pathname:e.history.location.pathname}),{matches:n,route:r}=e6(h);k=n,T={[r.id]:t}}if(k&&!e.hydrationData&&eR(k,h,e.history.location.pathname).active&&(k=null),k){if(k.some(e=>e.route.lazy))r=!1;else if(k.some(e=>e.route.loader)){if(m.v7_partialHydration){let t=e.hydrationData?e.hydrationData.loaderData:null,n=e.hydrationData?e.hydrationData.errors:null;if(n){let e=k.findIndex(e=>void 0!==n[e.route.id]);r=k.slice(0,e+1).every(e=>!ez(e.route,t,n))}else r=k.every(e=>!ez(e.route,t,n))}else r=null!=e.hydrationData}else r=!0}else if(r=!1,k=[],m.v7_partialHydration){let t=eR(null,h,e.history.location.pathname);t.active&&t.matches&&(k=t.matches)}let x={historyAction:e.history.action,location:e.history.location,matches:k,initialized:r,navigation:eP,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||T,fetchers:new Map,blockers:new Map},I=b.Pop,C=!1,R=!1,N=new Map,A=null,P=!1,D=!1,L=[],O=new Set,M=new Map,U=0,F=-1,V=new Map,j=new Set,B=new Map,z=new Map,$=new Set,q=new Map,H=new Map;function W(e,t){void 0===t&&(t={}),x=et({},x,e);let n=[],r=[];m.v7_fetcherPersist&&x.fetchers.forEach((e,t)=>{"idle"===e.state&&($.has(t)?r.push(t):n.push(t))}),[...y].forEach(e=>e(x,{deletedFetchers:r,viewTransitionOpts:t.viewTransitionOpts,flushSync:!0===t.flushSync})),m.v7_fetcherPersist&&(n.forEach(e=>x.fetchers.delete(e)),r.forEach(e=>em(e)))}function K(t,r,i){var a,s;let o,l;let{flushSync:u}=void 0===i?{}:i,c=null!=x.actionData&&null!=x.navigation.formMethod&&ti(x.navigation.formMethod)&&"loading"===x.navigation.state&&(null==(a=t.state)?void 0:a._isRedirect)!==!0;o=r.actionData?Object.keys(r.actionData).length>0?r.actionData:null:c?x.actionData:null;let f=r.loaderData?e2(x.loaderData,r.loaderData,r.matches||[],r.errors):x.loaderData,d=x.blockers;d.size>0&&(d=new Map(d)).forEach((e,t)=>d.set(t,eL));let p=!0===C||null!=x.navigation.formMethod&&ti(x.navigation.formMethod)&&(null==(s=t.state)?void 0:s._isRedirect)!==!0;if(n&&(h=n,n=void 0),P||I===b.Pop||(I===b.Push?e.history.push(t,t.state):I===b.Replace&&e.history.replace(t,t.state)),I===b.Pop){let e=N.get(x.location.pathname);e&&e.has(t.pathname)?l={currentLocation:x.location,nextLocation:t}:N.has(t.pathname)&&(l={currentLocation:t,nextLocation:x.location})}else if(R){let e=N.get(x.location.pathname);e?e.add(t.pathname):(e=new Set([t.pathname]),N.set(x.location.pathname,e)),l={currentLocation:x.location,nextLocation:t}}W(et({},r,{actionData:o,loaderData:f,historyAction:I,location:t,initialized:!0,navigation:eP,revalidation:"idle",restoreScrollPosition:eC(t,r.matches||x.matches),preventScrollReset:p,blockers:d}),{viewTransitionOpts:l,flushSync:!0===u}),I=b.Pop,C=!1,R=!1,P=!1,D=!1,L=[]}async function G(t,n){if("number"==typeof t){e.history.go(t);return}let r=eF(x.location,x.matches,f,m.v7_prependBasename,t,m.v7_relativeSplatPath,null==n?void 0:n.fromRouteId,null==n?void 0:n.relative),{path:i,submission:a,error:s}=eV(m.v7_normalizeFormMethod,!1,r,n),o=x.location,l=es(x.location,i,n&&n.state);l=et({},l,e.history.encodeLocation(l));let u=n&&null!=n.replace?n.replace:void 0,c=b.Push;!0===u?c=b.Replace:!1===u||null!=a&&ti(a.formMethod)&&a.formAction===x.location.pathname+x.location.search&&(c=b.Replace);let h=n&&"preventScrollReset"in n?!0===n.preventScrollReset:void 0,d=!0===(n&&n.flushSync),p=eS({currentLocation:o,nextLocation:l,historyAction:c});if(p){e_(p,{state:"blocked",location:l,proceed(){e_(p,{state:"proceeding",proceed:void 0,reset:void 0,location:l}),G(t,n)},reset(){let e=new Map(x.blockers);e.set(p,eL),W({blockers:e})}});return}return await Q(c,l,{submission:a,pendingError:s,preventScrollReset:h,replace:n&&n.replace,enableViewTransition:n&&n.viewTransition,flushSync:d})}async function Q(t,r,i){var s,o,l;let u;a&&a.abort(),a=null,I=t,P=!0===(i&&i.startUninterruptedRevalidation),s=x.location,o=x.matches,v&&_&&(v[eI(s,o)]=_()),C=!0===(i&&i.preventScrollReset),R=!0===(i&&i.enableViewTransition);let c=n||h,d=i&&i.overrideNavigation,p=eh(c,r,f),m=!0===(i&&i.flushSync),g=eR(p,c,r.pathname);if(g.active&&g.matches&&(p=g.matches),!p){let{error:e,notFoundMatches:t,route:n}=ek(r.pathname);K(r,{matches:t,loaderData:{},errors:{[n.id]:e}},{flushSync:m});return}if(x.initialized&&!D&&(l=x.location).pathname===r.pathname&&l.search===r.search&&(""===l.hash?""!==r.hash:l.hash===r.hash||""!==r.hash)&&!(i&&i.submission&&ti(i.submission.formMethod))){K(r,{matches:p},{flushSync:m});return}a=new AbortController;let y=eJ(e.history,r,a.signal,i&&i.submission);if(i&&i.pendingError)u=[e4(p).route.id,{type:E.error,error:i.pendingError}];else if(i&&i.submission&&ti(i.submission.formMethod)){let t=await Y(y,r,i.submission,p,g.active,{replace:i.replace,flushSync:m});if(t.shortCircuited)return;if(t.pendingActionResult){let[e,n]=t.pendingActionResult;if(te(n)&&ex(n.error)&&404===n.error.status){a=null,K(r,{matches:t.matches,loaderData:{},errors:{[e]:n.error}});return}}p=t.matches||p,u=t.pendingActionResult,d=th(r,i.submission),m=!1,g.active=!1,y=eJ(e.history,y.url,y.signal)}let{shortCircuited:w,matches:b,loaderData:S,errors:k}=await X(y,r,p,g.active,d,i&&i.submission,i&&i.fetcherSubmission,i&&i.replace,i&&!0===i.initialHydration,m,u);w||(a=null,K(r,et({matches:b||p},e3(u),{loaderData:S,errors:k})))}async function Y(e,t,n,r,i,a){let s;if(void 0===a&&(a={}),el(),W({navigation:{state:"submitting",location:t,formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text}},{flushSync:!0===a.flushSync}),i){let n=await ej(r,t.pathname,e.signal);if("aborted"===n.type)return{shortCircuited:!0};if("error"===n.type){let e=e4(n.partialMatches).route.id;return{matches:n.partialMatches,pendingActionResult:[e,{type:E.error,error:n.error}]}}if(n.matches)r=n.matches;else{let{notFoundMatches:e,error:n,route:r}=ek(t.pathname);return{matches:e,pendingActionResult:[r.id,{type:E.error,error:n}]}}}let o=tu(r,t);if(o.route.action||o.route.lazy){if(s=(await ea("action",x,e,[o],r,null))[o.route.id],e.signal.aborted)return{shortCircuited:!0}}else s={type:E.error,error:e5(405,{method:e.method,pathname:t.pathname,routeId:o.route.id})};if(tt(s)){let t;return t=a&&null!=a.replace?a.replace:eX(s.response.headers.get("Location"),new URL(e.url),f)===x.location.pathname+x.location.search,await en(e,s,!0,{submission:n,replace:t}),{shortCircuited:!0}}if(e9(s))throw e5(400,{type:"defer-action"});if(te(s)){let e=e4(r,o.route.id);return!0!==(a&&a.replace)&&(I=b.Push),{matches:r,pendingActionResult:[e.route.id,s]}}return{matches:r,pendingActionResult:[o.route.id,s]}}async function X(t,r,i,s,o,l,u,c,d,p,g){let y=o||th(r,l),v=l||u||tc(y),w=!P&&(!m.v7_partialHydration||!d);if(s){if(w){let e=J(g);W(et({navigation:y},void 0!==e?{actionData:e}:{}),{flushSync:p})}let e=await ej(i,r.pathname,t.signal);if("aborted"===e.type)return{shortCircuited:!0};if("error"===e.type){let t=e4(e.partialMatches).route.id;return{matches:e.partialMatches,loaderData:{},errors:{[t]:e.error}}}if(e.matches)i=e.matches;else{let{error:e,notFoundMatches:t,route:n}=ek(r.pathname);return{matches:t,loaderData:{},errors:{[n.id]:e}}}}let b=n||h,[E,_]=eB(e.history,x,i,v,r,m.v7_partialHydration&&!0===d,m.v7_skipActionErrorRevalidation,D,L,O,$,B,j,b,f,g);if(eT(e=>!(i&&i.some(t=>t.route.id===e))||E&&E.some(t=>t.route.id===e)),F=++U,0===E.length&&0===_.length){let e=ew();return K(r,et({matches:i,loaderData:{},errors:g&&te(g[1])?{[g[0]]:g[1].error}:null},e3(g),e?{fetchers:new Map(x.fetchers)}:{}),{flushSync:p}),{shortCircuited:!0}}if(w){let e={};if(!s){e.navigation=y;let t=J(g);void 0!==t&&(e.actionData=t)}_.length>0&&(e.fetchers=(_.forEach(e=>{let t=x.fetchers.get(e.key),n=tf(void 0,t?t.data:void 0);x.fetchers.set(e.key,n)}),new Map(x.fetchers))),W(e,{flushSync:p})}_.forEach(e=>{ey(e.key),e.controller&&M.set(e.key,e.controller)});let S=()=>_.forEach(e=>ey(e.key));a&&a.signal.addEventListener("abort",S);let{loaderResults:k,fetcherResults:T}=await eo(x,i,E,_,t);if(t.signal.aborted)return{shortCircuited:!0};a&&a.signal.removeEventListener("abort",S),_.forEach(e=>M.delete(e.key));let I=e8(k);if(I)return await en(t,I.result,!0,{replace:c}),{shortCircuited:!0};if(I=e8(T))return j.add(I.key),await en(t,I.result,!0,{replace:c}),{shortCircuited:!0};let{loaderData:C,errors:R}=e1(x,i,k,g,_,T,q);q.forEach((e,t)=>{e.subscribe(n=>{(n||e.done)&&q.delete(t)})}),m.v7_partialHydration&&d&&x.errors&&(R=et({},x.errors,R));let N=ew(),A=eb(F),V=N||A||_.length>0;return et({matches:i,loaderData:C,errors:R},V?{fetchers:new Map(x.fetchers)}:{})}function J(e){return e&&!te(e[1])?{[e[0]]:e[1].data}:x.actionData?0===Object.keys(x.actionData).length?null:x.actionData:void 0}async function Z(t,r,i,s,o,l,u,c,d){function p(e){if(!e.route.action&&!e.route.lazy){let e=e5(405,{method:d.formMethod,pathname:i,routeId:r});return ed(t,r,e,{flushSync:u}),!0}return!1}if(el(),B.delete(t),!l&&p(s))return;let g=x.fetchers.get(t);eu(t,{state:"submitting",formMethod:d.formMethod,formAction:d.formAction,formEncType:d.formEncType,formData:d.formData,json:d.json,text:d.text,data:g?g.data:void 0},{flushSync:u});let y=new AbortController,v=eJ(e.history,i,y.signal,d);if(l){let e=await ej(o,i,v.signal);if("aborted"===e.type)return;if("error"===e.type){ed(t,r,e.error,{flushSync:u});return}if(e.matches){if(p(s=tu(o=e.matches,i)))return}else{ed(t,r,e5(404,{pathname:i}),{flushSync:u});return}}M.set(t,y);let w=U,b=(await ea("action",x,v,[s],o,t))[s.route.id];if(v.signal.aborted){M.get(t)===y&&M.delete(t);return}if(m.v7_fetcherPersist&&$.has(t)){if(tt(b)||te(b)){eu(t,td(void 0));return}}else{if(tt(b))return(M.delete(t),F>w)?void eu(t,td(void 0)):(j.add(t),eu(t,tf(d)),en(v,b,!1,{fetcherSubmission:d,preventScrollReset:c}));if(te(b)){ed(t,r,b.error);return}}if(e9(b))throw e5(400,{type:"defer-action"});let E=x.navigation.location||x.location,_=eJ(e.history,E,y.signal),S=n||h,k="idle"!==x.navigation.state?eh(S,x.navigation.location,f):x.matches;er(k,"Didn't find any matches after fetcher action");let T=++U;V.set(t,T);let C=tf(d,b.data);x.fetchers.set(t,C);let[R,N]=eB(e.history,x,k,d,E,!1,m.v7_skipActionErrorRevalidation,D,L,O,$,B,j,S,f,[s.route.id,b]);N.filter(e=>e.key!==t).forEach(e=>{let t=e.key,n=x.fetchers.get(t),r=tf(void 0,n?n.data:void 0);x.fetchers.set(t,r),ey(t),e.controller&&M.set(t,e.controller)}),W({fetchers:new Map(x.fetchers)});let A=()=>N.forEach(e=>ey(e.key));y.signal.addEventListener("abort",A);let{loaderResults:P,fetcherResults:z}=await eo(x,k,R,N,_);if(y.signal.aborted)return;y.signal.removeEventListener("abort",A),V.delete(t),M.delete(t),N.forEach(e=>M.delete(e.key));let H=e8(P);if(H)return en(_,H.result,!1,{preventScrollReset:c});if(H=e8(z))return j.add(H.key),en(_,H.result,!1,{preventScrollReset:c});let{loaderData:G,errors:Q}=e1(x,k,P,void 0,N,z,q);if(x.fetchers.has(t)){let e=td(b.data);x.fetchers.set(t,e)}eb(T),"loading"===x.navigation.state&&T>F?(er(I,"Expected pending action"),a&&a.abort(),K(x.navigation.location,{matches:k,loaderData:G,errors:Q,fetchers:new Map(x.fetchers)})):(W({errors:Q,loaderData:e2(x.loaderData,G,k,Q),fetchers:new Map(x.fetchers)}),D=!1)}async function ee(t,n,r,i,a,s,o,l,u){let c=x.fetchers.get(t);eu(t,tf(u,c?c.data:void 0),{flushSync:o});let h=new AbortController,f=eJ(e.history,r,h.signal);if(s){let e=await ej(a,r,f.signal);if("aborted"===e.type)return;if("error"===e.type){ed(t,n,e.error,{flushSync:o});return}if(e.matches)i=tu(a=e.matches,r);else{ed(t,n,e5(404,{pathname:r}),{flushSync:o});return}}M.set(t,h);let d=U,p=(await ea("loader",x,f,[i],a,t))[i.route.id];if(e9(p)&&(p=await to(p,f.signal,!0)||p),M.get(t)===h&&M.delete(t),!f.signal.aborted){if($.has(t)){eu(t,td(void 0));return}if(tt(p)){if(F>d){eu(t,td(void 0));return}j.add(t),await en(f,p,!1,{preventScrollReset:l});return}if(te(p)){ed(t,n,p.error);return}er(!e9(p),"Unhandled fetcher deferred data"),eu(t,td(p.data))}}async function en(t,n,r,i){let{submission:s,fetcherSubmission:u,preventScrollReset:c,replace:h}=void 0===i?{}:i;n.response.headers.has("X-Remix-Revalidate")&&(D=!0);let d=n.response.headers.get("Location");er(d,"Expected a Location header on the redirect Response"),d=eX(d,new URL(t.url),f);let p=es(x.location,d,{_isRedirect:!0});if(l){let t=!1;if(n.response.headers.has("X-Remix-Reload-Document"))t=!0;else if(eO.test(d)){let n=e.history.createURL(d);t=n.origin!==o.location.origin||null==eg(n.pathname,f)}if(t){h?o.location.replace(d):o.location.assign(d);return}}a=null;let m=!0===h||n.response.headers.has("X-Remix-Replace")?b.Replace:b.Push,{formMethod:g,formAction:y,formEncType:v}=x.navigation;!s&&!u&&g&&y&&v&&(s=tc(x.navigation));let w=s||u;if(eA.has(n.response.status)&&w&&ti(w.formMethod))await Q(m,p,{submission:et({},w,{formAction:d}),preventScrollReset:c||C,enableViewTransition:r?R:void 0});else{let e=th(p,s);await Q(m,p,{overrideNavigation:e,fetcherSubmission:u,preventScrollReset:c||C,enableViewTransition:r?R:void 0})}}async function ea(e,n,r,i,a,s){let o;let l={};try{o=await eG(d,e,n,r,i,a,s,c,t)}catch(e){return i.forEach(t=>{l[t.route.id]={type:E.error,error:e}}),l}for(let[e,t]of Object.entries(o))if(tr(t.result)&&eN.has(t.result.status)){let n=t.result;l[e]={type:E.redirect,response:function(e,t,n,r,i,a){let s=e.headers.get("Location");if(er(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!eO.test(s)){let o=r.slice(0,r.findIndex(e=>e.route.id===n)+1);s=eF(new URL(t.url),o,i,!0,s,a),e.headers.set("Location",s)}return e}(n,r,e,a,f,m.v7_relativeSplatPath)}}else l[e]=await eY(t);return l}async function eo(t,n,r,i,a){let s=t.matches,o=ea("loader",t,a,r,n,null),l=Promise.all(i.map(async n=>{if(!n.matches||!n.match||!n.controller)return Promise.resolve({[n.key]:{type:E.error,error:e5(404,{pathname:n.path})}});{let r=(await ea("loader",t,eJ(e.history,n.path,n.controller.signal),[n.match],n.matches,n.key))[n.match.route.id];return{[n.key]:r}}})),u=await o,c=(await l).reduce((e,t)=>Object.assign(e,t),{});return await Promise.all([ta(n,u,a.signal,s,t.loaderData),ts(n,c,i)]),{loaderResults:u,fetcherResults:c}}function el(){D=!0,L.push(...eT()),B.forEach((e,t)=>{M.has(t)&&O.add(t),ey(t)})}function eu(e,t,n){void 0===n&&(n={}),x.fetchers.set(e,t),W({fetchers:new Map(x.fetchers)},{flushSync:!0===(n&&n.flushSync)})}function ed(e,t,n,r){void 0===r&&(r={});let i=e4(x.matches,t);em(e),W({errors:{[i.route.id]:n},fetchers:new Map(x.fetchers)},{flushSync:!0===(r&&r.flushSync)})}function ep(e){return m.v7_fetcherPersist&&(z.set(e,(z.get(e)||0)+1),$.has(e)&&$.delete(e)),x.fetchers.get(e)||eD}function em(e){let t=x.fetchers.get(e);M.has(e)&&!(t&&"loading"===t.state&&V.has(e))&&ey(e),B.delete(e),V.delete(e),j.delete(e),$.delete(e),O.delete(e),x.fetchers.delete(e)}function ey(e){let t=M.get(e);t&&(t.abort(),M.delete(e))}function ev(e){for(let t of e){let e=td(ep(t).data);x.fetchers.set(t,e)}}function ew(){let e=[],t=!1;for(let n of j){let r=x.fetchers.get(n);er(r,"Expected fetcher: "+n),"loading"===r.state&&(j.delete(n),e.push(n),t=!0)}return ev(e),t}function eb(e){let t=[];for(let[n,r]of V)if(r<e){let e=x.fetchers.get(n);er(e,"Expected fetcher: "+n),"loading"===e.state&&(ey(n),V.delete(n),t.push(n))}return ev(t),t.length>0}function eE(e){x.blockers.delete(e),H.delete(e)}function e_(e,t){let n=x.blockers.get(e)||eL;er("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: "+n.state+" -> "+t.state);let r=new Map(x.blockers);r.set(e,t),W({blockers:r})}function eS(e){let{currentLocation:t,nextLocation:n,historyAction:r}=e;if(0===H.size)return;H.size>1&&ei(!1,"A router only supports one blocker at a time");let i=Array.from(H.entries()),[a,s]=i[i.length-1],o=x.blockers.get(a);if((!o||"proceeding"!==o.state)&&s({currentLocation:t,nextLocation:n,historyAction:r}))return a}function ek(e){let t=e5(404,{pathname:e}),{matches:r,route:i}=e6(n||h);return eT(),{notFoundMatches:r,route:i,error:t}}function eT(e){let t=[];return q.forEach((n,r)=>{(!e||e(r))&&(n.cancel(),t.push(r),q.delete(r))}),t}function eI(e,t){return w&&w(e,t.map(e=>(function(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}})(e,x.loaderData)))||e.key}function eC(e,t){if(v){let n=v[eI(e,t)];if("number"==typeof n)return n}return null}function eR(e,t,n){if(p){if(!e)return{active:!0,matches:ef(t,n,f,!0)||[]};if(Object.keys(e[0].params).length>0)return{active:!0,matches:ef(t,n,f,!0)}}return{active:!1,matches:null}}async function ej(e,r,i){if(!p)return{type:"success",matches:e};let a=e;for(;;){let e=null==n,s=n||h,o=c;try{await p({path:r,matches:a,patch:(e,n)=>{i.aborted||eH(e,n,s,o,t)}})}catch(e){return{type:"error",error:e,partialMatches:a}}finally{e&&!i.aborted&&(h=[...h])}if(i.aborted)return{type:"aborted"};let l=eh(s,r,f);if(l)return{type:"success",matches:l};let u=ef(s,r,f,!0);if(!u||a.length===u.length&&a.every((e,t)=>e.route.id===u[t].route.id))return{type:"success",matches:null};a=u}}return i={get basename(){return f},get future(){return m},get state(){return x},get routes(){return h},get window(){return o},initialize:function(){if(g=e.history.listen(t=>{let{action:n,location:r,delta:i}=t;if(s){s(),s=void 0;return}ei(0===H.size||null!=i,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let a=eS({currentLocation:x.location,nextLocation:r,historyAction:n});if(a&&null!=i){let t=new Promise(e=>{s=e});e.history.go(-1*i),e_(a,{state:"blocked",location:r,proceed(){e_(a,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),t.then(()=>e.history.go(i))},reset(){let e=new Map(x.blockers);e.set(a,eL),W({blockers:e})}});return}return Q(n,r)}),l){(function(e,t){try{let n=e.sessionStorage.getItem(eU);if(n){let e=JSON.parse(n);for(let[n,r]of Object.entries(e||{}))r&&Array.isArray(r)&&t.set(n,new Set(r||[]))}}catch(e){}})(o,N);let e=()=>(function(e,t){if(t.size>0){let n={};for(let[e,r]of t)n[e]=[...r];try{e.sessionStorage.setItem(eU,JSON.stringify(n))}catch(e){ei(!1,"Failed to save applied view transitions in sessionStorage ("+e+").")}}})(o,N);o.addEventListener("pagehide",e),A=()=>o.removeEventListener("pagehide",e)}return x.initialized||Q(b.Pop,x.location,{initialHydration:!0}),i},subscribe:function(e){return y.add(e),()=>y.delete(e)},enableScrollRestoration:function(e,t,n){if(v=e,_=t,w=n||null,!S&&x.navigation===eP){S=!0;let e=eC(x.location,x.matches);null!=e&&W({restoreScrollPosition:e})}return()=>{v=null,_=null,w=null}},navigate:G,fetch:function(e,t,r,i){if(u)throw Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ey(e);let a=!0===(i&&i.flushSync),s=n||h,o=eF(x.location,x.matches,f,m.v7_prependBasename,r,m.v7_relativeSplatPath,t,null==i?void 0:i.relative),l=eh(s,o,f),c=eR(l,s,o);if(c.active&&c.matches&&(l=c.matches),!l){ed(e,t,e5(404,{pathname:o}),{flushSync:a});return}let{path:d,submission:p,error:g}=eV(m.v7_normalizeFormMethod,!0,o,i);if(g){ed(e,t,g,{flushSync:a});return}let y=tu(l,d),v=!0===(i&&i.preventScrollReset);if(p&&ti(p.formMethod)){Z(e,t,d,y,l,c.active,a,v,p);return}B.set(e,{routeId:t,path:d}),ee(e,t,d,y,l,c.active,a,v,p)},revalidate:function(){if(el(),W({revalidation:"loading"}),"submitting"!==x.navigation.state){if("idle"===x.navigation.state){Q(x.historyAction,x.location,{startUninterruptedRevalidation:!0});return}Q(I||x.historyAction,x.navigation.location,{overrideNavigation:x.navigation,enableViewTransition:!0===R})}},createHref:t=>e.history.createHref(t),encodeLocation:t=>e.history.encodeLocation(t),getFetcher:ep,deleteFetcher:function(e){if(m.v7_fetcherPersist){let t=(z.get(e)||0)-1;t<=0?(z.delete(e),$.add(e)):z.set(e,t)}else em(e);W({fetchers:new Map(x.fetchers)})},dispose:function(){g&&g(),A&&A(),y.clear(),a&&a.abort(),x.fetchers.forEach((e,t)=>em(t)),x.blockers.forEach((e,t)=>eE(t))},getBlocker:function(e,t){let n=x.blockers.get(e)||eL;return H.get(e)!==t&&H.set(e,t),n},deleteBlocker:eE,patchRoutes:function(e,r){let i=null==n;eH(e,r,n||h,c,t),i&&(h=[...h],W({}))},_internalFetchControllers:M,_internalActiveDeferreds:q,_internalSetRoutes:function(e){n=ec(e,t,void 0,c={})}}})({basename:void 0,future:fP({},null==y?void 0:y.future,{v7_prependBasename:!0}),history:function(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o=b.Pop,l=null,u=c();function c(){return(s.state||{idx:null}).idx}function h(){o=b.Pop;let e=c(),t=null==e?null:e-u;u=e,l&&l({action:o,location:d.location,delta:t})}function f(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"==typeof e?e:eo(e);return er(t,"No window.location.(origin|href) available to create URL for href: "+(n=n.replace(/ $/,"%20"))),new URL(n,t)}null==u&&(u=0,s.replaceState(et({},s.state,{idx:u}),""));let d={get action(){return o},get location(){return e(i,s)},listen(e){if(l)throw Error("A history only accepts one active listener");return i.addEventListener(en,h),l=e,()=>{i.removeEventListener(en,h),l=null}},createHref:e=>t(i,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o=b.Push;let n=es(d.location,e,t),r=ea(n,u=c()+1),h=d.createHref(n);try{s.pushState(r,"",h)}catch(e){if(e instanceof DOMException&&"DataCloneError"===e.name)throw e;i.location.assign(h)}a&&l&&l({action:o,location:d.location,delta:1})},replace:function(e,t){o=b.Replace;let n=es(d.location,e,t),r=ea(n,u=c()),i=d.createHref(n);s.replaceState(r,"",i),a&&l&&l({action:o,location:d.location,delta:0})},go:e=>s.go(e)};return d}(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return es("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"==typeof t?t:eo(t)},null,{window:null==y?void 0:y.window}),hydrationData:(null==y?void 0:y.hydrationData)||((r=null==(s=window)?void 0:s.__staticRouterHydrationData)&&r.errors&&(r=fP({},r,{errors:function(e){if(!e)return null;let t=Object.entries(e),n={};for(let[e,r]of t)if(r&&"RouteErrorResponse"===r.__type)n[e]=new eT(r.status,r.statusText,r.data,!0===r.internal);else if(r&&"Error"===r.__type){if(r.__subType){let t=window[r.__subType];if("function"==typeof t)try{let i=new t(r.message);i.stack="",n[e]=i}catch(e){}}if(null==n[e]){let t=Error(r.message);t.stack="",n[e]=t}}else n[e]=r;return n}(r.errors)})),r),routes:g,mapRouteProperties:function(e){let t={hasErrorBoundary:null!=e.ErrorBoundary||null!=e.errorElement};return e.Component&&Object.assign(t,{element:J.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:J.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:J.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t},dataStrategy:null==y?void 0:y.dataStrategy,patchRoutesOnNavigation:null==y?void 0:y.patchRoutesOnNavigation,window:null==y?void 0:y.window}).initialize());a(Z).createRoot(document.getElementById("root")).render((0,X.jsx)(a(J).StrictMode,{children:(0,X.jsx)(function(e){let{fallbackElement:t,router:n,future:r}=e,[i,a]=J.useState(n.state),[s,o]=J.useState(),[l,u]=J.useState({isTransitioning:!1}),[c,h]=J.useState(),[f,d]=J.useState(),[p,m]=J.useState(),g=J.useRef(new Map),{v7_startTransition:y}=r||{},v=J.useCallback(e=>{y&&fO?fO(e):e()},[y]),w=J.useCallback((e,t)=>{let{deletedFetchers:r,flushSync:i,viewTransitionOpts:s}=t;r.forEach(e=>g.current.delete(e)),e.fetchers.forEach((e,t)=>{void 0!==e.data&&g.current.set(t,e.data)});let l=null==n.window||null==n.window.document||"function"!=typeof n.window.document.startViewTransition;if(!s||l){i?fU(()=>a(e)):v(()=>a(e));return}if(i){fU(()=>{f&&(c&&c.resolve(),f.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:s.currentLocation,nextLocation:s.nextLocation})});let t=n.window.document.startViewTransition(()=>{fU(()=>a(e))});t.finished.finally(()=>{fU(()=>{h(void 0),d(void 0),o(void 0),u({isTransitioning:!1})})}),fU(()=>d(t));return}f?(c&&c.resolve(),f.skipTransition(),m({state:e,currentLocation:s.currentLocation,nextLocation:s.nextLocation})):(o(e),u({isTransitioning:!0,flushSync:!1,currentLocation:s.currentLocation,nextLocation:s.nextLocation}))},[n.window,f,c,g,v]);J.useLayoutEffect(()=>n.subscribe(w),[n,w]),J.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new fF)},[l]),J.useEffect(()=>{if(c&&s&&n.window){let e=c.promise,t=n.window.document.startViewTransition(async()=>{v(()=>a(s)),await e});t.finished.finally(()=>{h(void 0),d(void 0),o(void 0),u({isTransitioning:!1})}),d(t)}},[v,s,c,n.window]),J.useEffect(()=>{c&&s&&i.location.key===s.location.key&&c.resolve()},[c,f,i.location,s]),J.useEffect(()=>{!l.isTransitioning&&p&&(o(p.state),u({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),m(void 0))},[l.isTransitioning,p]),J.useEffect(()=>{},[]);let b=J.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:e=>n.navigate(e),push:(e,t,r)=>n.navigate(e,{state:t,preventScrollReset:null==r?void 0:r.preventScrollReset}),replace:(e,t,r)=>n.navigate(e,{replace:!0,state:t,preventScrollReset:null==r?void 0:r.preventScrollReset})}),[n]),E=n.basename||"/",_=J.useMemo(()=>({router:n,navigator:b,static:!1,basename:E}),[n,b,E]),S=J.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return J.useEffect(()=>{var e;return e=n.future,void((null==r?void 0:r.v7_startTransition)===void 0&&tL("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(null==r?void 0:r.v7_relativeSplatPath)!==void 0||e&&e.v7_relativeSplatPath||tL("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),e&&(void 0===e.v7_fetcherPersist&&tL("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),void 0===e.v7_normalizeFormMethod&&tL("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),void 0===e.v7_partialHydration&&tL("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),void 0===e.v7_skipActionErrorRevalidation&&tL("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation")))},[r,n.future]),J.createElement(J.Fragment,null,J.createElement(tm.Provider,{value:_},J.createElement(tg.Provider,{value:i},J.createElement(fL.Provider,{value:g.current},J.createElement(fD.Provider,{value:l},J.createElement(tM,{basename:E,location:i.location,navigationType:i.historyAction,navigator:b,future:S},i.initialized||n.future.v7_partialHydration?J.createElement(fV,{routes:n.routes,future:n.future,state:i}):t))))),null)},{router:fH})}));
//# sourceMappingURL=index.e79b11cd.js.map
