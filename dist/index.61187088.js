let e,t,n;function r(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function i(e){return e&&e.__esModule?e.default:e}var a,s,o,l,u,c,h,f,d,p,m,g,y,v,b,w,E,S,_,k,T,x,I,C=globalThis,N={},A={},R=C.parcelRequire94c2;null==R&&((R=function(e){if(e in N)return N[e].exports;if(e in A){var t=A[e];delete A[e];var n={id:e,exports:{}};return N[e]=n,t.call(n.exports,n,n.exports),n.exports}var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){A[e]=t},C.parcelRequire94c2=R);var P=R.register;P("8rWe0",function(e,t){r(e.exports,"Fragment",()=>n,e=>n=e),r(e.exports,"jsx",()=>i,e=>i=e),r(e.exports,"jsxs",()=>a,e=>a=e);var n,i,a,s=Symbol.for("react.transitional.element");function o(e,t,n){var r=null;if(void 0!==n&&(r=""+n),void 0!==t.key&&(r=""+t.key),"key"in t)for(var i in n={},t)"key"!==i&&(n[i]=t[i]);else n=t;return{$$typeof:s,type:e,key:r,ref:void 0!==(t=n.ref)?t:null,props:n}}n=Symbol.for("react.fragment"),i=o,a=o}),P("9Qu0I",function(e,t){r(e.exports,"Children",()=>n,e=>n=e),r(e.exports,"Component",()=>i,e=>i=e),r(e.exports,"Fragment",()=>a,e=>a=e),r(e.exports,"Profiler",()=>s,e=>s=e),r(e.exports,"PureComponent",()=>o,e=>o=e),r(e.exports,"StrictMode",()=>l,e=>l=e),r(e.exports,"Suspense",()=>u,e=>u=e),r(e.exports,"__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE",()=>c,e=>c=e),r(e.exports,"act",()=>h,e=>h=e),r(e.exports,"cache",()=>f,e=>f=e),r(e.exports,"cloneElement",()=>d,e=>d=e),r(e.exports,"createContext",()=>p,e=>p=e),r(e.exports,"createElement",()=>m,e=>m=e),r(e.exports,"createRef",()=>g,e=>g=e),r(e.exports,"forwardRef",()=>y,e=>y=e),r(e.exports,"isValidElement",()=>v,e=>v=e),r(e.exports,"lazy",()=>b,e=>b=e),r(e.exports,"memo",()=>w,e=>w=e),r(e.exports,"startTransition",()=>E,e=>E=e),r(e.exports,"unstable_useCacheRefresh",()=>S,e=>S=e),r(e.exports,"use",()=>_,e=>_=e),r(e.exports,"useActionState",()=>k,e=>k=e),r(e.exports,"useCallback",()=>T,e=>T=e),r(e.exports,"useContext",()=>x,e=>x=e),r(e.exports,"useDebugValue",()=>I,e=>I=e),r(e.exports,"useDeferredValue",()=>C,e=>C=e),r(e.exports,"useEffect",()=>N,e=>N=e),r(e.exports,"useId",()=>A,e=>A=e),r(e.exports,"useImperativeHandle",()=>P,e=>P=e),r(e.exports,"useInsertionEffect",()=>O,e=>O=e),r(e.exports,"useLayoutEffect",()=>L,e=>L=e),r(e.exports,"useMemo",()=>D,e=>D=e),r(e.exports,"useOptimistic",()=>M,e=>M=e),r(e.exports,"useReducer",()=>U,e=>U=e),r(e.exports,"useRef",()=>F,e=>F=e),r(e.exports,"useState",()=>V,e=>V=e),r(e.exports,"useSyncExternalStore",()=>j,e=>j=e),r(e.exports,"useTransition",()=>z,e=>z=e),r(e.exports,"version",()=>B,e=>B=e);var n,i,a,s,o,l,u,c,h,f,d,p,m,g,y,v,b,w,E,S,_,k,T,x,I,C,N,A,P,O,L,D,M,U,F,V,j,z,B,$=R("hPtJY"),q=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),Z=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),et=Symbol.iterator,en={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},er=Object.assign,ei={};function ea(e,t,n){this.props=e,this.context=t,this.refs=ei,this.updater=n||en}function es(){}function eo(e,t,n){this.props=e,this.context=t,this.refs=ei,this.updater=n||en}ea.prototype.isReactComponent={},ea.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},ea.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},es.prototype=ea.prototype;var el=eo.prototype=new es;el.constructor=eo,er(el,ea.prototype),el.isPureReactComponent=!0;var eu=Array.isArray,ec={H:null,A:null,T:null,S:null},eh=Object.prototype.hasOwnProperty;function ef(e,t,n,r,i,a){return{$$typeof:q,type:e,key:t,ref:void 0!==(n=a.ref)?n:null,props:a}}function ed(e){return"object"==typeof e&&null!==e&&e.$$typeof===q}var ep=/\/+/g;function em(e,t){var n,r;return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return r[e]})):t.toString(36)}function eg(){}function ey(e,t,n){if(null==e)return e;var r=[],i=0;return function e(t,n,r,i,a){var s,o,l,u=typeof t;("undefined"===u||"boolean"===u)&&(t=null);var c=!1;if(null===t)c=!0;else switch(u){case"bigint":case"string":case"number":c=!0;break;case"object":switch(t.$$typeof){case q:case H:c=!0;break;case ee:return e((c=t._init)(t._payload),n,r,i,a)}}if(c)return a=a(t),c=""===i?"."+em(t,0):i,eu(a)?(r="",null!=c&&(r=c.replace(ep,"$&/")+"/"),e(a,n,r,"",function(e){return e})):null!=a&&(ed(a)&&(s=a,o=r+(null==a.key||t&&t.key===a.key?"":(""+a.key).replace(ep,"$&/")+"/")+c,a=ef(s.type,o,void 0,void 0,void 0,s.props)),n.push(a)),1;c=0;var h=""===i?".":i+":";if(eu(t))for(var f=0;f<t.length;f++)u=h+em(i=t[f],f),c+=e(i,n,r,u,a);else if("function"==typeof(f=null===(l=t)||"object"!=typeof l?null:"function"==typeof(l=et&&l[et]||l["@@iterator"])?l:null))for(t=f.call(t),f=0;!(i=t.next()).done;)u=h+em(i=i.value,f++),c+=e(i,n,r,u,a);else if("object"===u){if("function"==typeof t.then)return e(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(eg,eg):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(t),n,r,i,a);throw Error("Objects are not valid as a React child (found: "+("[object Object]"===(n=String(t))?"object with keys {"+Object.keys(t).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.")}return c}(e,r,"","",function(e){return t.call(n,e,i++)}),r}function ev(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){(0===e._status||-1===e._status)&&(e._status=1,e._result=t)},function(t){(0===e._status||-1===e._status)&&(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var eb="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof $&&"function"==typeof $.emit){$.emit("uncaughtException",e);return}console.error(e)};function ew(){}n={map:ey,forEach:function(e,t,n){ey(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ey(e,function(){t++}),t},toArray:function(e){return ey(e,function(e){return e})||[]},only:function(e){if(!ed(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},i=ea,a=W,s=G,o=eo,l=K,u=X,c=ec,h=function(){throw Error("act(...) is not supported in production builds of React.")},f=function(e){return function(){return e.apply(null,arguments)}},d=function(e,t,n){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var r=er({},e.props),i=e.key,a=void 0;if(null!=t)for(s in void 0!==t.ref&&(a=void 0),void 0!==t.key&&(i=""+t.key),t)eh.call(t,s)&&"key"!==s&&"__self"!==s&&"__source"!==s&&("ref"!==s||void 0!==t.ref)&&(r[s]=t[s]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];r.children=o}return ef(e.type,i,void 0,void 0,a,r)},p=function(e){return(e={$$typeof:Y,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:Q,_context:e},e},m=function(e,t,n){var r,i={},a=null;if(null!=t)for(r in void 0!==t.key&&(a=""+t.key),t)eh.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];i.children=o}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return ef(e,a,void 0,void 0,null,i)},g=function(){return{current:null}},y=function(e){return{$$typeof:J,render:e}},v=ed,b=function(e){return{$$typeof:ee,_payload:{_status:-1,_result:e},_init:ev}},w=function(e,t){return{$$typeof:Z,type:e,compare:void 0===t?null:t}},E=function(e){var t=ec.T,n={};ec.T=n;try{var r=e(),i=ec.S;null!==i&&i(n,r),"object"==typeof r&&null!==r&&"function"==typeof r.then&&r.then(ew,eb)}catch(e){eb(e)}finally{ec.T=t}},S=function(){return ec.H.useCacheRefresh()},_=function(e){return ec.H.use(e)},k=function(e,t,n){return ec.H.useActionState(e,t,n)},T=function(e,t){return ec.H.useCallback(e,t)},x=function(e){return ec.H.useContext(e)},I=function(){},C=function(e,t){return ec.H.useDeferredValue(e,t)},N=function(e,t){return ec.H.useEffect(e,t)},A=function(){return ec.H.useId()},P=function(e,t,n){return ec.H.useImperativeHandle(e,t,n)},O=function(e,t){return ec.H.useInsertionEffect(e,t)},L=function(e,t){return ec.H.useLayoutEffect(e,t)},D=function(e,t){return ec.H.useMemo(e,t)},M=function(e,t){return ec.H.useOptimistic(e,t)},U=function(e,t,n){return ec.H.useReducer(e,t,n)},F=function(e){return ec.H.useRef(e)},V=function(e){return ec.H.useState(e)},j=function(e,t,n){return ec.H.useSyncExternalStore(e,t,n)},z=function(){return ec.H.useTransition()},B="19.0.0"}),P("hPtJY",function(e,t){var n,r,i,a=e.exports={};function s(){throw Error("setTimeout has not been defined")}function o(){throw Error("clearTimeout has not been defined")}function l(e){if(n===setTimeout)return setTimeout(e,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(e){n=s}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var u=[],c=!1,h=-1;function f(){c&&i&&(c=!1,i.length?u=i.concat(u):h=-1,u.length&&d())}function d(){if(!c){var e=l(f);c=!0;for(var t=u.length;t;){for(i=u,u=[];++h<t;)i&&i[h].run();h=-1,t=u.length}i=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}a.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||c||l(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.prependListener=m,a.prependOnceListener=m,a.listeners=function(e){return[]},a.binding=function(e){throw Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw Error("process.chdir is not supported")},a.umask=function(){return 0}}),P("iWoMt",function(e,t){r(e.exports,"createRoot",()=>N,e=>N=e),r(e.exports,"hydrateRoot",()=>A,e=>A=e),r(e.exports,"version",()=>P,e=>P=e);var n,i,a=R("hPtJY"),s=R("fO90s"),o=R("acw62"),l=R("1u0KT");function u(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}var h=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),b=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),k=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var T=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var x=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function C(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=I&&e[I]||e["@@iterator"])?e:null}var N,A,P,O,L,D=Symbol.for("react.client.reference"),M=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=Object.assign;function F(e){if(void 0===O)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||"",L=-1<e.stack.indexOf("\n    at")?" (<anonymous>)":-1<e.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+O+e+L}var V=!1;function j(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(e){if(e&&r&&"string"==typeof e.stack)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var l=s.split("\n"),u=o.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===u.length)for(r=l.length-1,i=u.length-1;1<=r&&0<=i&&l[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==u[i]){if(1!==r||1!==i)do if(r--,i--,0>i||l[r]!==u[i]){var c="\n"+l[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=r&&0<=i)break}}}finally{V=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?F(n):""}function z(e){try{var t="";do t+=function(e){switch(e.tag){case 26:case 27:case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}(e),e=e.return;while(e)return t}catch(e){return"\nError generating stack: "+e.message+"\n"+e.stack}}function B(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do 0!=(4098&(t=e).flags)&&(n=t.return),e=t.return;while(e)}return 3===t.tag?n:null}function $(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function q(e){if(B(e)!==e)throw Error(u(188))}var H=Array.isArray,W=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},G=[],Q=-1;function Y(e){return{current:e}}function J(e){0>Q||(e.current=G[Q],G[Q]=null,Q--)}function X(e,t){G[++Q]=e.current,e.current=t}var Z=Y(null),ee=Y(null),et=Y(null),en=Y(null);function er(e,t){switch(X(et,t),X(ee,e),X(Z,null),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?ut(t):0;break;default:if(t=(e=8===e?t.parentNode:t).tagName,e=e.namespaceURI)t=un(e=ut(e),t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(Z),X(Z,t)}function ei(){J(Z),J(ee),J(et)}function ea(e){null!==e.memoizedState&&X(en,e);var t=Z.current,n=un(t,e.type);t!==n&&(X(ee,e),X(Z,n))}function es(e){ee.current===e&&(J(Z),J(ee)),en.current===e&&(J(en),uz._currentValue=K)}var eo=Object.prototype.hasOwnProperty,el=s.unstable_scheduleCallback,eu=s.unstable_cancelCallback,ec=s.unstable_shouldYield,eh=s.unstable_requestPaint,ef=s.unstable_now,ed=s.unstable_getCurrentPriorityLevel,ep=s.unstable_ImmediatePriority,em=s.unstable_UserBlockingPriority,eg=s.unstable_NormalPriority,ey=s.unstable_LowPriority,ev=s.unstable_IdlePriority,eb=s.log,ew=s.unstable_setDisableYieldValue,eE=null,eS=null;function e_(e){if("function"==typeof eb&&ew(e),eS&&"function"==typeof eS.setStrictMode)try{eS.setStrictMode(eE,e)}catch(e){}}var ek=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(eT(e)/ex|0)|0},eT=Math.log,ex=Math.LN2,eI=128,eC=4194304;function eN(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194176&e;case 4194304:case 8388608:case 0x1000000:case 0x2000000:return 0x3c00000&e;case 0x4000000:return 0x4000000;case 0x8000000:return 0x8000000;case 0x10000000:return 0x10000000;case 0x20000000:return 0x20000000;case 0x40000000:return 0;default:return e}}function eA(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=e.warmLanes;e=0!==e.finishedLanes;var o=0x7ffffff&n;return 0!==o?0!=(n=o&~i)?r=eN(n):0!=(a&=o)?r=eN(a):e||0!=(s=o&~s)&&(r=eN(s)):0!=(o=n&~i)?r=eN(o):0!==a?r=eN(a):e||0!=(s=n&~s)&&(r=eN(s)),0===r?0:0!==t&&t!==r&&0==(t&i)&&((i=r&-r)>=(s=t&-t)||32===i&&0!=(4194176&s))?t:r}function eR(e,t){return 0==(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function eP(){var e=eI;return 0==(4194176&(eI<<=1))&&(eI=128),e}function eO(){var e=eC;return 0==(0x3c00000&(eC<<=1))&&(eC=4194304),e}function eL(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function eD(e,t){e.pendingLanes|=t,0x10000000!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function eM(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-ek(t);e.entangledLanes|=t,e.entanglements[r]=0x40000000|e.entanglements[r]|4194218&n}function eU(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ek(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function eF(e){return 2<(e&=-e)?8<e?0!=(0x7ffffff&e)?32:0x10000000:8:2}function eV(){var e=W.p;return 0!==e?e:void 0===(e=window.event)?32:u1(e.type)}var ej=Math.random().toString(36).slice(2),ez="__reactFiber$"+ej,eB="__reactProps$"+ej,e$="__reactContainer$"+ej,eq="__reactEvents$"+ej,eH="__reactListeners$"+ej,eW="__reactHandles$"+ej,eK="__reactResources$"+ej,eG="__reactMarker$"+ej;function eQ(e){delete e[ez],delete e[eB],delete e[eq],delete e[eH],delete e[eW]}function eY(e){var t=e[ez];if(t)return t;for(var n=e.parentNode;n;){if(t=n[e$]||n[ez]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ud(e);null!==e;){if(n=e[ez])return n;e=ud(e)}return t}n=(e=n).parentNode}return null}function eJ(e){if(e=e[ez]||e[e$]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function eX(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(u(33))}function eZ(e){var t=e[eK];return t||(t=e[eK]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function e0(e){e[eG]=!0}var e1=new Set,e2={};function e3(e,t){e4(e,t),e4(e+"Capture",t)}function e4(e,t){for(e2[e]=t,e=0;e<t.length;e++)e1.add(t[e])}var e6=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),e5=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),e8={},e9={};function e7(e,t,n){if(eo.call(e9,t)||!eo.call(e8,t)&&(e5.test(t)?e9[t]=!0:(e8[t]=!0,!1))){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}}function te(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function tt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+r)}}function tn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function tr(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ti(e){e._valueTracker||(e._valueTracker=function(e){var t=tr(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ta(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=tr(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ts(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var to=/[\n"\\]/g;function tl(e){return e.replace(to,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function tu(e,t,n,r,i,a,s,o){e.name="",null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+tn(t)):e.value!==""+tn(t)&&(e.value=""+tn(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?th(e,s,tn(t)):null!=n?th(e,s,tn(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=a&&(e.defaultChecked=!!a),null!=i&&(e.checked=i&&"function"!=typeof i&&"symbol"!=typeof i),null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o?e.name=""+tn(o):e.removeAttribute("name")}function tc(e,t,n,r,i,a,s,o){if(null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a&&(e.type=a),null!=t||null!=n){if(!("submit"!==a&&"reset"!==a||null!=t))return;n=null!=n?""+tn(n):"",t=null!=t?""+tn(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:i)&&"symbol"!=typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s&&(e.name=s)}function th(e,t,n){"number"===t&&ts(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function tf(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(i=0,n=""+tn(n),t=null;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function td(e,t,n){if(null!=t&&((t=""+tn(t))!==e.value&&(e.value=t),null==n)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=null!=n?""+tn(n):""}function tp(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(u(92));if(H(r)){if(1<r.length)throw Error(u(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=tn(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function tm(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType){n.nodeValue=t;return}}e.textContent=t}var tg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ty(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||tg.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function tv(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(u(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&ty(e,i,r)}else for(var a in t)t.hasOwnProperty(a)&&ty(e,a,t[a])}function tb(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tS(e){return tE.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var t_=null;function tk(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var tT=null,tx=null;function tI(e){var t=eJ(e);if(t&&(e=t.stateNode)){var n=e[eB]||null;switch(e=t.stateNode,t.type){case"input":if(tu(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+tl(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[eB]||null;if(!i)throw Error(u(90));tu(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ta(r)}break;case"textarea":td(e,n.value,n.defaultValue);break;case"select":null!=(t=n.value)&&tf(e,!!n.multiple,t,!1)}}}var tC=!1;function tN(e,t,n){if(tC)return e(t,n);tC=!0;try{return e(t)}finally{if(tC=!1,(null!==tT||null!==tx)&&(lt(),tT&&(t=tT,e=tx,tx=tT=null,tI(t),e)))for(t=0;t<e.length;t++)tI(e[t])}}function tA(e,t){var n=e.stateNode;if(null===n)return null;var r=n[eB]||null;if(null===r)return null;switch(n=r[t],t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(u(231,t,typeof n));return n}var tR=!1;if(e6)try{var tP={};Object.defineProperty(tP,"passive",{get:function(){tR=!0}}),window.addEventListener("test",tP,tP),window.removeEventListener("test",tP,tP)}catch(e){tR=!1}var tO=null,tL=null,tD=null;function tM(){if(tD)return tD;var e,t,n=tL,r=n.length,i="value"in tO?tO.value:tO.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[a-t];t++);return tD=i.slice(e,1<t?1-t:void 0)}function tU(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function tF(){return!0}function tV(){return!1}function tj(e){function t(t,n,r,i,a){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?tF:tV,this.isPropagationStopped=tV,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=tF)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=tF)},persist:function(){},isPersistent:tF}),t}var tz,tB,t$,tq={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tH=tj(tq),tW=U({},tq,{view:0,detail:0}),tK=tj(tW),tG=U({},tW,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:t6,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==t$&&(t$&&"mousemove"===e.type?(tz=e.screenX-t$.screenX,tB=e.screenY-t$.screenY):tB=tz=0,t$=e),tz)},movementY:function(e){return"movementY"in e?e.movementY:tB}}),tQ=tj(tG),tY=tj(U({},tG,{dataTransfer:0})),tJ=tj(U({},tW,{relatedTarget:0})),tX=tj(U({},tq,{animationName:0,elapsedTime:0,pseudoElement:0})),tZ=tj(U({},tq,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),t0=tj(U({},tq,{data:0})),t1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},t2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},t3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function t4(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=t3[e])&&!!t[e]}function t6(){return t4}var t5=tj(U({},tW,{key:function(e){if(e.key){var t=t1[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tU(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?t2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:t6,charCode:function(e){return"keypress"===e.type?tU(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tU(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),t8=tj(U({},tG,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),t9=tj(U({},tW,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:t6})),t7=tj(U({},tq,{propertyName:0,elapsedTime:0,pseudoElement:0})),ne=tj(U({},tG,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),nt=tj(U({},tq,{newState:0,oldState:0})),nn=[9,13,27,32],nr=e6&&"CompositionEvent"in window,ni=null;e6&&"documentMode"in document&&(ni=document.documentMode);var na=e6&&"TextEvent"in window&&!ni,ns=e6&&(!nr||ni&&8<ni&&11>=ni),no=!1;function nl(e,t){switch(e){case"keyup":return -1!==nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nu(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var nc=!1,nh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!nh[e.type]:"textarea"===t}function nd(e,t,n,r){tT?tx?tx.push(r):tx=[r]:tT=r,0<(t=lJ(t,"onChange")).length&&(n=new tH("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var np=null,nm=null;function ng(e){l$(e,0)}function ny(e){if(ta(eX(e)))return e}function nv(e,t){if("change"===e)return t}var nb=!1;if(e6){if(e6){var nw="oninput"in document;if(!nw){var nE=document.createElement("div");nE.setAttribute("oninput","return;"),nw="function"==typeof nE.oninput}n=nw}else n=!1;nb=n&&(!document.documentMode||9<document.documentMode)}function nS(){np&&(np.detachEvent("onpropertychange",n_),nm=np=null)}function n_(e){if("value"===e.propertyName&&ny(nm)){var t=[];nd(t,nm,e,tk(e)),tN(ng,t)}}function nk(e,t,n){"focusin"===e?(nS(),np=t,nm=n,np.attachEvent("onpropertychange",n_)):"focusout"===e&&nS()}function nT(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return ny(nm)}function nx(e,t){if("click"===e)return ny(t)}function nI(e,t){if("input"===e||"change"===e)return ny(t)}var nC="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function nN(e,t){if(nC(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!eo.call(t,i)||!nC(e[i],t[i]))return!1}return!0}function nA(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nR(e,t){var n,r=nA(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=nA(r)}}function nP(e){e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;for(var t=ts(e.document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(n)e=t.contentWindow;else break;t=ts(e.document)}return t}function nO(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nL=e6&&"documentMode"in document&&11>=document.documentMode,nD=null,nM=null,nU=null,nF=!1;function nV(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;nF||null==nD||nD!==ts(r)||(r="selectionStart"in(r=nD)&&nO(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},nU&&nN(nU,r)||(nU=r,0<(r=lJ(nM,"onSelect")).length&&(t=new tH("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=nD)))}function nj(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var nz={animationend:nj("Animation","AnimationEnd"),animationiteration:nj("Animation","AnimationIteration"),animationstart:nj("Animation","AnimationStart"),transitionrun:nj("Transition","TransitionRun"),transitionstart:nj("Transition","TransitionStart"),transitioncancel:nj("Transition","TransitionCancel"),transitionend:nj("Transition","TransitionEnd")},nB={},n$={};function nq(e){if(nB[e])return nB[e];if(!nz[e])return e;var t,n=nz[e];for(t in n)if(n.hasOwnProperty(t)&&t in n$)return nB[e]=n[t];return e}e6&&(n$=document.createElement("div").style,"AnimationEvent"in window||(delete nz.animationend.animation,delete nz.animationiteration.animation,delete nz.animationstart.animation),"TransitionEvent"in window||delete nz.transitionend.transition);var nH=nq("animationend"),nW=nq("animationiteration"),nK=nq("animationstart"),nG=nq("transitionrun"),nQ=nq("transitionstart"),nY=nq("transitioncancel"),nJ=nq("transitionend"),nX=new Map,nZ="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function n0(e,t){nX.set(e,t),e3(t,[e])}var n1=[],n2=0,n3=0;function n4(){for(var e=n2,t=n3=n2=0;t<e;){var n=n1[t];n1[t++]=null;var r=n1[t];n1[t++]=null;var i=n1[t];n1[t++]=null;var a=n1[t];if(n1[t++]=null,null!==r&&null!==i){var s=r.pending;null===s?i.next=i:(i.next=s.next,s.next=i),r.pending=i}0!==a&&n9(n,i,a)}}function n6(e,t,n,r){n1[n2++]=e,n1[n2++]=t,n1[n2++]=n,n1[n2++]=r,n3|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function n5(e,t,n,r){return n6(e,t,n,r),n7(e)}function n8(e,t){return n6(e,null,null,t),n7(e)}function n9(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(i=!0)),e=a,a=a.return;i&&null!==t&&3===e.tag&&(a=e.stateNode,i=31-ek(n),null===(e=(a=a.hiddenUpdates)[i])?a[i]=[t]:e.push(t),t.lane=0x20000000|n)}function n7(e){if(50<o2)throw o2=0,o3=null,Error(u(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var re={},rt=new WeakMap;function rn(e,t){if("object"==typeof e&&null!==e){var n=rt.get(e);return void 0!==n?n:(t={value:e,source:t,stack:z(t)},rt.set(e,t),t)}return{value:e,source:t,stack:z(t)}}var rr=[],ri=0,ra=null,rs=0,ro=[],rl=0,ru=null,rc=1,rh="";function rf(e,t){rr[ri++]=rs,rr[ri++]=ra,ra=e,rs=t}function rd(e,t,n){ro[rl++]=rc,ro[rl++]=rh,ro[rl++]=ru,ru=e;var r=rc;e=rh;var i=32-ek(r)-1;r&=~(1<<i),n+=1;var a=32-ek(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,rc=1<<32-ek(t)+i|n<<i|r,rh=a+e}else rc=1<<a|n<<i|r,rh=e}function rp(e){null!==e.return&&(rf(e,1),rd(e,1,0))}function rm(e){for(;e===ra;)ra=rr[--ri],rr[ri]=null,rs=rr[--ri],rr[ri]=null;for(;e===ru;)ru=ro[--rl],ro[rl]=null,rh=ro[--rl],ro[rl]=null,rc=ro[--rl],ro[rl]=null}var rg=null,ry=null,rv=!1,rb=null,rw=!1,rE=Error(u(519));function rS(e){throw rI(rn(Error(u(418,"")),e)),rE}function r_(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[ez]=e,t[eB]=r,n){case"dialog":lq("cancel",t),lq("close",t);break;case"iframe":case"object":case"embed":lq("load",t);break;case"video":case"audio":for(n=0;n<lz.length;n++)lq(lz[n],t);break;case"source":lq("error",t);break;case"img":case"image":case"link":lq("error",t),lq("load",t);break;case"details":lq("toggle",t);break;case"input":lq("invalid",t),tc(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),ti(t);break;case"select":lq("invalid",t);break;case"textarea":lq("invalid",t),tp(t,r.value,r.defaultValue,r.children),ti(t)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||l3(t.textContent,n)?(null!=r.popover&&(lq("beforetoggle",t),lq("toggle",t)),null!=r.onScroll&&lq("scroll",t),null!=r.onScrollEnd&&lq("scrollend",t),null!=r.onClick&&(t.onclick=l4),t=!0):t=!1,t||rS(e)}function rk(e){for(rg=e.return;rg;)switch(rg.tag){case 3:case 27:rw=!0;return;case 5:case 13:rw=!1;return;default:rg=rg.return}}function rT(e){if(e!==rg)return!1;if(!rv)return rk(e),rv=!0,!1;var t,n=!1;if((t=3!==e.tag&&27!==e.tag)&&((t=5===e.tag)&&(t=!("form"!==(t=e.type)&&"button"!==t)||ur(e.type,e.memoizedProps)),t=!t),t&&(n=!0),n&&ry&&rS(e),rk(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(u(317));e:{for(n=0,e=e.nextSibling;e;){if(8===e.nodeType){if("/$"===(t=e.data)){if(0===n){ry=uf(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++}e=e.nextSibling}ry=null}}else ry=rg?uf(e.stateNode.nextSibling):null;return!0}function rx(){ry=rg=null,rv=!1}function rI(e){null===rb?rb=[e]:rb.push(e)}var rC=Error(u(460)),rN=Error(u(474)),rA={then:function(){}};function rR(e){return"fulfilled"===(e=e.status)||"rejected"===e}function rP(){}function rO(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(rP,rP),t=n),t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===rC)throw Error(u(483));throw e;default:if("string"==typeof t.status)t.then(rP,rP);else{if(null!==(e=oN)&&100<e.shellSuspendCounter)throw Error(u(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===rC)throw Error(u(483));throw e}throw rL=t,rC}}var rL=null;function rD(){if(null===rL)throw Error(u(459));var e=rL;return rL=null,e}var rM=null,rU=0;function rF(e){var t=rU;return rU+=1,null===rM&&(rM=[]),rO(rM,e,t)}function rV(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function rj(e,t){if(t.$$typeof===h)throw Error(u(525));throw Error(u(31,"[object Object]"===(e=Object.prototype.toString.call(t))?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rz(e){return(0,e._init)(e._payload)}function rB(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=od(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return(t.index=r,e)?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=0x2000002,n):r:(t.flags|=0x2000002,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=0x2000002),t}function o(e,t,n,r){return null===t||6!==t.tag?(t=ov(n,e.mode,r)).return=e:(t=i(t,n)).return=e,t}function l(e,t,n,r){var a=n.type;return a===p?h(e,t,n.props.children,r,n.key):(null!==t&&(t.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===k&&rz(a)===t.type)?rV(t=i(t,n.props),n):rV(t=om(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=ob(n,e.mode,r)).return=e:(t=i(t,n.children||[])).return=e,t}function h(e,t,n,r,a){return null===t||7!==t.tag?(t=og(n,e.mode,r,a)).return=e:(t=i(t,n)).return=e,t}function m(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=ov(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case f:return rV(n=om(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case d:return(t=ob(t,e.mode,n)).return=e,t;case k:return m(e,t=(0,t._init)(t._payload),n)}if(H(t)||C(t))return(t=og(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return m(e,rF(t),n);if(t.$$typeof===b)return m(e,sb(e,t),n);rj(e,t)}return null}function g(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==i?null:o(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case f:return n.key===i?l(e,t,n,r):null;case d:return n.key===i?c(e,t,n,r):null;case k:return g(e,t,n=(i=n._init)(n._payload),r)}if(H(n)||C(n))return null!==i?null:h(e,t,n,r,null);if("function"==typeof n.then)return g(e,t,rF(n),r);if(n.$$typeof===b)return g(e,t,sb(e,n),r);rj(e,n)}return null}function y(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return o(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case f:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case d:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case k:return y(e,t,n,r=(0,r._init)(r._payload),i)}if(H(r)||C(r))return h(t,e=e.get(n)||null,r,i,null);if("function"==typeof r.then)return y(e,t,n,rF(r),i);if(r.$$typeof===b)return y(e,t,n,sb(t,r),i);rj(t,r)}return null}return function(o,l,c,h){try{rU=0;var v=function o(l,c,h,v){if("object"==typeof h&&null!==h&&h.type===p&&null===h.key&&(h=h.props.children),"object"==typeof h&&null!==h){switch(h.$$typeof){case f:e:{for(var w=h.key;null!==c;){if(c.key===w){if((w=h.type)===p){if(7===c.tag){n(l,c.sibling),(v=i(c,h.props.children)).return=l,l=v;break e}}else if(c.elementType===w||"object"==typeof w&&null!==w&&w.$$typeof===k&&rz(w)===c.type){n(l,c.sibling),rV(v=i(c,h.props),h),v.return=l,l=v;break e}n(l,c);break}t(l,c),c=c.sibling}h.type===p?(v=og(h.props.children,l.mode,v,h.key)).return=l:(rV(v=om(h.type,h.key,h.props,null,l.mode,v),h),v.return=l),l=v}return s(l);case d:e:{for(w=h.key;null!==c;){if(c.key===w){if(4===c.tag&&c.stateNode.containerInfo===h.containerInfo&&c.stateNode.implementation===h.implementation){n(l,c.sibling),(v=i(c,h.children||[])).return=l,l=v;break e}n(l,c);break}t(l,c),c=c.sibling}(v=ob(h,l.mode,v)).return=l,l=v}return s(l);case k:return o(l,c,h=(w=h._init)(h._payload),v)}if(H(h))return function(i,s,o,l){for(var u=null,c=null,h=s,f=s=0,d=null;null!==h&&f<o.length;f++){h.index>f?(d=h,h=null):d=h.sibling;var p=g(i,h,o[f],l);if(null===p){null===h&&(h=d);break}e&&h&&null===p.alternate&&t(i,h),s=a(p,s,f),null===c?u=p:c.sibling=p,c=p,h=d}if(f===o.length)return n(i,h),rv&&rf(i,f),u;if(null===h){for(;f<o.length;f++)null!==(h=m(i,o[f],l))&&(s=a(h,s,f),null===c?u=h:c.sibling=h,c=h);return rv&&rf(i,f),u}for(h=r(h);f<o.length;f++)null!==(d=y(h,i,f,o[f],l))&&(e&&null!==d.alternate&&h.delete(null===d.key?f:d.key),s=a(d,s,f),null===c?u=d:c.sibling=d,c=d);return e&&h.forEach(function(e){return t(i,e)}),rv&&rf(i,f),u}(l,c,h,v);if(C(h)){if("function"!=typeof(w=C(h)))throw Error(u(150));return function(i,s,o,l){if(null==o)throw Error(u(151));for(var c=null,h=null,f=s,d=s=0,p=null,v=o.next();null!==f&&!v.done;d++,v=o.next()){f.index>d?(p=f,f=null):p=f.sibling;var b=g(i,f,v.value,l);if(null===b){null===f&&(f=p);break}e&&f&&null===b.alternate&&t(i,f),s=a(b,s,d),null===h?c=b:h.sibling=b,h=b,f=p}if(v.done)return n(i,f),rv&&rf(i,d),c;if(null===f){for(;!v.done;d++,v=o.next())null!==(v=m(i,v.value,l))&&(s=a(v,s,d),null===h?c=v:h.sibling=v,h=v);return rv&&rf(i,d),c}for(f=r(f);!v.done;d++,v=o.next())null!==(v=y(f,i,d,v.value,l))&&(e&&null!==v.alternate&&f.delete(null===v.key?d:v.key),s=a(v,s,d),null===h?c=v:h.sibling=v,h=v);return e&&f.forEach(function(e){return t(i,e)}),rv&&rf(i,d),c}(l,c,h=w.call(h),v)}if("function"==typeof h.then)return o(l,c,rF(h),v);if(h.$$typeof===b)return o(l,c,sb(l,h),v);rj(l,h)}return"string"==typeof h&&""!==h||"number"==typeof h||"bigint"==typeof h?(h=""+h,null!==c&&6===c.tag?(n(l,c.sibling),(v=i(c,h)).return=l):(n(l,c),(v=ov(h,l.mode,v)).return=l),s(l=v)):n(l,c)}(o,l,c,h);return rM=null,v}catch(e){if(e===rC)throw e;var w=oh(29,e,null,o.mode);return w.lanes=h,w.return=o,w}finally{}}}var r$=rB(!0),rq=rB(!1),rH=Y(null),rW=Y(0);function rK(e,t){X(rW,e=oU),X(rH,t),oU=e|t.baseLanes}function rG(){X(rW,oU),X(rH,rH.current)}function rQ(){oU=rW.current,J(rH),J(rW)}var rY=Y(null),rJ=null;function rX(e){var t=e.alternate;X(r2,1&r2.current),X(rY,e),null===rJ&&(null===t||null!==rH.current?rJ=e:null!==t.memoizedState&&(rJ=e))}function rZ(e){if(22===e.tag){if(X(r2,r2.current),X(rY,e),null===rJ){var t=e.alternate;null!==t&&null!==t.memoizedState&&(rJ=e)}}else r0(e)}function r0(){X(r2,r2.current),X(rY,rY.current)}function r1(e){J(rY),rJ===e&&(rJ=null),J(r2)}var r2=Y(0);function r3(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var r4="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},r6=s.unstable_scheduleCallback,r5=s.unstable_NormalPriority,r8={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function r9(){return{controller:new r4,data:new Map,refCount:0}}function r7(e){e.refCount--,0===e.refCount&&r6(r5,function(){e.controller.abort()})}var ie=null,it=0,ir=0,ii=null;function ia(){if(0==--it&&null!==ie){null!==ii&&(ii.status="fulfilled");var e=ie;ie=null,ir=0,ii=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var is=M.S;M.S=function(e,t){"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===ie){var n=ie=[];it=0,ir=lM(),ii={status:"pending",value:void 0,then:function(e){n.push(e)}}}it++,t.then(ia,ia)}(0,t),null!==is&&is(e,t)};var io=Y(null);function il(){var e=io.current;return null!==e?e:oN.pooledCache}function iu(e,t){null===t?X(io,io.current):X(io,t.pool)}function ic(){var e=il();return null===e?null:{parent:r8._currentValue,pool:e}}var ih=0,id=null,ip=null,im=null,ig=!1,iy=!1,iv=!1,ib=0,iw=0,iE=null,iS=0;function i_(){throw Error(u(321))}function ik(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!nC(e[n],t[n]))return!1;return!0}function iT(e,t,n,r,i,a){return ih=a,id=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=null===e||null===e.memoizedState?aN:aA,iv=!1,a=n(r,i),iv=!1,iy&&(a=iI(t,n,r,i)),ix(e),a}function ix(e){M.H=aC;var t=null!==ip&&null!==ip.next;if(ih=0,im=ip=id=null,ig=!1,iw=0,iE=null,t)throw Error(u(300));null===e||aK||null!==(e=e.dependencies)&&sg(e)&&(aK=!0)}function iI(e,t,n,r){id=e;var i=0;do{if(iy&&(iE=null),iw=0,iy=!1,25<=i)throw Error(u(301));if(i+=1,im=ip=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}M.H=aR,a=t(n,r)}while(iy)return a}function iC(){var e=M.H,t=e.useState()[0];return t="function"==typeof t.then?iL(t):t,e=e.useState()[0],(null!==ip?ip.memoizedState:null)!==e&&(id.flags|=1024),t}function iN(){var e=0!==ib;return ib=0,e}function iA(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function iR(e){if(ig){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ig=!1}ih=0,im=ip=id=null,iy=!1,iw=ib=0,iE=null}function iP(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===im?id.memoizedState=im=e:im=im.next=e,im}function iO(){if(null===ip){var e=id.alternate;e=null!==e?e.memoizedState:null}else e=ip.next;var t=null===im?id.memoizedState:im.next;if(null!==t)im=t,ip=e;else{if(null===e){if(null===id.alternate)throw Error(u(467));throw Error(u(310))}e={memoizedState:(ip=e).memoizedState,baseState:ip.baseState,baseQueue:ip.baseQueue,queue:ip.queue,next:null},null===im?id.memoizedState=im=e:im=im.next=e}return im}function iL(e){var t=iw;return iw+=1,null===iE&&(iE=[]),e=rO(iE,e,t),t=id,null===(null===im?t.memoizedState:im.next)&&(t=t.alternate,M.H=null===t||null===t.memoizedState?aN:aA),e}function iD(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return iL(e);if(e.$$typeof===b)return sv(e)}throw Error(u(438,String(e)))}function iM(e){var t=null,n=id.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=id.alternate;null!==r&&null!==(r=r.updateQueue)&&null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})}if(null==t&&(t={data:[],index:0}),null===n&&(n=i(),id.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=x;return t.index++,n}function iU(e,t){return"function"==typeof t?t(e):t}function iF(e){return iV(iO(),ip,e)}function iV(e,t,n){var r=e.queue;if(null===r)throw Error(u(311));r.lastRenderedReducer=n;var i=e.baseQueue,a=r.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}t.baseQueue=i=a,r.pending=null}if(a=e.baseState,null===i)e.memoizedState=a;else{t=i.next;var o=s=null,l=null,c=t,h=!1;do{var f=-0x20000001&c.lane;if(f!==c.lane?(oR&f)===f:(ih&f)===f){var d=c.revertLane;if(0===d)null!==l&&(l=l.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),f===ir&&(h=!0);else if((ih&d)===d){c=c.next,d===ir&&(h=!0);continue}else f={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===l?(o=l=f,s=a):l=l.next=f,id.lanes|=d,oV|=d;f=c.action,iv&&n(a,f),a=c.hasEagerState?c.eagerState:n(a,f)}else d={lane:f,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===l?(o=l=d,s=a):l=l.next=d,id.lanes|=f,oV|=f;c=c.next}while(null!==c&&c!==t)if(null===l?s=a:l.next=o,!nC(a,e.memoizedState)&&(aK=!0,h&&null!==(n=ii)))throw n;e.memoizedState=a,e.baseState=s,e.baseQueue=l,r.lastRenderedState=a}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function ij(e){var t=iO(),n=t.queue;if(null===n)throw Error(u(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i)nC(a,t.memoizedState)||(aK=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function iz(e,t,n){var r=id,i=iO(),a=rv;if(a){if(void 0===n)throw Error(u(407));n=n()}else n=t();var s=!nC((ip||i).memoizedState,n);if(s&&(i.memoizedState=n,aK=!0),i=i.queue,an(iq.bind(null,r,i,e),[e]),i.getSnapshot!==t||s||null!==im&&1&im.memoizedState.tag){if(r.flags|=2048,i8(9,i$.bind(null,r,i,n,t),{destroy:void 0},null),null===oN)throw Error(u(349));a||0!=(60&ih)||iB(r,t,n)}return n}function iB(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=id.updateQueue)?(t=i(),id.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function i$(e,t,n,r){t.value=n,t.getSnapshot=r,iH(t)&&iW(e)}function iq(e,t,n){return n(function(){iH(t)&&iW(e)})}function iH(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!nC(e,n)}catch(e){return!0}}function iW(e){var t=n8(e,2);null!==t&&o5(t,e,2)}function iK(e){var t=iP();if("function"==typeof e){var n=e;if(e=n(),iv){e_(!0);try{n()}finally{e_(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:iU,lastRenderedState:e},t}function iG(e,t,n,r){return e.baseState=n,iV(e,ip,"function"==typeof r?r:iU)}function iQ(e,t,n,r,i){if(aT(e))throw Error(u(485));if(null!==(e=t.action)){var a={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==M.T?n(!0):a.isTransition=!1,r(a),null===(n=t.pending)?(a.next=t.pending=a,iY(t,a)):(a.next=n.next,t.pending=n.next=a)}}function iY(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=M.T,s={};M.T=s;try{var o=n(i,r),l=M.S;null!==l&&l(s,o),iJ(e,t,o)}catch(n){iZ(e,t,n)}finally{M.T=a}}else try{a=n(i,r),iJ(e,t,a)}catch(n){iZ(e,t,n)}}function iJ(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){iX(e,t,n)},function(n){return iZ(e,t,n)}):iX(e,t,n)}function iX(e,t,n){t.status="fulfilled",t.value=n,i0(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,iY(e,n)))}function iZ(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do t.status="rejected",t.reason=n,i0(t),t=t.next;while(t!==r)}e.action=null}function i0(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function i1(e,t){return t}function i2(e,t){if(rv){var n=oN.formState;if(null!==n){e:{var r=id;if(rv){if(ry){t:{for(var i=ry,a=rw;8!==i.nodeType;)if(!a||null===(i=uf(i.nextSibling))){i=null;break t}i="F!"===(a=i.data)||"F"===a?i:null}if(i){ry=uf(i.nextSibling),r="F!"===i.data;break e}}rS(r)}r=!1}r&&(t=n[0])}}return(n=iP()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i1,lastRenderedState:t},n.queue=r,n=aS.bind(null,id,r),r.dispatch=n,r=iK(!1),a=ak.bind(null,id,!1,r.queue),r=iP(),i={state:t,dispatch:null,action:e,pending:null},r.queue=i,n=iQ.bind(null,id,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function i3(e){return i4(iO(),ip,e)}function i4(e,t,n){t=iV(e,t,i1)[0],e=iF(iU)[0],t="object"==typeof t&&null!==t&&"function"==typeof t.then?iL(t):t;var r=iO(),i=r.queue,a=i.dispatch;return n!==r.memoizedState&&(id.flags|=2048,i8(9,i6.bind(null,i,n),{destroy:void 0},null)),[t,a,e]}function i6(e,t){e.action=t}function i5(e){var t=iO(),n=ip;if(null!==n)return i4(t,n,e);iO(),t=t.memoizedState;var r=(n=iO()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function i8(e,t,n,r){return e={tag:e,create:t,inst:n,deps:r,next:null},null===(t=id.updateQueue)&&(t=i(),id.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function i9(){return iO().memoizedState}function i7(e,t,n,r){var i=iP();id.flags|=e,i.memoizedState=i8(1|t,n,{destroy:void 0},void 0===r?null:r)}function ae(e,t,n,r){var i=iO();r=void 0===r?null:r;var a=i.memoizedState.inst;null!==ip&&null!==r&&ik(r,ip.memoizedState.deps)?i.memoizedState=i8(t,n,a,r):(id.flags|=e,i.memoizedState=i8(1|t,n,a,r))}function at(e,t){i7(8390656,8,e,t)}function an(e,t){ae(2048,8,e,t)}function ar(e,t){return ae(4,2,e,t)}function ai(e,t){return ae(4,4,e,t)}function aa(e,t){if("function"==typeof t){var n=t(e=e());return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function as(e,t,n){n=null!=n?n.concat([e]):null,ae(4,4,aa.bind(null,t,e),n)}function ao(){}function al(e,t){var n=iO();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&ik(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function au(e,t){var n=iO();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&ik(t,r[1]))return r[0];if(r=e(),iv){e_(!0);try{e()}finally{e_(!1)}}return n.memoizedState=[r,t],r}function ac(e,t,n){return void 0===n||0!=(0x40000000&ih)?e.memoizedState=t:(e.memoizedState=n,e=o6(),id.lanes|=e,oV|=e,n)}function ah(e,t,n,r){return nC(n,t)?n:null!==rH.current?(nC(e=ac(e,n,r),t)||(aK=!0),e):0==(42&ih)?(aK=!0,e.memoizedState=n):(e=o6(),id.lanes|=e,oV|=e,t)}function af(e,t,n,r,i){var a=W.p;W.p=0!==a&&8>a?a:8;var s=M.T,o={};M.T=o,ak(e,!1,t,n);try{var l=i(),u=M.S;if(null!==u&&u(o,l),null!==l&&"object"==typeof l&&"function"==typeof l.then){var c,h,f=(c=[],h={status:"pending",value:null,reason:null,then:function(e){c.push(e)}},l.then(function(){h.status="fulfilled",h.value=r;for(var e=0;e<c.length;e++)(0,c[e])(r)},function(e){for(h.status="rejected",h.reason=e,e=0;e<c.length;e++)(0,c[e])(void 0)}),h);a_(e,t,f,o4(e))}else a_(e,t,r,o4(e))}catch(n){a_(e,t,{then:function(){},status:"rejected",reason:n},o4())}finally{W.p=a,M.T=s}}function ad(){}function ap(e,t,n,r){if(5!==e.tag)throw Error(u(476));var i=am(e).queue;af(e,i,t,K,null===n?ad:function(){return ag(e),n(r)})}function am(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:iU,lastRenderedState:K},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:iU,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ag(e){var t=am(e).next.queue;a_(e,t,{},o4())}function ay(){return sv(uz)}function av(){return iO().memoizedState}function ab(){return iO().memoizedState}function aw(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=o4(),r=sT(t,e=sk(n),n);null!==r&&(o5(r,t,n),sx(r,t,n)),t={cache:r9()},e.payload=t;return}t=t.return}}function aE(e,t,n){var r=o4();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},aT(e)?ax(t,n):null!==(n=n5(e,t,n,r))&&(o5(n,e,r),aI(n,t,r))}function aS(e,t,n){a_(e,t,n,o4())}function a_(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(aT(e))ax(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,nC(o,s))return n6(e,t,i,0),null===oN&&n4(),!1}catch(e){}finally{}if(null!==(n=n5(e,t,i,r)))return o5(n,e,r),aI(n,t,r),!0}return!1}function ak(e,t,n,r){if(r={lane:2,revertLane:lM(),action:r,hasEagerState:!1,eagerState:null,next:null},aT(e)){if(t)throw Error(u(479))}else null!==(t=n5(e,n,r,2))&&o5(t,e,2)}function aT(e){var t=e.alternate;return e===id||null!==t&&t===id}function ax(e,t){iy=ig=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function aI(e,t,n){if(0!=(4194176&n)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,eU(e,n)}}i=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};var aC={readContext:sv,use:iD,useCallback:i_,useContext:i_,useEffect:i_,useImperativeHandle:i_,useLayoutEffect:i_,useInsertionEffect:i_,useMemo:i_,useReducer:i_,useRef:i_,useState:i_,useDebugValue:i_,useDeferredValue:i_,useTransition:i_,useSyncExternalStore:i_,useId:i_};aC.useCacheRefresh=i_,aC.useMemoCache=i_,aC.useHostTransitionStatus=i_,aC.useFormState=i_,aC.useActionState=i_,aC.useOptimistic=i_;var aN={readContext:sv,use:iD,useCallback:function(e,t){return iP().memoizedState=[e,void 0===t?null:t],e},useContext:sv,useEffect:at,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,i7(4194308,4,aa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return i7(4194308,4,e,t)},useInsertionEffect:function(e,t){i7(4,2,e,t)},useMemo:function(e,t){var n=iP();t=void 0===t?null:t;var r=e();if(iv){e_(!0);try{e()}finally{e_(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=iP();if(void 0!==n){var i=n(t);if(iv){e_(!0);try{n(t)}finally{e_(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=aE.bind(null,id,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},iP().memoizedState=e},useState:function(e){var t=(e=iK(e)).queue,n=aS.bind(null,id,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ao,useDeferredValue:function(e,t){return ac(iP(),e,t)},useTransition:function(){var e=iK(!1);return e=af.bind(null,id,e.queue,!0,!1),iP().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=id,i=iP();if(rv){if(void 0===n)throw Error(u(407));n=n()}else{if(n=t(),null===oN)throw Error(u(349));0!=(60&oR)||iB(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,at(iq.bind(null,r,a,e),[e]),r.flags|=2048,i8(9,i$.bind(null,r,a,n,t),{destroy:void 0},null),n},useId:function(){var e=iP(),t=oN.identifierPrefix;if(rv){var n=rh,r=rc;t=":"+t+"R"+(n=(r&~(1<<32-ek(r)-1)).toString(32)+n),0<(n=ib++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=iS++).toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return iP().memoizedState=aw.bind(null,id)}};aN.useMemoCache=iM,aN.useHostTransitionStatus=ay,aN.useFormState=i2,aN.useActionState=i2,aN.useOptimistic=function(e){var t=iP();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ak.bind(null,id,!0,n),n.dispatch=t,[e,t]};var aA={readContext:sv,use:iD,useCallback:al,useContext:sv,useEffect:an,useImperativeHandle:as,useInsertionEffect:ar,useLayoutEffect:ai,useMemo:au,useReducer:iF,useRef:i9,useState:function(){return iF(iU)},useDebugValue:ao,useDeferredValue:function(e,t){return ah(iO(),ip.memoizedState,e,t)},useTransition:function(){var e=iF(iU)[0],t=iO().memoizedState;return["boolean"==typeof e?e:iL(e),t]},useSyncExternalStore:iz,useId:av};aA.useCacheRefresh=ab,aA.useMemoCache=iM,aA.useHostTransitionStatus=ay,aA.useFormState=i3,aA.useActionState=i3,aA.useOptimistic=function(e,t){return iG(iO(),ip,e,t)};var aR={readContext:sv,use:iD,useCallback:al,useContext:sv,useEffect:an,useImperativeHandle:as,useInsertionEffect:ar,useLayoutEffect:ai,useMemo:au,useReducer:ij,useRef:i9,useState:function(){return ij(iU)},useDebugValue:ao,useDeferredValue:function(e,t){var n=iO();return null===ip?ac(n,e,t):ah(n,ip.memoizedState,e,t)},useTransition:function(){var e=ij(iU)[0],t=iO().memoizedState;return["boolean"==typeof e?e:iL(e),t]},useSyncExternalStore:iz,useId:av};function aP(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:U({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}aR.useCacheRefresh=ab,aR.useMemoCache=iM,aR.useHostTransitionStatus=ay,aR.useFormState=i5,aR.useActionState=i5,aR.useOptimistic=function(e,t){var n=iO();return null!==ip?iG(n,ip,e,t):(n.baseState=e,[e,n.queue.dispatch])};var aO={isMounted:function(e){return!!(e=e._reactInternals)&&B(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=o4(),i=sk(r);i.payload=t,null!=n&&(i.callback=n),null!==(t=sT(e,i,r))&&(o5(t,e,r),sx(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=o4(),i=sk(r);i.tag=1,i.payload=t,null!=n&&(i.callback=n),null!==(t=sT(e,i,r))&&(o5(t,e,r),sx(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=o4(),r=sk(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=sT(e,r,n))&&(o5(t,e,n),sx(t,e,n))}};function aL(e,t,n,r,i,a,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,s):!t.prototype||!t.prototype.isPureReactComponent||!nN(n,r)||!nN(i,a)}function aD(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&aO.enqueueReplaceState(t,t.state,null)}function aM(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=U({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var aU="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof a&&"function"==typeof a.emit){a.emit("uncaughtException",e);return}console.error(e)};function aF(e){aU(e)}function aV(e){console.error(e)}function aj(e){aU(e)}function az(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(e){setTimeout(function(){throw e})}}function aB(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function a$(e,t,n){return(n=sk(n)).tag=3,n.payload={element:null},n.callback=function(){az(e,t)},n}function aq(e){return(e=sk(e)).tag=3,e}function aH(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"==typeof i){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){aB(t,n,r)}}var s=n.stateNode;null!==s&&"function"==typeof s.componentDidCatch&&(e.callback=function(){aB(t,n,r),"function"!=typeof i&&(null===oY?oY=new Set([this]):oY.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var aW=Error(u(461)),aK=!1;function aG(e,t,n,r){t.child=null===e?rq(t,null,n,r):r$(t,e.child,n,r)}function aQ(e,t,n,r,i){n=n.render;var a=t.ref;if("ref"in r){var s={};for(var o in r)"ref"!==o&&(s[o]=r[o])}else s=r;return(sy(t),r=iT(e,t,n,s,a,i),o=iN(),null===e||aK)?(rv&&o&&rp(t),t.flags|=1,aG(e,t,r,i),t.child):(iA(e,t,i),sa(e,t,i))}function aY(e,t,n,r,i){if(null===e){var a=n.type;return"function"!=typeof a||of(a)||void 0!==a.defaultProps||null!==n.compare?((e=om(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,aJ(e,t,a,r,i))}if(a=e.child,!ss(e,i)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:nN)(s,r)&&e.ref===t.ref)return sa(e,t,i)}return t.flags|=1,(e=od(a,r)).ref=t.ref,e.return=t,t.child=e}function aJ(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(nN(a,r)&&e.ref===t.ref){if(aK=!1,t.pendingProps=r=a,!ss(e,i))return t.lanes=e.lanes,sa(e,t,i);0!=(131072&e.flags)&&(aK=!0)}}return a1(e,t,n,r,i)}function aX(e,t,n){var r=t.pendingProps,i=r.children,a=0!=(2&t.stateNode._pendingVisibility),s=null!==e?e.memoizedState:null;if(a0(e,t),"hidden"===r.mode||a){if(0!=(128&t.flags)){if(r=null!==s?s.baseLanes|n:n,null!==e){for(a=0,i=t.child=e.child;null!==i;)a=a|i.lanes|i.childLanes,i=i.sibling;t.childLanes=a&~r}else t.childLanes=0,t.child=null;return aZ(e,t,r,n)}if(0==(0x20000000&n))return t.lanes=t.childLanes=0x20000000,aZ(e,t,null!==s?s.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&iu(t,null!==s?s.cachePool:null),null!==s?rK(t,s):rG(),rZ(t)}else null!==s?(iu(t,s.cachePool),rK(t,s),r0(t),t.memoizedState=null):(null!==e&&iu(t,null),rG(),r0(t));return aG(e,t,i,n),t.child}function aZ(e,t,n,r){var i=il();return i=null===i?null:{parent:r8._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&iu(t,null),rG(),rZ(t),null!==e&&sm(e,t,r,!0),null}function a0(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=2097664);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(u(284));(null===e||e.ref!==n)&&(t.flags|=2097664)}}function a1(e,t,n,r,i){return(sy(t),n=iT(e,t,n,r,void 0,i),r=iN(),null===e||aK)?(rv&&r&&rp(t),t.flags|=1,aG(e,t,n,i),t.child):(iA(e,t,i),sa(e,t,i))}function a2(e,t,n,r,i,a){return(sy(t),t.updateQueue=null,n=iI(t,r,n,i),ix(e),r=iN(),null===e||aK)?(rv&&r&&rp(t),t.flags|=1,aG(e,t,n,a),t.child):(iA(e,t,a),sa(e,t,a))}function a3(e,t,n,r,i){if(sy(t),null===t.stateNode){var a=re,s=n.contextType;"object"==typeof s&&null!==s&&(a=sv(s)),a=new n(r,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=aO,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=r,a.state=t.memoizedState,a.refs={},sS(t),s=n.contextType,a.context="object"==typeof s&&null!==s?sv(s):re,a.state=t.memoizedState,"function"==typeof(s=n.getDerivedStateFromProps)&&(aP(t,n,s,r),a.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(s=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),s!==a.state&&aO.enqueueReplaceState(a,a.state,null),sA(t,r,a,i),sN(),a.state=t.memoizedState),"function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){a=t.stateNode;var o=t.memoizedProps,l=aM(n,o);a.props=l;var u=a.context,c=n.contextType;s=re,"object"==typeof c&&null!==c&&(s=sv(c));var h=n.getDerivedStateFromProps;c="function"==typeof h||"function"==typeof a.getSnapshotBeforeUpdate,o=t.pendingProps!==o,c||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o||u!==s)&&aD(t,a,r,s),sE=!1;var f=t.memoizedState;a.state=f,sA(t,r,a,i),sN(),u=t.memoizedState,o||f!==u||sE?("function"==typeof h&&(aP(t,n,h,r),u=t.memoizedState),(l=sE||aL(t,n,l,r,f,u,s))?(c||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=s,r=l):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,s_(e,t),c=aM(n,s=t.memoizedProps),a.props=c,h=t.pendingProps,f=a.context,u=n.contextType,l=re,"object"==typeof u&&null!==u&&(l=sv(u)),(u="function"==typeof(o=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==h||f!==l)&&aD(t,a,r,l),sE=!1,f=t.memoizedState,a.state=f,sA(t,r,a,i),sN();var d=t.memoizedState;s!==h||f!==d||sE||null!==e&&null!==e.dependencies&&sg(e.dependencies)?("function"==typeof o&&(aP(t,n,o,r),d=t.memoizedState),(c=sE||aL(t,n,c,r,f,d,l)||null!==e&&null!==e.dependencies&&sg(e.dependencies))?(u||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,d,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,d,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=d),a.props=r,a.state=d,a.context=l,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,a0(e,t),r=0!=(128&t.flags),a||r?(a=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&r?(t.child=r$(t,e.child,null,i),t.child=r$(t,null,n,i)):aG(e,t,n,i),t.memoizedState=a.state,e=t.child):e=sa(e,t,i),e}function a4(e,t,n,r){return rx(),t.flags|=256,aG(e,t,n,r),t.child}var a6={dehydrated:null,treeContext:null,retryLane:0};function a5(e){return{baseLanes:e,cachePool:ic()}}function a8(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=oB),e}function a9(e,t,n){var r,i=t.pendingProps,a=!1,s=0!=(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!=(2&r2.current)),r&&(a=!0,t.flags&=-129),r=0!=(32&t.flags),t.flags&=-33,null===e){if(rv){if(a?rX(t):r0(t),rv){var o,l=ry;if(o=l){n:{for(o=l,l=rw;8!==o.nodeType;)if(!l||null===(o=uf(o.nextSibling))){l=null;break n}l=o}null!==l?(t.memoizedState={dehydrated:l,treeContext:null!==ru?{id:rc,overflow:rh}:null,retryLane:0x20000000},(o=oh(18,null,null,0)).stateNode=l,o.return=t,t.child=o,rg=t,ry=null,o=!0):o=!1}o||rS(t)}if(null!==(l=t.memoizedState)&&null!==(l=l.dehydrated))return"$!"===l.data?t.lanes=16:t.lanes=0x20000000,null;r1(t)}return(l=i.children,i=i.fallback,a)?(r0(t),l=se({mode:"hidden",children:l},a=t.mode),i=og(i,a,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,(a=t.child).memoizedState=a5(n),a.childLanes=a8(e,r,n),t.memoizedState=a6,i):(rX(t),a7(t,l))}if(null!==(o=e.memoizedState)&&null!==(l=o.dehydrated)){if(s)256&t.flags?(rX(t),t.flags&=-257,t=st(e,t,n)):null!==t.memoizedState?(r0(t),t.child=e.child,t.flags|=128,t=null):(r0(t),a=i.fallback,l=t.mode,i=se({mode:"visible",children:i.children},l),a=og(a,l,n,null),a.flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,r$(t,e.child,null,n),(i=t.child).memoizedState=a5(n),i.childLanes=a8(e,r,n),t.memoizedState=a6,t=a);else if(rX(t),"$!"===l.data){if(r=l.nextSibling&&l.nextSibling.dataset)var c=r.dgst;r=c,(i=Error(u(419))).stack="",i.digest=r,rI({value:i,source:null,stack:null}),t=st(e,t,n)}else if(aK||sm(e,t,n,!1),r=0!=(n&e.childLanes),aK||r){if(null!==(r=oN)){if(0!=(42&(i=n&-n)))i=1;else switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 0x1000000:case 0x2000000:i=64;break;case 0x10000000:i=0x8000000;break;default:i=0}if(0!==(i=0!=(i&(r.suspendedLanes|n))?0:i)&&i!==o.retryLane)throw o.retryLane=i,n8(e,i),o5(r,e,i),aW}"$?"===l.data||lo(),t=st(e,t,n)}else"$?"===l.data?(t.flags|=128,t.child=e.child,t=lS.bind(null,e),l._reactRetry=t,t=null):(e=o.treeContext,ry=uf(l.nextSibling),rg=t,rv=!0,rb=null,rw=!1,null!==e&&(ro[rl++]=rc,ro[rl++]=rh,ro[rl++]=ru,rc=e.id,rh=e.overflow,ru=t),t=a7(t,i.children),t.flags|=4096);return t}return a?(r0(t),a=i.fallback,l=t.mode,c=(o=e.child).sibling,(i=od(o,{mode:"hidden",children:i.children})).subtreeFlags=0x1e00000&o.subtreeFlags,null!==c?a=od(c,a):(a=og(a,l,n,null),a.flags|=2),a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,null===(l=e.child.memoizedState)?l=a5(n):(null!==(o=l.cachePool)?(c=r8._currentValue,o=o.parent!==c?{parent:c,pool:c}:o):o=ic(),l={baseLanes:l.baseLanes|n,cachePool:o}),a.memoizedState=l,a.childLanes=a8(e,r,n),t.memoizedState=a6,i):(rX(t),e=(n=e.child).sibling,(n=od(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function a7(e,t){return(t=se({mode:"visible",children:t},e.mode)).return=e,e.child=t}function se(e,t){return oy(e,t,0,null)}function st(e,t,n){return r$(t,e.child,null,n),e=a7(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function sn(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),sd(e.return,t,n)}function sr(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function si(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(aG(e,t,r.children,n),0!=(2&(r=r2.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&sn(e,n,t);else if(19===e.tag)sn(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(X(r2,r),i){case"forwards":for(i=null,n=t.child;null!==n;)null!==(e=n.alternate)&&null===r3(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),sr(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===r3(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}sr(t,!0,n,null,a);break;case"together":sr(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function sa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),oV|=t.lanes,0==(n&t.childLanes)&&(null===e||(sm(e,t,n,!1),0==(n&t.childLanes))))return null;if(null!==e&&t.child!==e.child)throw Error(u(153));if(null!==t.child){for(n=od(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=od(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ss(e,t){return 0!=(e.lanes&t)||!!(null!==(e=e.dependencies)&&sg(e))}function so(e,t,n){if(null!==e){if(e.memoizedProps!==t.pendingProps)aK=!0;else{if(!ss(e,n)&&0==(128&t.flags))return aK=!1,function(e,t,n){switch(t.tag){case 3:er(t,t.stateNode.containerInfo),sh(t,r8,e.memoizedState.cache),rx();break;case 27:case 5:ea(t);break;case 4:er(t,t.stateNode.containerInfo);break;case 10:sh(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r){if(null!==r.dehydrated)return rX(t),t.flags|=128,null;if(0!=(n&t.child.childLanes))return a9(e,t,n);return rX(t),null!==(e=sa(e,t,n))?e.sibling:null}rX(t);break;case 19:var i=0!=(128&e.flags);if((r=0!=(n&t.childLanes))||(sm(e,t,n,!1),r=0!=(n&t.childLanes)),i){if(r)return si(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),X(r2,r2.current),!r)return null;break;case 22:case 23:return t.lanes=0,aX(e,t,n);case 24:sh(t,r8,e.memoizedState.cache)}return sa(e,t,n)}(e,t,n);aK=0!=(131072&e.flags)}}else aK=!1,rv&&0!=(1048576&t.flags)&&rd(t,rs,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"==typeof r)of(r)?(e=aM(r,e),t.tag=1,t=a3(null,t,r,e,n)):(t.tag=0,t=a1(null,t,r,e,n));else{if(null!=r){if((i=r.$$typeof)===w){t.tag=11,t=aQ(null,t,r,e,n);break e}if(i===_){t.tag=14,t=aY(null,t,r,e,n);break e}}throw Error(u(306,t=function e(t){if(null==t)return null;if("function"==typeof t)return t.$$typeof===D?null:t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case p:return"Fragment";case d:return"Portal";case g:return"Profiler";case m:return"StrictMode";case E:return"Suspense";case S:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case b:return(t.displayName||"Context")+".Provider";case v:return(t._context.displayName||"Context")+".Consumer";case w:var n=t.render;return(t=t.displayName)||(t=""!==(t=n.displayName||n.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case _:return null!==(n=t.displayName||null)?n:e(t.type)||"Memo";case k:n=t._payload,t=t._init;try{return e(t(n))}catch(e){}}return null}(r)||r,""))}}return t;case 0:return a1(e,t,t.type,t.pendingProps,n);case 1:return i=aM(r=t.type,t.pendingProps),a3(e,t,r,i,n);case 3:e:{if(er(t,t.stateNode.containerInfo),null===e)throw Error(u(387));var a=t.pendingProps;r=(i=t.memoizedState).element,s_(e,t),sA(t,a,null,n);var s=t.memoizedState;if(sh(t,r8,a=s.cache),a!==i.cache&&sp(t,[r8],n,!0),sN(),a=s.element,i.isDehydrated){if(i={element:a,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=a4(e,t,a,n);break e}if(a!==r){rI(r=rn(Error(u(424)),t)),t=a4(e,t,a,n);break e}for(ry=uf(t.stateNode.containerInfo.firstChild),rg=t,rv=!0,rb=null,rw=!0,n=rq(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(rx(),a===r){t=sa(e,t,n);break e}aG(e,t,a,n)}t=t.child}return t;case 26:return a0(e,t),null===e?(n=uE(t.type,null,t.pendingProps,null))?t.memoizedState=n:rv||(n=t.type,e=t.pendingProps,(r=ue(et.current).createElement(n))[ez]=t,r[eB]=e,l8(r,n,e),e0(r),t.stateNode=r):t.memoizedState=uE(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ea(t),null===e&&rv&&(r=t.stateNode=up(t.type,t.pendingProps,et.current),rg=t,rw=!0,ry=uf(r.firstChild)),r=t.pendingProps.children,null!==e||rv?aG(e,t,r,n):t.child=r$(t,null,r,n),a0(e,t),t.child;case 5:return null===e&&rv&&((i=r=ry)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[eG])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence")||i!==n.rel||e.getAttribute("href")!==(null==n.href?null:n.href)||e.getAttribute("crossorigin")!==(null==n.crossOrigin?null:n.crossOrigin)||e.getAttribute("title")!==(null==n.title?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==n.src?null:n.src)||e.getAttribute("type")!==(null==n.type?null:n.type)||e.getAttribute("crossorigin")!==(null==n.crossOrigin?null:n.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==n.name?null:""+n.name;if("hidden"===n.type&&e.getAttribute("name")===i)return e}if(null===(e=uf(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,rw))?(t.stateNode=r,rg=t,ry=uf(r.firstChild),rw=!1,i=!0):i=!1),i||rS(t)),ea(t),i=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,r=a.children,ur(i,a)?r=null:null!==s&&ur(i,s)&&(t.flags|=32),null!==t.memoizedState&&(i=iT(e,t,iC,null,null,n),uz._currentValue=i),a0(e,t),aG(e,t,r,n),t.child;case 6:return null===e&&rv&&((e=n=ry)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;)if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n||null===(e=uf(e.nextSibling)))return null;return e}(n,t.pendingProps,rw))?(t.stateNode=n,rg=t,ry=null,e=!0):e=!1),e||rS(t)),null;case 13:return a9(e,t,n);case 4:return er(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=r$(t,null,r,n):aG(e,t,r,n),t.child;case 11:return aQ(e,t,t.type,t.pendingProps,n);case 7:return aG(e,t,t.pendingProps,n),t.child;case 8:case 12:return aG(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,sh(t,t.type,r.value),aG(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,sy(t),r=r(i=sv(i)),t.flags|=1,aG(e,t,r,n),t.child;case 14:return aY(e,t,t.type,t.pendingProps,n);case 15:return aJ(e,t,t.type,t.pendingProps,n);case 19:return si(e,t,n);case 22:return aX(e,t,n);case 24:return sy(t),r=sv(r8),null===e?(null===(i=il())&&(i=oN,a=r9(),i.pooledCache=a,a.refCount++,null!==a&&(i.pooledCacheLanes|=n),i=a),t.memoizedState={parent:r,cache:i},sS(t),sh(t,r8,i)):(0!=(e.lanes&n)&&(s_(e,t),sA(t,null,null,n),sN()),i=e.memoizedState,a=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),sh(t,r8,r)):(sh(t,r8,r=a.cache),r!==i.cache&&sp(t,[r8],n,!0))),aG(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(u(156,t.tag))}var sl=Y(null),su=null,sc=null;function sh(e,t,n){X(sl,t._currentValue),t._currentValue=n}function sf(e){e._currentValue=sl.current,J(sl)}function sd(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function sp(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var a=i.dependencies;if(null!==a){var s=i.child;a=a.firstContext;e:for(;null!==a;){var o=a;a=i;for(var l=0;l<t.length;l++)if(o.context===t[l]){a.lanes|=n,null!==(o=a.alternate)&&(o.lanes|=n),sd(a.return,n,e),r||(s=null);break e}a=o.next}}else if(18===i.tag){if(null===(s=i.return))throw Error(u(341));s.lanes|=n,null!==(a=s.alternate)&&(a.lanes|=n),sd(s,n,e),s=null}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===e){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}}function sm(e,t,n,r){e=null;for(var i=t,a=!1;null!==i;){if(!a){if(0!=(524288&i.flags))a=!0;else if(0!=(262144&i.flags))break}if(10===i.tag){var s=i.alternate;if(null===s)throw Error(u(387));if(null!==(s=s.memoizedProps)){var o=i.type;nC(i.pendingProps.value,s.value)||(null!==e?e.push(o):e=[o])}}else if(i===en.current){if(null===(s=i.alternate))throw Error(u(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(uz):e=[uz])}i=i.return}null!==e&&sp(t,e,n,r),t.flags|=262144}function sg(e){for(e=e.firstContext;null!==e;){if(!nC(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function sy(e){su=e,sc=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function sv(e){return sw(su,e)}function sb(e,t){return null===su&&sy(e),sw(e,t)}function sw(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===sc){if(null===e)throw Error(u(308));sc=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else sc=sc.next=t;return n}var sE=!1;function sS(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function s_(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function sk(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function sT(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!=(2&oC)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=n7(e),n9(e,null,n),t}return n6(e,r,t,n),n7(e)}function sx(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194176&n))){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,eU(e,n)}}function sI(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?i=a=s:a=a.next=s,n=n.next}while(null!==n)null===a?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var sC=!1;function sN(){if(sC){var e=ii;if(null!==e)throw e}}function sA(e,t,n,r){sC=!1;var i=e.updateQueue;sE=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,u=l.next;l.next=null,null===s?a=u:s.next=u,s=l;var c=e.alternate;null!==c&&(o=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===o?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l)}if(null!==a){var h=i.baseState;for(s=0,c=u=l=null,o=a;;){var f=-0x20000001&o.lane,d=f!==o.lane;if(d?(oR&f)===f:(r&f)===f){0!==f&&f===ir&&(sC=!0),null!==c&&(c=c.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var p=e,m=o;switch(f=t,m.tag){case 1:if("function"==typeof(p=m.payload)){h=p.call(n,h,f);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(f="function"==typeof(p=m.payload)?p.call(n,h,f):p))break e;h=U({},h,f);break e;case 2:sE=!0}}null!==(f=o.callback)&&(e.flags|=64,d&&(e.flags|=8192),null===(d=i.callbacks)?i.callbacks=[f]:d.push(f))}else d={lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(u=c=d,l=h):c=c.next=d,s|=f;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(d=o).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null===a&&(i.shared.lanes=0),oV|=s,e.lanes=s,e.memoizedState=h}}function sR(e,t){if("function"!=typeof e)throw Error(u(191,e));e.call(t)}function sP(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)sR(n[e],t)}function sO(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,s=n.inst;r=a(),s.destroy=r}n=n.next}while(n!==i)}}catch(e){lv(t,t.return,e)}}function sL(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var a=i.next;r=a;do{if((r.tag&e)===e){var s=r.inst,o=s.destroy;if(void 0!==o){s.destroy=void 0,i=t;try{o()}catch(e){lv(i,n,e)}}}r=r.next}while(r!==a)}}catch(e){lv(t,t.return,e)}}function sD(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{sP(t,n)}catch(t){lv(e,e.return,t)}}}function sM(e,t,n){n.props=aM(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){lv(e,t,n)}}function sU(e,t){try{var n=e.ref;if(null!==n){var r=e.stateNode;switch(e.tag){case 26:case 27:case 5:var i=r;break;default:i=r}"function"==typeof n?e.refCleanup=n(i):n.current=i}}catch(n){lv(e,t,n)}}function sF(e,t){var n=e.ref,r=e.refCleanup;if(null!==n){if("function"==typeof r)try{r()}catch(n){lv(e,t,n)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(n){lv(e,t,n)}else n.current=null}}function sV(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(t){lv(e,e.return,t)}}function sj(e,t,n){try{var r=e.stateNode;(function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,s=null,o=null,l=null,c=null,h=null;for(p in n){var f=n[p];if(n.hasOwnProperty(p)&&null!=f)switch(p){case"checked":case"value":break;case"defaultValue":l=f;default:r.hasOwnProperty(p)||l6(e,t,p,null,r,f)}}for(var d in r){var p=r[d];if(f=n[d],r.hasOwnProperty(d)&&(null!=p||null!=f))switch(d){case"type":a=p;break;case"name":i=p;break;case"checked":c=p;break;case"defaultChecked":h=p;break;case"value":s=p;break;case"defaultValue":o=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(u(137,t));break;default:p!==f&&l6(e,t,d,p,r,f)}}tu(e,s,o,l,c,h,a,i);return;case"select":for(a in p=s=o=d=null,n)if(l=n[a],n.hasOwnProperty(a)&&null!=l)switch(a){case"value":break;case"multiple":p=l;default:r.hasOwnProperty(a)||l6(e,t,a,null,r,l)}for(i in r)if(a=r[i],l=n[i],r.hasOwnProperty(i)&&(null!=a||null!=l))switch(i){case"value":d=a;break;case"defaultValue":o=a;break;case"multiple":s=a;default:a!==l&&l6(e,t,i,a,r,l)}t=o,n=s,r=p,null!=d?tf(e,!!n,d,!1):!!r!=!!n&&(null!=t?tf(e,!!n,t,!0):tf(e,!!n,n?[]:"",!1));return;case"textarea":for(o in p=d=null,n)if(i=n[o],n.hasOwnProperty(o)&&null!=i&&!r.hasOwnProperty(o))switch(o){case"value":case"children":break;default:l6(e,t,o,null,r,i)}for(s in r)if(i=r[s],a=n[s],r.hasOwnProperty(s)&&(null!=i||null!=a))switch(s){case"value":d=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(u(91));break;default:i!==a&&l6(e,t,s,i,r,a)}td(e,d,p);return;case"option":for(var m in n)d=n[m],n.hasOwnProperty(m)&&null!=d&&!r.hasOwnProperty(m)&&("selected"===m?e.selected=!1:l6(e,t,m,null,r,d));for(l in r)d=r[l],p=n[l],r.hasOwnProperty(l)&&d!==p&&(null!=d||null!=p)&&("selected"===l?e.selected=d&&"function"!=typeof d&&"symbol"!=typeof d:l6(e,t,l,d,r,p));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)d=n[g],n.hasOwnProperty(g)&&null!=d&&!r.hasOwnProperty(g)&&l6(e,t,g,null,r,d);for(c in r)if(d=r[c],p=n[c],r.hasOwnProperty(c)&&d!==p&&(null!=d||null!=p))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(u(137,t));break;default:l6(e,t,c,d,r,p)}return;default:if(tb(t)){for(var y in n)d=n[y],n.hasOwnProperty(y)&&void 0!==d&&!r.hasOwnProperty(y)&&l5(e,t,y,void 0,r,d);for(h in r)d=r[h],p=n[h],r.hasOwnProperty(h)&&d!==p&&(void 0!==d||void 0!==p)&&l5(e,t,h,d,r,p);return}}for(var v in n)d=n[v],n.hasOwnProperty(v)&&null!=d&&!r.hasOwnProperty(v)&&l6(e,t,v,null,r,d);for(f in r)d=r[f],p=n[f],r.hasOwnProperty(f)&&d!==p&&(null!=d||null!=p)&&l6(e,t,f,d,r,p)})(r,e.type,n,t),r[eB]=t}catch(t){lv(e,e.return,t)}}function sz(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag||4===e.tag}function sB(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sz(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&27!==e.tag&&18!==e.tag;){if(2&e.flags||null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function s$(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&27!==r&&null!==(e=e.child))for(s$(e,t,n),e=e.sibling;null!==e;)s$(e,t,n),e=e.sibling}var sq=!1,sH=!1,sW=!1,sK="function"==typeof WeakSet?WeakSet:Set,sG=null,sQ=!1;function sY(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:s8(e,n),4&r&&sO(5,n);break;case 1:if(s8(e,n),4&r){if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(e){lv(n,n.return,e)}else{var i=aM(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){lv(n,n.return,e)}}}64&r&&sD(n),512&r&&sU(n,n.return);break;case 3:if(s8(e,n),64&r&&null!==(r=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:e=n.child.stateNode}try{sP(r,e)}catch(e){lv(n,n.return,e)}}break;case 26:s8(e,n),512&r&&sU(n,n.return);break;case 27:case 5:s8(e,n),null===t&&4&r&&sV(n),512&r&&sU(n,n.return);break;case 12:default:s8(e,n);break;case 13:s8(e,n),4&r&&s1(e,n);break;case 22:if(!(i=null!==n.memoizedState||sq)){t=null!==t&&null!==t.memoizedState||sH;var a=sq,s=sH;sq=i,(sH=t)&&!s?function e(t,n,r){for(r=r&&0!=(8772&n.subtreeFlags),n=n.child;null!==n;){var i=n.alternate,a=t,s=n,o=s.flags;switch(s.tag){case 0:case 11:case 15:e(a,s,r),sO(4,s);break;case 1:if(e(a,s,r),"function"==typeof(a=(i=s).stateNode).componentDidMount)try{a.componentDidMount()}catch(e){lv(i,i.return,e)}if(null!==(a=(i=s).updateQueue)){var l=i.stateNode;try{var u=a.shared.hiddenCallbacks;if(null!==u)for(a.shared.hiddenCallbacks=null,a=0;a<u.length;a++)sR(u[a],l)}catch(e){lv(i,i.return,e)}}r&&64&o&&sD(s),sU(s,s.return);break;case 26:case 27:case 5:e(a,s,r),r&&null===i&&4&o&&sV(s),sU(s,s.return);break;case 12:default:e(a,s,r);break;case 13:e(a,s,r),r&&4&o&&s1(a,s);break;case 22:null===s.memoizedState&&e(a,s,r),sU(s,s.return)}n=n.sibling}}(e,n,0!=(8772&n.subtreeFlags)):s8(e,n),sq=a,sH=s}512&r&&("manual"===n.memoizedProps.mode?sU(n,n.return):sF(n,n.return))}}var sJ=null,sX=!1;function sZ(e,t,n){for(n=n.child;null!==n;)s0(e,t,n),n=n.sibling}function s0(e,t,n){if(eS&&"function"==typeof eS.onCommitFiberUnmount)try{eS.onCommitFiberUnmount(eE,n)}catch(e){}switch(n.tag){case 26:sH||sF(n,t),sZ(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:sH||sF(n,t);var r=sJ,i=sX;for(sJ=n.stateNode,sZ(e,t,n),t=(n=n.stateNode).attributes;t.length;)n.removeAttributeNode(t[0]);eQ(n),sJ=r,sX=i;break;case 5:sH||sF(n,t);case 6:i=sJ;var a=sX;if(sJ=null,sZ(e,t,n),sJ=i,sX=a,null!==sJ){if(sX)try{e=sJ,r=n.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)}catch(e){lv(n,t,e)}else try{sJ.removeChild(n.stateNode)}catch(e){lv(n,t,e)}}break;case 18:null!==sJ&&(sX?(t=sJ,n=n.stateNode,8===t.nodeType?uc(t.parentNode,n):1===t.nodeType&&uc(t,n),cu(t)):uc(sJ,n.stateNode));break;case 4:r=sJ,i=sX,sJ=n.stateNode.containerInfo,sX=!0,sZ(e,t,n),sJ=r,sX=i;break;case 0:case 11:case 14:case 15:sH||sL(2,n,t),sH||sL(4,n,t),sZ(e,t,n);break;case 1:sH||(sF(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&sM(n,t,r)),sZ(e,t,n);break;case 21:default:sZ(e,t,n);break;case 22:sH||sF(n,t),sH=(r=sH)||null!==n.memoizedState,sZ(e,t,n),sH=r}}function s1(e,t){if(null===t.memoizedState&&null!==(e=t.alternate)&&null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))try{cu(e)}catch(e){lv(t,t.return,e)}}function s2(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new sK),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new sK),t;default:throw Error(u(435,e.tag))}}(e);t.forEach(function(t){var r=l_.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function s3(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],a=e,s=t,o=s;e:for(;null!==o;){switch(o.tag){case 27:case 5:sJ=o.stateNode,sX=!1;break e;case 3:case 4:sJ=o.stateNode.containerInfo,sX=!0;break e}o=o.return}if(null===sJ)throw Error(u(160));s0(a,s,i),sJ=null,sX=!1,null!==(a=i.alternate)&&(a.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)s6(t,e),t=t.sibling}var s4=null;function s6(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:s3(t,e),s5(e),4&r&&(sL(3,e,e.return),sO(3,e),sL(5,e,e.return));break;case 1:s3(t,e),s5(e),512&r&&(sH||null===n||sF(n,n.return)),64&r&&sq&&null!==(e=e.updateQueue)&&null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r));break;case 26:var i=s4;if(s3(t,e),s5(e),512&r&&(sH||null===n||sF(n,n.return)),4&r){var a=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n){if(null===r){if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(a=i.getElementsByTagName("title")[0])||a[eG]||a[ez]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),l8(a,r,n),a[ez]=e,e0(a),r=a;break e;case"link":var s=uP("link","href",i).get(r+(n.href||""));if(s){for(var o=0;o<s.length;o++)if((a=s[o]).getAttribute("href")===(null==n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(o,1);break t}}l8(a=i.createElement(r),r,n),i.head.appendChild(a);break;case"meta":if(s=uP("meta","content",i).get(r+(n.content||""))){for(o=0;o<s.length;o++)if((a=s[o]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(o,1);break t}}l8(a=i.createElement(r),r,n),i.head.appendChild(a);break;default:throw Error(u(468,r))}a[ez]=e,e0(a),r=a}e.stateNode=r}else uO(i,e.type,e.stateNode)}else e.stateNode=uI(i,r,e.memoizedProps)}else a!==r?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===r?uO(i,e.type,e.stateNode):uI(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&sj(e,e.memoizedProps,n.memoizedProps)}break;case 27:if(4&r&&null===e.alternate){i=e.stateNode,a=e.memoizedProps;try{for(var l=i.firstChild;l;){var c=l.nextSibling,h=l.nodeName;l[eG]||"HEAD"===h||"BODY"===h||"SCRIPT"===h||"STYLE"===h||"LINK"===h&&"stylesheet"===l.rel.toLowerCase()||i.removeChild(l),l=c}for(var f=e.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);l8(i,f,a),i[ez]=e,i[eB]=a}catch(t){lv(e,e.return,t)}}case 5:if(s3(t,e),s5(e),512&r&&(sH||null===n||sF(n,n.return)),32&e.flags){i=e.stateNode;try{tm(i,"")}catch(t){lv(e,e.return,t)}}4&r&&null!=e.stateNode&&(i=e.memoizedProps,sj(e,i,null!==n?n.memoizedProps:i)),1024&r&&(sW=!0);break;case 6:if(s3(t,e),s5(e),4&r){if(null===e.stateNode)throw Error(u(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(t){lv(e,e.return,t)}}break;case 3:if(uR=null,i=s4,s4=uy(t.containerInfo),s3(t,e),s4=i,s5(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{cu(t.containerInfo)}catch(t){lv(e,e.return,t)}sW&&(sW=!1,function e(t){if(1024&t.subtreeFlags)for(t=t.child;null!==t;){var n=t;e(n),5===n.tag&&1024&n.flags&&n.stateNode.reset(),t=t.sibling}}(e));break;case 4:r=s4,s4=uy(e.stateNode.containerInfo),s3(t,e),s5(e),s4=r;break;case 12:default:s3(t,e),s5(e);break;case 13:s3(t,e),s5(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(oK=ef()),4&r&&null!==(r=e.updateQueue)&&(e.updateQueue=null,s2(e,r));break;case 22:if(512&r&&(sH||null===n||sF(n,n.return)),l=null!==e.memoizedState,c=null!==n&&null!==n.memoizedState,h=sq,f=sH,sq=h||l,sH=f||c,s3(t,e),sH=f,sq=h,s5(e),(t=e.stateNode)._current=e,t._visibility&=-3,t._visibility|=2&t._pendingVisibility,8192&r&&(t._visibility=l?-2&t._visibility:1|t._visibility,l&&(t=sq||sH,null===n||c||t||function e(t){for(t=t.child;null!==t;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:sL(4,n,n.return),e(n);break;case 1:sF(n,n.return);var r=n.stateNode;"function"==typeof r.componentWillUnmount&&sM(n,n.return,r),e(n);break;case 26:case 27:case 5:sF(n,n.return),e(n);break;case 22:sF(n,n.return),null===n.memoizedState&&e(n);break;default:e(n)}t=t.sibling}}(e)),null===e.memoizedProps||"manual"!==e.memoizedProps.mode))e:for(n=null,t=e;;){if(5===t.tag||26===t.tag||27===t.tag){if(null===n){c=n=t;try{if(i=c.stateNode,l)a=i.style,"function"==typeof a.setProperty?a.setProperty("display","none","important"):a.display="none";else{s=c.stateNode;var p=null!=(o=c.memoizedProps.style)&&o.hasOwnProperty("display")?o.display:null;s.style.display=null==p||"boolean"==typeof p?"":(""+p).trim()}}catch(e){lv(c,c.return,e)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=l?"":c.memoizedProps}catch(e){lv(c,c.return,e)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&null!==(r=e.updateQueue)&&null!==(n=r.retryQueue)&&(r.retryQueue=null,s2(e,n));break;case 19:s3(t,e),s5(e),4&r&&null!==(r=e.updateQueue)&&(e.updateQueue=null,s2(e,r));case 21:}}function s5(e){var t=e.flags;if(2&t){try{if(27!==e.tag){e:{for(var n=e.return;null!==n;){if(sz(n)){var r=n;break e}n=n.return}throw Error(u(160))}switch(r.tag){case 27:var i=r.stateNode,a=sB(e);s$(e,a,i);break;case 5:var s=r.stateNode;32&r.flags&&(tm(s,""),r.flags&=-33);var o=sB(e);s$(e,o,s);break;case 3:case 4:var l=r.stateNode.containerInfo,c=sB(e);!function e(t,n,r){var i=t.tag;if(5===i||6===i)t=t.stateNode,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!=(r=r._reactRootContainer)||null!==n.onclick||(n.onclick=l4));else if(4!==i&&27!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,c,l);break;default:throw Error(u(161))}}}catch(t){lv(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function s8(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)sY(e,t.alternate,t),t=t.sibling}function s9(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&r7(n))}function s7(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&r7(e))}function oe(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ot(e,t,n,r),t=t.sibling}function ot(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:oe(e,t,n,r),2048&i&&sO(9,t);break;case 3:oe(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&r7(e)));break;case 12:if(2048&i){oe(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,s=a.id,o=a.onPostCommit;"function"==typeof o&&o(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(e){lv(t,t.return,e)}}else oe(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,null!==t.memoizedState?4&a._visibility?oe(e,t,n,r):on(e,t):4&a._visibility?oe(e,t,n,r):(a._visibility|=4,function e(t,n,r,i,a){for(a=a&&0!=(10256&n.subtreeFlags),n=n.child;null!==n;){var s=n,o=s.flags;switch(s.tag){case 0:case 11:case 15:e(t,s,r,i,a),sO(8,s);break;case 23:break;case 22:var l=s.stateNode;null!==s.memoizedState?4&l._visibility?e(t,s,r,i,a):on(t,s):(l._visibility|=4,e(t,s,r,i,a)),a&&2048&o&&s9(s.alternate,s);break;case 24:e(t,s,r,i,a),a&&2048&o&&s7(s.alternate,s);break;default:e(t,s,r,i,a)}n=n.sibling}}(e,t,n,r,0!=(10256&t.subtreeFlags))),2048&i&&s9(t.alternate,t);break;case 24:oe(e,t,n,r),2048&i&&s7(t.alternate,t);break;default:oe(e,t,n,r)}}function on(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=t,r=n.flags;switch(n.tag){case 22:on(e,n),2048&r&&s9(n.alternate,n);break;case 24:on(e,n),2048&r&&s7(n.alternate,n);break;default:on(e,n)}t=t.sibling}}var or=8192;function oi(e){if(e.subtreeFlags&or)for(e=e.child;null!==e;)oa(e),e=e.sibling}function oa(e){switch(e.tag){case 26:oi(e),e.flags&or&&null!==e.memoizedState&&function(e,t,n){if(null===uD)throw Error(u(475));var r=uD;if("stylesheet"===t.type&&("string"!=typeof n.media||!1!==matchMedia(n.media).matches)&&0==(4&t.state.loading)){if(null===t.instance){var i=uS(n.href),a=e.querySelector(u_(i));if(a){null!==(e=a._p)&&"object"==typeof e&&"function"==typeof e.then&&(r.count++,r=uU.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=a,e0(a);return}a=e.ownerDocument||e,n=uk(n),(i=um.get(i))&&uN(n,i),e0(a=a.createElement("link"));var s=a;s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),l8(a,"link",n),t.instance=a}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0==(3&t.state.loading)&&(r.count++,t=uU.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(s4,e.memoizedState,e.memoizedProps);break;case 5:default:oi(e);break;case 3:case 4:var t=s4;s4=uy(e.stateNode.containerInfo),oi(e),s4=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=or,or=0x1000000,oi(e),or=t):oi(e))}}function os(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(null!==e)}}function oo(e){var t=e.deletions;if(0!=(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];sG=r,ou(r,e)}os(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)ol(e),e=e.sibling}function ol(e){switch(e.tag){case 0:case 11:case 15:oo(e),2048&e.flags&&sL(9,e,e.return);break;case 3:case 12:default:oo(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&4&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-5,function e(t){var n=t.deletions;if(0!=(16&t.flags)){if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];sG=i,ou(i,t)}os(t)}for(t=t.child;null!==t;){switch((n=t).tag){case 0:case 11:case 15:sL(8,n,n.return),e(n);break;case 22:4&(r=n.stateNode)._visibility&&(r._visibility&=-5,e(n));break;default:e(n)}t=t.sibling}}(e)):oo(e)}}function ou(e,t){for(;null!==sG;){var n=sG;switch(n.tag){case 0:case 11:case 15:sL(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:r7(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,sG=r;else for(n=e;null!==sG;){var i=(r=sG).sibling,a=r.return;if(function e(t){var n=t.alternate;null!==n&&(t.alternate=null,e(n)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&null!==(n=t.stateNode)&&eQ(n),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}(r),r===n){sG=null;break}if(null!==i){i.return=a,sG=i;break}sG=a}}}function oc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oh(e,t,n,r){return new oc(e,t,n,r)}function of(e){return!(!(e=e.prototype)||!e.isReactComponent)}function od(e,t){var n=e.alternate;return null===n?((n=oh(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=0x1e00000&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function op(e,t){e.flags&=0x1e00002;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function om(e,t,n,r,i,a){var s=0;if(r=e,"function"==typeof e)of(e)&&(s=1);else if("string"==typeof e)s=!function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;if("stylesheet"===t.rel)return e=t.disabled,"string"==typeof t.precedence&&null==e;return!0;case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,Z.current)?"html"===e||"head"===e||"body"===e?27:5:26;else e:switch(e){case p:return og(n.children,i,a,t);case m:s=8,i|=24;break;case g:return(e=oh(12,n,t,2|i)).elementType=g,e.lanes=a,e;case E:return(e=oh(13,n,t,i)).elementType=E,e.lanes=a,e;case S:return(e=oh(19,n,t,i)).elementType=S,e.lanes=a,e;case T:return oy(n,i,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case y:case b:s=10;break e;case v:s=9;break e;case w:s=11;break e;case _:s=14;break e;case k:s=16,r=null;break e}s=29,n=Error(u(130,null===e?"null":typeof e,"")),r=null}return(t=oh(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function og(e,t,n,r){return(e=oh(7,e,r,t)).lanes=n,e}function oy(e,t,n,r){(e=oh(22,e,r,t)).elementType=T,e.lanes=n;var i={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var e=i._current;if(null===e)throw Error(u(456));if(0==(2&i._pendingVisibility)){var t=n8(e,2);null!==t&&(i._pendingVisibility|=2,o5(t,e,2))}},attach:function(){var e=i._current;if(null===e)throw Error(u(456));if(0!=(2&i._pendingVisibility)){var t=n8(e,2);null!==t&&(i._pendingVisibility&=-3,o5(t,e,2))}}};return e.stateNode=i,e}function ov(e,t,n){return(e=oh(6,e,null,t)).lanes=n,e}function ob(e,t,n){return(t=oh(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ow(e){e.flags|=4}function oE(e,t){if("stylesheet"!==t.type||0!=(4&t.state.loading))e.flags&=-0x1000001;else if(e.flags|=0x1000000,!uL(t)){if(null!==(t=rY.current)&&((4194176&oR)===oR?null!==rJ:(0x3c00000&oR)!==oR&&0==(0x20000000&oR)||t!==rJ))throw rL=rA,rN;e.flags|=8192}}function oS(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?eO():0x20000000,e.lanes|=t,o$|=t)}function o_(e,t){if(!rv)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ok(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=0x1e00000&i.subtreeFlags,r|=0x1e00000&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function oT(e,t){switch(rm(t),t.tag){case 3:sf(r8),ei();break;case 26:case 27:case 5:es(t);break;case 4:ei();break;case 13:r1(t);break;case 19:J(r2);break;case 10:sf(t.type);break;case 22:case 23:r1(t),rQ(),null!==e&&J(io);break;case 24:sf(r8)}}var ox={getCacheForType:function(e){var t=sv(r8),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},oI="function"==typeof WeakMap?WeakMap:Map,oC=0,oN=null,oA=null,oR=0,oP=0,oO=null,oL=!1,oD=!1,oM=!1,oU=0,oF=0,oV=0,oj=0,oz=0,oB=0,o$=0,oq=null,oH=null,oW=!1,oK=0,oG=1/0,oQ=null,oY=null,oJ=!1,oX=null,oZ=0,o0=0,o1=null,o2=0,o3=null;function o4(){if(0!=(2&oC)&&0!==oR)return oR&-oR;if(null!==M.T){var e=ir;return 0!==e?e:lM()}return eV()}function o6(){0===oB&&(oB=0==(0x20000000&oR)||rv?eP():0x20000000);var e=rY.current;return null!==e&&(e.flags|=32),oB}function o5(e,t,n){(e===oN&&2===oP||null!==e.cancelPendingCommit)&&(lr(e,0),le(e,oR,oB,!1)),eD(e,n),(0==(2&oC)||e!==oN)&&(e===oN&&(0==(2&oC)&&(oj|=n),4===oF&&le(e,oR,oB,!1)),lA(e))}function o8(e,t,n){if(0!=(6&oC))throw Error(u(327));for(var r=!n&&0==(60&t)&&0==(t&e.expiredLanes)||eR(e,t),i=r?function(e,t){var n=oC;oC|=2;var r=la(),i=ls();oN!==e||oR!==t?(oQ=null,oG=ef()+500,lr(e,t)):oD=eR(e,t);e:for(;;)try{if(0!==oP&&null!==oA){t=oA;var a=oO;t:switch(oP){case 1:oP=0,oO=null,lh(e,t,a,1);break;case 2:if(rR(a)){oP=0,oO=null,lc(t);break}t=function(){2===oP&&oN===e&&(oP=7),lA(e)},a.then(t,t);break e;case 3:oP=7;break e;case 4:oP=5;break e;case 7:rR(a)?(oP=0,oO=null,lc(t)):(oP=0,oO=null,lh(e,t,a,7));break;case 5:var s=null;switch(oA.tag){case 26:s=oA.memoizedState;case 5:case 27:var o=oA;if(s?uL(s):1){oP=0,oO=null;var l=o.sibling;if(null!==l)oA=l;else{var c=o.return;null!==c?(oA=c,lf(c)):oA=null}break t}}oP=0,oO=null,lh(e,t,a,5);break;case 6:oP=0,oO=null,lh(e,t,a,6);break;case 8:ln(),oF=6;break e;default:throw Error(u(462))}}(function(){for(;null!==oA&&!ec();)lu(oA)})();break}catch(t){li(e,t)}return(sc=su=null,M.H=r,M.A=i,oC=n,null!==oA)?0:(oN=null,oR=0,n4(),oF)}(e,t):ll(e,t,!0),a=r;;){if(0===i)oD&&!r&&le(e,t,0,!1);else if(6===i)le(e,t,0,!oL);else{if(n=e.current.alternate,a&&!function(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&null!==(n=t.updateQueue)&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!nC(a(),i))return!1}catch(e){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(n)){i=ll(e,t,!1),a=!1;continue}if(2===i){if(a=t,e.errorRecoveryDisabledLanes&a)var s=0;else s=0!=(s=-0x20000001&e.pendingLanes)?s:0x20000000&s?0x20000000:0;if(0!==s){t=s;e:{i=oq;var o=e.current.memoizedState.isDehydrated;if(o&&(lr(e,s).flags|=256),2!==(s=ll(e,s,!1))){if(oM&&!o){e.errorRecoveryDisabledLanes|=a,oj|=a,i=4;break e}a=oH,oH=i,null!==a&&o9(a)}i=s}if(a=!1,2!==i)continue}}if(1===i){lr(e,0),le(e,t,0,!0);break}e:{switch(r=e,i){case 0:case 1:throw Error(u(345));case 4:if((4194176&t)===t){le(r,t,oB,!oL);break e}break;case 2:oH=null;break;case 3:case 5:break;default:throw Error(u(329))}if(r.finishedWork=n,r.finishedLanes=t,(0x3c00000&t)===t&&10<(a=oK+300-ef())){if(le(r,t,oB,!oL),0!==eA(r,0))break e;r.timeoutHandle=ua(o7.bind(null,r,n,oH,oQ,oW,t,oB,oj,o$,oL,2,-0,0),a);break e}o7(r,n,oH,oQ,oW,t,oB,oj,o$,oL,0,-0,0)}}break}lA(e)}function o9(e){null===oH?oH=e:oH.push.apply(oH,e)}function o7(e,t,n,r,i,a,s,o,l,c,h,f,d){var p=t.subtreeFlags;if((8192&p||0x1002000==(0x1002000&p))&&(uD={stylesheets:null,count:0,unsuspend:uM},oa(t),null!==(t=function(){if(null===uD)throw Error(u(475));var e=uD;return e.stylesheets&&0===e.count&&uV(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&uV(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}()))){e.cancelPendingCommit=t(lp.bind(null,e,n,r,i,s,o,l,1,f,d)),le(e,a,s,!c);return}lp(e,n,r,i,s,o,l,h,f,d)}function le(e,t,n,r){t&=~oz,t&=~oj,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-ek(i),s=1<<a;r[a]=-1,i&=~s}0!==n&&eM(e,n,t)}function lt(){return 0!=(6&oC)||(lR(0,!1),!1)}function ln(){if(null!==oA){if(0===oP)var e=oA.return;else e=oA,sc=su=null,iR(e),rM=null,rU=0,e=oA;for(;null!==e;)oT(e.alternate,e),e=e.return;oA=null}}function lr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,us(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),ln(),oN=e,oA=n=od(e.current,null),oR=t,oP=0,oO=null,oL=!1,oD=eR(e,t),oM=!1,o$=oB=oz=oj=oV=oF=0,oH=oq=null,oW=!1,0!=(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-ek(r),a=1<<i;t|=e[i],r&=~a}return oU=t,n4(),n}function li(e,t){id=null,M.H=aC,t===rC?(t=rD(),oP=3):t===rN?(t=rD(),oP=4):oP=t===aW?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,oO=t,null===oA&&(oF=1,az(e,rn(t,e.current)))}function la(){var e=M.H;return M.H=aC,null===e?aC:e}function ls(){var e=M.A;return M.A=ox,e}function lo(){oF=4,oL||(4194176&oR)!==oR&&null!==rY.current||(oD=!0),0==(0x7ffffff&oV)&&0==(0x7ffffff&oj)||null===oN||le(oN,oR,oB,!1)}function ll(e,t,n){var r=oC;oC|=2;var i=la(),a=ls();(oN!==e||oR!==t)&&(oQ=null,lr(e,t)),t=!1;var s=oF;e:for(;;)try{if(0!==oP&&null!==oA){var o=oA,l=oO;switch(oP){case 8:ln(),s=6;break e;case 3:case 2:case 6:null===rY.current&&(t=!0);var u=oP;if(oP=0,oO=null,lh(e,o,l,u),n&&oD){s=0;break e}break;default:u=oP,oP=0,oO=null,lh(e,o,l,u)}}(function(){for(;null!==oA;)lu(oA)})(),s=oF;break}catch(t){li(e,t)}return t&&e.shellSuspendCounter++,sc=su=null,oC=r,M.H=i,M.A=a,null===oA&&(oN=null,oR=0,n4()),s}function lu(e){var t=so(e.alternate,e,oU);e.memoizedProps=e.pendingProps,null===t?lf(e):oA=t}function lc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=a2(n,t,t.pendingProps,t.type,void 0,oR);break;case 11:t=a2(n,t,t.pendingProps,t.type.render,t.ref,oR);break;case 5:iR(t);default:oT(n,t),t=so(n,t=oA=op(t,oU),oU)}e.memoizedProps=e.pendingProps,null===t?lf(e):oA=t}function lh(e,t,n,r){sc=su=null,iR(t),rM=null,rU=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"==typeof r&&"function"==typeof r.then){if(null!==(t=n.alternate)&&sm(t,n,i,!0),null!==(n=rY.current)){switch(n.tag){case 13:return null===rJ?lo():null===n.alternate&&0===oF&&(oF=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===rA?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),lb(e,r,i)),!1;case 22:return n.flags|=65536,r===rA?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),lb(e,r,i)),!1}throw Error(u(435,n.tag))}return lb(e,r,i),lo(),!1}if(rv)return null!==(t=rY.current)?(0==(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==rE&&rI(rn(e=Error(u(422),{cause:r}),n))):(r!==rE&&rI(rn(t=Error(u(423),{cause:r}),n)),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,r=rn(r,n),i=a$(e.stateNode,r,i),sI(e,i),4!==oF&&(oF=2)),!1;var a=Error(u(520),{cause:r});if(a=rn(a,n),null===oq?oq=[a]:oq.push(a),4!==oF&&(oF=2),null===t)return!0;r=rn(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=a$(n.stateNode,r,e),sI(n,e),!1;case 1:if(t=n.type,a=n.stateNode,0==(128&n.flags)&&("function"==typeof t.getDerivedStateFromError||null!==a&&"function"==typeof a.componentDidCatch&&(null===oY||!oY.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,aH(i=aq(i),e,n,r),sI(n,i),!1}n=n.return}while(null!==n)return!1}(e,i,t,n,oR)){oF=1,az(e,rn(n,e.current)),oA=null;return}}catch(t){if(null!==i)throw oA=i,t;oF=1,az(e,rn(n,e.current)),oA=null;return}32768&t.flags?(rv||1===r?e=!0:oD||0!=(0x20000000&oR)?e=!1:(oL=e=!0,(2===r||3===r||6===r)&&null!==(r=rY.current)&&13===r.tag&&(r.flags|=16384)),ld(t,e)):lf(t)}function lf(e){var t=e;do{if(0!=(32768&t.flags)){ld(t,oL);return}e=t.return;var n=function(e,t,n){var r=t.pendingProps;switch(rm(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return ok(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),sf(r8),ei(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(null===e||null===e.child)&&(rT(t)?ow(t):null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==rb&&(o9(rb),rb=null))),ok(t),null;case 26:return n=t.memoizedState,null===e?(ow(t),null!==n?(ok(t),oE(t,n)):(ok(t),t.flags&=-0x1000001)):n?n!==e.memoizedState?(ow(t),ok(t),oE(t,n)):(ok(t),t.flags&=-0x1000001):(e.memoizedProps!==r&&ow(t),ok(t),t.flags&=-0x1000001),null;case 27:es(t),n=et.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ow(t);else{if(!r){if(null===t.stateNode)throw Error(u(166));return ok(t),null}e=Z.current,rT(t)?r_(t,e):(e=up(i,r,n),t.stateNode=e,ow(t))}return ok(t),null;case 5:if(es(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ow(t);else{if(!r){if(null===t.stateNode)throw Error(u(166));return ok(t),null}if(e=Z.current,rT(t))r_(t,e);else{switch(i=ue(et.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"==typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"==typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[ez]=t,e[eB]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(t.stateNode=e,l8(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break;case"img":e=!0;break;default:e=!1}e&&ow(t)}}return ok(t),t.flags&=-0x1000001,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&ow(t);else{if("string"!=typeof r&&null===t.stateNode)throw Error(u(166));if(e=et.current,rT(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=rg))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[ez]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||l3(e.nodeValue,n)))||rS(t)}else(e=ue(e).createTextNode(r))[ez]=t,t.stateNode=e}return ok(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=rT(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(u(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(u(317));i[ez]=t}else rx(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ok(t),i=!1}else null!==rb&&(o9(rb),rb=null),i=!0;if(!i){if(256&t.flags)return r1(t),t;return r1(t),null}}if(r1(t),0!=(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){r=t.child,i=null,null!==r.alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var a=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),oS(t,t.updateQueue),ok(t),null;case 4:return ei(),null===e&&lK(t.stateNode.containerInfo),ok(t),null;case 10:return sf(t.type),ok(t),null;case 19:if(J(r2),null===(i=t.memoizedState))return ok(t),null;if(r=0!=(128&t.flags),null===(a=i.rendering)){if(r)o_(i,!1);else{if(0!==oF||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=r3(e))){for(t.flags|=128,o_(i,!1),e=a.updateQueue,t.updateQueue=e,oS(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)op(n,e),n=n.sibling;return X(r2,1&r2.current|2),t.child}e=e.sibling}null!==i.tail&&ef()>oG&&(t.flags|=128,r=!0,o_(i,!1),t.lanes=4194304)}}else{if(!r){if(null!==(e=r3(a))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,oS(t,e),o_(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate&&!rv)return ok(t),null}else 2*ef()-i.renderingStartTime>oG&&0x20000000!==n&&(t.flags|=128,r=!0,o_(i,!1),t.lanes=4194304)}i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=i.last)?e.sibling=a:t.child=a,i.last=a)}if(null!==i.tail)return t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ef(),t.sibling=null,e=r2.current,X(r2,r?1&e|2:1&e),t;return ok(t),null;case 22:case 23:return r1(t),rQ(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!=(0x20000000&n)&&0==(128&t.flags)&&(ok(t),6&t.subtreeFlags&&(t.flags|=8192)):ok(t),null!==(n=t.updateQueue)&&oS(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&J(io),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),sf(r8),ok(t),null;case 25:return null}throw Error(u(156,t.tag))}(t.alternate,t,oU);if(null!==n){oA=n;return}if(null!==(t=t.sibling)){oA=t;return}oA=t=e}while(null!==t)0===oF&&(oF=5)}function ld(e,t){do{var n=function(e,t){switch(rm(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return sf(r8),ei(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return es(t),null;case 13:if(r1(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(u(340));rx()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return J(r2),null;case 4:return ei(),null;case 10:return sf(t.type),null;case 22:case 23:return r1(t),rQ(),null!==e&&J(io),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return sf(r8),null;default:return null}}(e.alternate,e);if(null!==n){n.flags&=32767,oA=n;return}if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling)){oA=e;return}oA=e=n}while(null!==e)oF=6,oA=null}function lp(e,t,n,r,i,a,s,o,l,c){var h=M.T,f=W.p;try{W.p=2,M.T=null,function(e,t,n,r,i,a,s,o){do lg();while(null!==oX)if(0!=(6&oC))throw Error(u(327));var l,c=e.finishedWork;if(r=e.finishedLanes,null!==c){if(e.finishedWork=null,e.finishedLanes=0,c===e.current)throw Error(u(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var h=c.lanes|c.childLanes;if(function(e,t,n,r,i,a){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,u=e.hiddenUpdates;for(n=s&~n;0<n;){var c=31-ek(n),h=1<<c;o[c]=0,l[c]=-1;var f=u[c];if(null!==f)for(u[c]=null,c=0;c<f.length;c++){var d=f[c];null!==d&&(d.lane&=-0x20000001)}n&=~h}0!==r&&eM(e,r,0),0!==a&&0===i&&0!==e.tag&&(e.suspendedLanes|=a&~(s&~t))}(e,r,h|=n3,a,s,o),e===oN&&(oA=oN=null,oR=0),0==(10256&c.subtreeFlags)&&0==(10256&c.flags)||oJ||(oJ=!0,o0=h,o1=n,l=function(){return lg(!0),null},el(eg,l)),n=0!=(15990&c.flags),0!=(15990&c.subtreeFlags)||n?(n=M.T,M.T=null,a=W.p,W.p=2,s=oC,oC|=4,function(e,t){if(e=e.containerInfo,l9=uG,nO(e=nP(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i,a=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(e){n=null;break e}var o=0,l=-1,c=-1,h=0,f=0,d=e,p=null;t:for(;;){for(;d!==n||0!==a&&3!==d.nodeType||(l=o+a),d!==s||0!==r&&3!==d.nodeType||(c=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(i=d.firstChild);)p=d,d=i;for(;;){if(d===e)break t;if(p===n&&++h===a&&(l=o),p===s&&++f===r&&(c=o),null!==(i=d.nextSibling))break;p=(d=p).parentNode}d=i}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(l7={focusedElem:e,selectionRange:n},uG=!1,sG=t;null!==sG;)if(e=(t=sG).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,sG=e;else for(;null!==sG;){switch(s=(t=sG).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!=(1024&e)&&null!==s){e=void 0,n=t,a=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var m=aM(n.type,a,n.elementType===n.type);e=r.getSnapshotBeforeUpdate(m,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(e){lv(n,n.return,e)}}break;case 3:if(0!=(1024&e)){if(9===(n=(e=t.stateNode.containerInfo).nodeType))uh(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":uh(e);break;default:e.textContent=""}}break;default:if(0!=(1024&e))throw Error(u(163))}if(null!==(e=t.sibling)){e.return=t.return,sG=e;break}sG=t.return}m=sQ,sQ=!1}(e,c),s6(c,e),function(e,t){var n=nP(t);t=e.focusedElem;var r=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&function e(t,n){return!!t&&!!n&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(t.ownerDocument.documentElement,t)){if(null!==r&&nO(t)){if(e=r.start,void 0===(n=r.end)&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if((n=(e=t.ownerDocument||document)&&e.defaultView||window).getSelection){n=n.getSelection();var i=t.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!n.extend&&a>r&&(i=r,r=a,a=i),i=nR(t,a);var s=nR(t,r);i&&s&&(1!==n.rangeCount||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==s.node||n.focusOffset!==s.offset)&&((e=e.createRange()).setStart(i.node,i.offset),n.removeAllRanges(),a>r?(n.addRange(e),n.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)1===n.nodeType&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for("function"==typeof t.focus&&t.focus(),t=0;t<e.length;t++)(n=e[t]).element.scrollLeft=n.left,n.element.scrollTop=n.top}}(l7,e.containerInfo),uG=!!l9,l7=l9=null,e.current=c,sY(e,c.alternate,c),eh(),oC=s,W.p=a,M.T=n):e.current=c,oJ?(oJ=!1,oX=e,oZ=r):lm(e,h),0===(h=e.pendingLanes)&&(oY=null),function(e){if(eS&&"function"==typeof eS.onCommitFiberRoot)try{eS.onCommitFiberRoot(eE,e,void 0,128==(128&e.current.flags))}catch(e){}}(c.stateNode,i),lA(e),null!==t)for(i=e.onRecoverableError,c=0;c<t.length;c++)i((h=t[c]).value,{componentStack:h.stack});0!=(3&oZ)&&lg(),h=e.pendingLanes,0!=(4194218&r)&&0!=(42&h)?e===o3?o2++:(o2=0,o3=e):o2=0,lR(0,!1)}}(e,t,n,r,f,i,a,s,o,l,c)}finally{M.T=h,W.p=f}}function lm(e,t){0==(e.pooledCacheLanes&=t)&&null!=(t=e.pooledCache)&&(e.pooledCache=null,r7(t))}function lg(){if(null!==oX){var e=oX,t=o0;o0=0;var n=eF(oZ),r=M.T,i=W.p;try{if(W.p=32>n?32:n,M.T=null,null===oX)var a=!1;else{n=o1,o1=null;var s=oX,o=oZ;if(oX=null,oZ=0,0!=(6&oC))throw Error(u(331));var l=oC;if(oC|=4,ol(s.current),ot(s,s.current,o,n),oC=l,lR(0,!1),eS&&"function"==typeof eS.onPostCommitFiberRoot)try{eS.onPostCommitFiberRoot(eE,s)}catch(e){}a=!0}return a}finally{W.p=i,M.T=r,lm(e,t)}}return!1}function ly(e,t,n){t=rn(n,t),t=a$(e.stateNode,t,2),null!==(e=sT(e,t,2))&&(eD(e,2),lA(e))}function lv(e,t,n){if(3===e.tag)ly(e,e,n);else for(;null!==t;){if(3===t.tag){ly(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===oY||!oY.has(r))){e=rn(n,e),null!==(r=sT(t,n=aq(2),2))&&(aH(n,r,t,e),eD(r,2),lA(r));break}}t=t.return}}function lb(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new oI;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(oM=!0,i.add(n),e=lw.bind(null,e,t,n),t.then(e,e))}function lw(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,oN===e&&(oR&n)===n&&(4===oF||3===oF&&(0x3c00000&oR)===oR&&300>ef()-oK?0==(2&oC)&&lr(e,0):oz|=n,o$===oR&&(o$=0)),lA(e)}function lE(e,t){0===t&&(t=eO()),null!==(e=n8(e,t))&&(eD(e,t),lA(e))}function lS(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),lE(e,n)}function l_(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(u(314))}null!==r&&r.delete(t),lE(e,n)}var lk=null,lT=null,lx=!1,lI=!1,lC=!1,lN=0;function lA(e){var t;e!==lT&&null===e.next&&(null===lT?lk=lT=e:lT=lT.next=e),lI=!0,lx||(lx=!0,t=lP,ul(function(){0!=(6&oC)?el(ep,t):t()}))}function lR(e,t){if(!lC&&lI){lC=!0;do for(var n=!1,r=lk;null!==r;){if(!t){if(0!==e){var i=r.pendingLanes;if(0===i)var a=0;else{var s=r.suspendedLanes,o=r.pingedLanes;a=0xc000055&(a=(1<<31-ek(42|e)+1)-1&(i&~(s&~o)))?0xc000055&a|1:a?2|a:0}0!==a&&(n=!0,lD(r,a))}else a=oR,0==(3&(a=eA(r,r===oN?a:0)))||eR(r,a)||(n=!0,lD(r,a))}r=r.next}while(n)lC=!1}}function lP(){lI=lx=!1;var e,t=0;0!==lN&&(((e=window.event)&&"popstate"===e.type?e===ui||(ui=e,0):(ui=null,1))||(t=lN),lN=0);for(var n=ef(),r=null,i=lk;null!==i;){var a=i.next,s=lO(i,n);0===s?(i.next=null,null===r?lk=a:r.next=a,null===a&&(lT=r)):(r=i,(0!==t||0!=(3&s))&&(lI=!0)),i=a}lR(t,!1)}function lO(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=-0x3c00001&e.pendingLanes;0<a;){var s=31-ek(a),o=1<<s,l=i[s];-1===l?(0==(o&n)||0!=(o&r))&&(i[s]=function(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return -1}}(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}if(t=oN,n=oR,n=eA(e,e===t?n:0),r=e.callbackNode,0===n||e===t&&2===oP||null!==e.cancelPendingCommit)return null!==r&&null!==r&&eu(r),e.callbackNode=null,e.callbackPriority=0;if(0==(3&n)||eR(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&eu(r),eF(n)){case 2:case 8:n=em;break;case 32:default:n=eg;break;case 0x10000000:n=ev}return n=el(n,r=lL.bind(null,e)),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&eu(r),e.callbackPriority=2,e.callbackNode=null,2}function lL(e,t){var n=e.callbackNode;if(lg()&&e.callbackNode!==n)return null;var r=oR;return 0===(r=eA(e,e===oN?r:0))?null:(o8(e,r,t),lO(e,ef()),null!=e.callbackNode&&e.callbackNode===n?lL.bind(null,e):null)}function lD(e,t){if(lg())return null;o8(e,t,!0)}function lM(){return 0===lN&&(lN=eP()),lN}function lU(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:tS(""+e)}function lF(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var lV=0;lV<nZ.length;lV++){var lj=nZ[lV];n0(lj.toLowerCase(),"on"+(lj[0].toUpperCase()+lj.slice(1)))}n0(nH,"onAnimationEnd"),n0(nW,"onAnimationIteration"),n0(nK,"onAnimationStart"),n0("dblclick","onDoubleClick"),n0("focusin","onFocus"),n0("focusout","onBlur"),n0(nG,"onTransitionRun"),n0(nQ,"onTransitionStart"),n0(nY,"onTransitionCancel"),n0(nJ,"onTransitionEnd"),e4("onMouseEnter",["mouseout","mouseover"]),e4("onMouseLeave",["mouseout","mouseover"]),e4("onPointerEnter",["pointerout","pointerover"]),e4("onPointerLeave",["pointerout","pointerover"]),e3("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),e3("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),e3("onBeforeInput",["compositionend","keypress","textInput","paste"]),e3("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),e3("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),e3("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lz="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lz));function l$(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=u;try{a(i)}catch(e){aU(e)}i.currentTarget=null,a=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=u;try{a(i)}catch(e){aU(e)}i.currentTarget=null,a=l}}}}function lq(e,t){var n=t[eq];void 0===n&&(n=t[eq]=new Set);var r=e+"__bubble";n.has(r)||(lG(t,e,2,!1),n.add(r))}function lH(e,t,n){var r=0;t&&(r|=4),lG(n,e,r,t)}var lW="_reactListening"+Math.random().toString(36).slice(2);function lK(e){if(!e[lW]){e[lW]=!0,e1.forEach(function(t){"selectionchange"!==t&&(lB.has(t)||lH(t,!1,e),lH(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[lW]||(t[lW]=!0,lH("selectionchange",!1,t))}}function lG(e,t,n,r){switch(u1(t)){case 2:var i=uQ;break;case 8:i=uY;break;default:i=uJ}n=i.bind(null,t,n,e),i=void 0,tR&&("touchstart"===t||"touchmove"===t||"wheel"===t)&&(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function lQ(e,t,n,r,i){var a=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==o;){if(null===(s=eY(o)))return;if(5===(l=s.tag)||6===l||26===l||27===l){r=a=s;continue e}o=o.parentNode}}r=r.return}tN(function(){var r=a,i=tk(n),s=[];e:{var o=nX.get(e);if(void 0!==o){var l=tH,u=e;switch(e){case"keypress":if(0===tU(n))break e;case"keydown":case"keyup":l=t5;break;case"focusin":u="focus",l=tJ;break;case"focusout":u="blur",l=tJ;break;case"beforeblur":case"afterblur":l=tJ;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=tQ;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=tY;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=t9;break;case nH:case nW:case nK:l=tX;break;case nJ:l=t7;break;case"scroll":case"scrollend":l=tK;break;case"wheel":l=ne;break;case"copy":case"cut":case"paste":l=tZ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=t8;break;case"toggle":case"beforetoggle":l=nt}var c=0!=(4&t),h=!c&&("scroll"===e||"scrollend"===e),f=c?null!==o?o+"Capture":null:o;c=[];for(var d,p=r;null!==p;){var m=p;if(d=m.stateNode,5!==(m=m.tag)&&26!==m&&27!==m||null===d||null===f||null!=(m=tA(p,f))&&c.push(lY(p,m,d)),h)break;p=p.return}0<c.length&&(o=new l(o,u,null,n,i),s.push({event:o,listeners:c}))}}if(0==(7&t)){if(o="mouseover"===e||"pointerover"===e,l="mouseout"===e||"pointerout"===e,!(o&&n!==t_&&(u=n.relatedTarget||n.fromElement)&&(eY(u)||u[e$]))&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(u=n.relatedTarget||n.toElement,l=r,null!==(u=u?eY(u):null)&&(h=B(u),c=u.tag,u!==h||5!==c&&27!==c&&6!==c)&&(u=null)):(l=null,u=r),l!==u)){if(c=tQ,m="onMouseLeave",f="onMouseEnter",p="mouse",("pointerout"===e||"pointerover"===e)&&(c=t8,m="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==l?o:eX(l),d=null==u?o:eX(u),(o=new c(m,p+"leave",l,n,i)).target=h,o.relatedTarget=d,m=null,eY(i)===r&&((c=new c(f,p+"enter",u,n,i)).target=d,c.relatedTarget=h,m=c),h=m,l&&u)t:{for(c=l,f=u,p=0,d=c;d;d=lX(d))p++;for(d=0,m=f;m;m=lX(m))d++;for(;0<p-d;)c=lX(c),p--;for(;0<d-p;)f=lX(f),d--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break t;c=lX(c),f=lX(f)}c=null}else c=null;null!==l&&lZ(s,o,l,c,!1),null!==u&&null!==h&&lZ(s,h,u,c,!0)}e:{if("select"===(l=(o=r?eX(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g,y=nv;else if(nf(o)){if(nb)y=nI;else{y=nT;var v=nk}}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)?y=nx:r&&tb(r.elementType)&&(y=nv);if(y&&(y=y(e,r))){nd(s,y,n,i);break e}v&&v(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&th(o,"number",o.value)}switch(v=r?eX(r):window,e){case"focusin":(nf(v)||"true"===v.contentEditable)&&(nD=v,nM=r,nU=null);break;case"focusout":nU=nM=nD=null;break;case"mousedown":nF=!0;break;case"contextmenu":case"mouseup":case"dragend":nF=!1,nV(s,n,i);break;case"selectionchange":if(nL)break;case"keydown":case"keyup":nV(s,n,i)}if(nr)t:{switch(e){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else nc?nl(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(ns&&"ko"!==n.locale&&(nc||"onCompositionStart"!==b?"onCompositionEnd"===b&&nc&&(g=tM()):(tL="value"in(tO=i)?tO.value:tO.textContent,nc=!0)),0<(v=lJ(r,b)).length&&(b=new t0(b,e,null,n,i),s.push({event:b,listeners:v}),g?b.data=g:null!==(g=nu(n))&&(b.data=g))),(g=na?function(e,t){switch(e){case"compositionend":return nu(t);case"keypress":if(32!==t.which)return null;return no=!0," ";case"textInput":return" "===(e=t.data)&&no?null:e;default:return null}}(e,n):function(e,t){if(nc)return"compositionend"===e||!nr&&nl(e,t)?(e=tM(),tD=tL=tO=null,nc=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ns&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(b=lJ(r,"onBeforeInput")).length&&(v=new t0("onBeforeInput","beforeinput",null,n,i),s.push({event:v,listeners:b}),v.data=g),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var a=lU((i[eB]||null).action),s=r.submitter;s&&null!==(t=(t=s[eB]||null)?lU(t.formAction):s.getAttribute("formAction"))&&(a=t,s=null);var o=new tH("action","action",null,r,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==lN){var e=s?lF(i,s):new FormData(i);ap(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else"function"==typeof a&&(o.preventDefault(),ap(n,{pending:!0,data:e=s?lF(i,s):new FormData(i),method:i.method,action:a},a,e))},currentTarget:i}]})}}(s,e,r,n,i)}l$(s,t)})}function lY(e,t,n){return{instance:e,listener:t,currentTarget:n}}function lJ(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5!==(i=i.tag)&&26!==i&&27!==i||null===a||(null!=(i=tA(e,n))&&r.unshift(lY(e,i,a)),null!=(i=tA(e,t))&&r.push(lY(e,i,a))),e=e.return}return r}function lX(e){if(null===e)return null;do e=e.return;while(e&&5!==e.tag&&27!==e.tag)return e||null}function lZ(e,t,n,r,i){for(var a=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===u||(l=u,i?null!=(u=tA(n,a))&&s.unshift(lY(n,u,l)):i||null!=(u=tA(n,a))&&s.push(lY(n,u,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var l0=/\r\n?/g,l1=/\u0000|\uFFFD/g;function l2(e){return("string"==typeof e?e:""+e).replace(l0,"\n").replace(l1,"")}function l3(e,t){return t=l2(t),l2(e)===t}function l4(){}function l6(e,t,n,r,i,a){switch(n){case"children":"string"==typeof r?"body"===t||"textarea"===t&&""===r||tm(e,r):("number"==typeof r||"bigint"==typeof r)&&"body"!==t&&tm(e,""+r);break;case"className":te(e,"class",r);break;case"tabIndex":te(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":te(e,n,r);break;case"style":tv(e,r,a);break;case"data":if("object"!==t){te(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)||null==r||"function"==typeof r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=tS(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"==typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof a&&("formAction"===n?("input"!==t&&l6(e,t,"name",i.name,i,null),l6(e,t,"formEncType",i.formEncType,i,null),l6(e,t,"formMethod",i.formMethod,i,null),l6(e,t,"formTarget",i.formTarget,i,null)):(l6(e,t,"encType",i.encType,i,null),l6(e,t,"method",i.method,i,null),l6(e,t,"target",i.target,i,null))),null==r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=tS(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=l4);break;case"onScroll":null!=r&&lq("scroll",e);break;case"onScrollEnd":null!=r&&lq("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(u(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(u(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"muted":e.muted=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":case"innerText":case"textContent":break;case"xlinkHref":if(null==r||"function"==typeof r||"boolean"==typeof r||"symbol"==typeof r){e.removeAttribute("xlink:href");break}n=tS(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!=typeof r&&"symbol"!=typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"==typeof r||"symbol"==typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":lq("beforetoggle",e),lq("toggle",e),e7(e,"popover",r);break;case"xlinkActuate":tt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":tt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":tt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":tt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":tt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":tt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":tt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":tt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":tt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":e7(e,"is",r);break;default:2<n.length&&("o"===n[0]||"O"===n[0])&&("n"===n[1]||"N"===n[1])||e7(e,n=tw.get(n)||n,r)}}function l5(e,t,n,r,i,a){switch(n){case"style":tv(e,r,a);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(u(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(u(60));e.innerHTML=n}}break;case"children":"string"==typeof r?tm(e,r):("number"==typeof r||"bigint"==typeof r)&&tm(e,""+r);break;case"onScroll":null!=r&&lq("scroll",e);break;case"onScrollEnd":null!=r&&lq("scrollend",e);break;case"onClick":null!=r&&(e.onclick=l4);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:if(!e2.hasOwnProperty(n))e:{if("o"===n[0]&&"n"===n[1]&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"==typeof(a=null!=(a=e[eB]||null)?a[n]:null)&&e.removeEventListener(t,a,i),"function"==typeof r)){"function"!=typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i);break e}n in e?e[n]=r:!0===r?e.setAttribute(n,""):e7(e,n,r)}}}function l8(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":lq("error",e),lq("load",e);var r,i=!1,a=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":i=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:l6(e,t,r,s,n,null)}}a&&l6(e,t,"srcSet",n.srcSet,n,null),i&&l6(e,t,"src",n.src,n,null);return;case"input":lq("invalid",e);var o=r=s=a=null,l=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(null!=h)switch(i){case"name":a=h;break;case"type":s=h;break;case"checked":l=h;break;case"defaultChecked":c=h;break;case"value":r=h;break;case"defaultValue":o=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(u(137,t));break;default:l6(e,t,i,h,n,null)}}tc(e,r,o,l,c,s,a,!1),ti(e);return;case"select":for(a in lq("invalid",e),i=s=r=null,n)if(n.hasOwnProperty(a)&&null!=(o=n[a]))switch(a){case"value":r=o;break;case"defaultValue":s=o;break;case"multiple":i=o;default:l6(e,t,a,o,n,null)}t=r,n=s,e.multiple=!!i,null!=t?tf(e,!!i,t,!1):null!=n&&tf(e,!!i,n,!0);return;case"textarea":for(s in lq("invalid",e),r=a=i=null,n)if(n.hasOwnProperty(s)&&null!=(o=n[s]))switch(s){case"value":i=o;break;case"defaultValue":a=o;break;case"children":r=o;break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(u(91));break;default:l6(e,t,s,o,n,null)}tp(e,i,a,r),ti(e);return;case"option":for(l in n)n.hasOwnProperty(l)&&null!=(i=n[l])&&("selected"===l?e.selected=i&&"function"!=typeof i&&"symbol"!=typeof i:l6(e,t,l,i,n,null));return;case"dialog":lq("cancel",e),lq("close",e);break;case"iframe":case"object":lq("load",e);break;case"video":case"audio":for(i=0;i<lz.length;i++)lq(lz[i],e);break;case"image":lq("error",e),lq("load",e);break;case"details":lq("toggle",e);break;case"embed":case"source":case"link":lq("error",e),lq("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:l6(e,t,c,i,n,null)}return;default:if(tb(t)){for(h in n)n.hasOwnProperty(h)&&void 0!==(i=n[h])&&l5(e,t,h,i,n,void 0);return}}for(o in n)n.hasOwnProperty(o)&&null!=(i=n[o])&&l6(e,t,o,i,n,null)}var l9=null,l7=null;function ue(e){return 9===e.nodeType?e:e.ownerDocument}function ut(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function un(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function ur(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ui=null,ua="function"==typeof setTimeout?setTimeout:void 0,us="function"==typeof clearTimeout?clearTimeout:void 0,uo="function"==typeof Promise?Promise:void 0,ul="function"==typeof queueMicrotask?queueMicrotask:void 0!==uo?function(e){return uo.resolve(null).then(e).catch(uu)}:ua;function uu(e){setTimeout(function(){throw e})}function uc(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType){if("/$"===(n=i.data)){if(0===r){e.removeChild(i),cu(t);return}r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++}n=i}while(n)cu(t)}function uh(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":uh(n),eQ(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function uf(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}function ud(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function up(e,t,n){switch(t=ue(n),e){case"html":if(!(e=t.documentElement))throw Error(u(452));return e;case"head":if(!(e=t.head))throw Error(u(453));return e;case"body":if(!(e=t.body))throw Error(u(454));return e;default:throw Error(u(451))}}var um=new Map,ug=new Set;function uy(e){return"function"==typeof e.getRootNode?e.getRootNode():e.ownerDocument}var uv=W.d;W.d={f:function(){var e=uv.f(),t=lt();return e||t},r:function(e){var t=eJ(e);null!==t&&5===t.tag&&"form"===t.type?ag(t):uv.r(e)},D:function(e){uv.D(e),uw("dns-prefetch",e,null)},C:function(e,t){uv.C(e,t),uw("preconnect",e,t)},L:function(e,t,n){if(uv.L(e,t,n),ub&&e&&t){var r='link[rel="preload"][as="'+tl(t)+'"]';"image"===t&&n&&n.imageSrcSet?(r+='[imagesrcset="'+tl(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(r+='[imagesizes="'+tl(n.imageSizes)+'"]')):r+='[href="'+tl(e)+'"]';var i=r;switch(t){case"style":i=uS(e);break;case"script":i=uT(e)}um.has(i)||(e=U({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),um.set(i,e),null!==ub.querySelector(r)||"style"===t&&ub.querySelector(u_(i))||"script"===t&&ub.querySelector(ux(i))||(l8(t=ub.createElement("link"),"link",e),e0(t),ub.head.appendChild(t)))}},m:function(e,t){if(uv.m(e,t),ub&&e){var n=t&&"string"==typeof t.as?t.as:"script",r='link[rel="modulepreload"][as="'+tl(n)+'"][href="'+tl(e)+'"]',i=r;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=uT(e)}if(!um.has(i)&&(e=U({rel:"modulepreload",href:e},t),um.set(i,e),null===ub.querySelector(r))){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(ub.querySelector(ux(i)))return}l8(n=ub.createElement("link"),"link",e),e0(n),ub.head.appendChild(n)}}},X:function(e,t){if(uv.X(e,t),ub&&e){var n=eZ(ub).hoistableScripts,r=uT(e),i=n.get(r);i||((i=ub.querySelector(ux(r)))||(e=U({src:e,async:!0},t),(t=um.get(r))&&uA(e,t),e0(i=ub.createElement("script")),l8(i,"link",e),ub.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(r,i))}},S:function(e,t,n){if(uv.S(e,t,n),ub&&e){var r=eZ(ub).hoistableStyles,i=uS(e);t=t||"default";var a=r.get(i);if(!a){var s={loading:0,preload:null};if(a=ub.querySelector(u_(i)))s.loading=5;else{e=U({rel:"stylesheet",href:e,"data-precedence":t},n),(n=um.get(i))&&uN(e,n);var o=a=ub.createElement("link");e0(o),l8(o,"link",e),o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),o.addEventListener("load",function(){s.loading|=1}),o.addEventListener("error",function(){s.loading|=2}),s.loading|=4,uC(a,t,ub)}a={type:"stylesheet",instance:a,count:1,state:s},r.set(i,a)}}},M:function(e,t){if(uv.M(e,t),ub&&e){var n=eZ(ub).hoistableScripts,r=uT(e),i=n.get(r);i||((i=ub.querySelector(ux(r)))||(e=U({src:e,async:!0,type:"module"},t),(t=um.get(r))&&uA(e,t),e0(i=ub.createElement("script")),l8(i,"link",e),ub.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(r,i))}}};var ub="undefined"==typeof document?null:document;function uw(e,t,n){if(ub&&"string"==typeof t&&t){var r=tl(t);r='link[rel="'+e+'"][href="'+r+'"]',"string"==typeof n&&(r+='[crossorigin="'+n+'"]'),ug.has(r)||(ug.add(r),e={rel:e,crossOrigin:n,href:t},null===ub.querySelector(r)&&(l8(t=ub.createElement("link"),"link",e),e0(t),ub.head.appendChild(t)))}}function uE(e,t,n,r){var i=(i=et.current)?uy(i):null;if(!i)throw Error(u(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=uS(n.href),(r=(n=eZ(i).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=uS(n.href);var a,s,o,l,c=eZ(i).hoistableStyles,h=c.get(e);if(h||(i=i.ownerDocument||i,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,h),(c=i.querySelector(u_(e)))&&!c._p&&(h.instance=c,h.state.loading=5),um.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},um.set(e,n),c||(a=i,s=e,o=n,l=h.state,a.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=a.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),l8(s,"link",o),e0(s),a.head.appendChild(s))))),t&&null===r)throw Error(u(528,""));return h}if(t&&null!==r)throw Error(u(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=uT(n),(r=(n=eZ(i).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(u(444,e))}}function uS(e){return'href="'+tl(e)+'"'}function u_(e){return'link[rel="stylesheet"]['+e+"]"}function uk(e){return U({},e,{"data-precedence":e.precedence,precedence:null})}function uT(e){return'[src="'+tl(e)+'"]'}function ux(e){return"script[async]"+e}function uI(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+tl(n.href)+'"]');if(r)return t.instance=r,e0(r),r;var i=U({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return e0(r=(e.ownerDocument||e).createElement("style")),l8(r,"style",i),uC(r,n.precedence,e),t.instance=r;case"stylesheet":i=uS(n.href);var a=e.querySelector(u_(i));if(a)return t.state.loading|=4,t.instance=a,e0(a),a;r=uk(n),(i=um.get(i))&&uN(r,i),e0(a=(e.ownerDocument||e).createElement("link"));var s=a;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),l8(a,"link",r),t.state.loading|=4,uC(a,n.precedence,e),t.instance=a;case"script":if(a=uT(n.src),i=e.querySelector(ux(a)))return t.instance=i,e0(i),i;return r=n,(i=um.get(a))&&uA(r=U({},n),i),e0(i=(e=e.ownerDocument||e).createElement("script")),l8(i,"link",r),e.head.appendChild(i),t.instance=i;case"void":return null;default:throw Error(u(443,t.type))}else"stylesheet"===t.type&&0==(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,uC(r,n.precedence,e));return t.instance}function uC(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===t)a=o;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function uN(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function uA(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var uR=null;function uP(e,t,n){if(null===uR){var r=new Map,i=uR=new Map;i.set(n,r)}else(r=(i=uR).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[eG]||a[ez]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var s=a.getAttribute(t)||"";s=e+s;var o=r.get(s);o?o.push(a):r.set(s,[a])}}return r}function uO(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function uL(e){return"stylesheet"!==e.type||0!=(3&e.state.loading)}var uD=null;function uM(){}function uU(){if(this.count--,0===this.count){if(this.stylesheets)uV(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var uF=null;function uV(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,uF=new Map,t.forEach(uj,e),uF=null,uU.call(e))}function uj(e,t){if(!(4&t.state.loading)){var n=uF.get(e);if(n)var r=n.get(null);else{n=new Map,uF.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var s=i[a];("LINK"===s.nodeName||"not all"!==s.getAttribute("media"))&&(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(i=t.instance).getAttribute("data-precedence"),(a=n.get(s)||r)===r&&n.set(null,i),n.set(s,i),this.count++,r=uU.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var uz={$$typeof:b,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function uB(e,t,n,r,i,a,s,o){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=eL(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eL(0),this.hiddenUpdates=eL(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function u$(e,t,n,r,i,a,s,o,l,u,c,h){return e=new uB(e,t,n,s,o,l,u,h),t=1,!0===a&&(t|=24),a=oh(3,null,null,t),e.current=a,a.stateNode=e,t=r9(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},sS(a),e}function uq(e,t,n,r,i,a){var s;i=re,null===r.context?r.context=i:r.pendingContext=i,(r=sk(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=sT(e,r,t))&&(o5(n,e,t),sx(n,e,t))}function uH(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function uW(e,t){uH(e,t),(e=e.alternate)&&uH(e,t)}function uK(e){if(13===e.tag){var t=n8(e,0x4000000);null!==t&&o5(t,e,0x4000000),uW(e,0x4000000)}}var uG=!0;function uQ(e,t,n,r){var i=M.T;M.T=null;var a=W.p;try{W.p=2,uJ(e,t,n,r)}finally{W.p=a,M.T=i}}function uY(e,t,n,r){var i=M.T;M.T=null;var a=W.p;try{W.p=8,uJ(e,t,n,r)}finally{W.p=a,M.T=i}}function uJ(e,t,n,r){if(uG){var i=uX(r);if(null===i)lQ(e,t,r,uZ,n),ce(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return u3=ct(u3,e,t,n,r,i),!0;case"dragenter":return u4=ct(u4,e,t,n,r,i),!0;case"mouseover":return u6=ct(u6,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return u5.set(a,ct(u5.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,u8.set(a,ct(u8.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(ce(e,r),4&t&&-1<u7.indexOf(e)){for(;null!==i;){var a=eJ(i);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var s=eN(a.pendingLanes);if(0!==s){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-ek(s);o.entanglements[1]|=l,s&=~l}lA(a),0==(6&oC)&&(oG=ef()+500,lR(0,!1))}}break;case 13:null!==(o=n8(a,2))&&o5(o,a,2),lt(),uW(a,2)}if(null===(a=uX(r))&&lQ(e,t,r,uZ,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else lQ(e,t,r,null,n)}}function uX(e){return u0(e=tk(e))}var uZ=null;function u0(e){if(uZ=null,null!==(e=eY(e))){var t=B(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=$(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return uZ=e,null}function u1(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ed()){case ep:return 2;case em:return 8;case eg:case ey:return 32;case ev:return 0x10000000;default:return 32}default:return 32}}var u2=!1,u3=null,u4=null,u6=null,u5=new Map,u8=new Map,u9=[],u7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ce(e,t){switch(e){case"focusin":case"focusout":u3=null;break;case"dragenter":case"dragleave":u4=null;break;case"mouseover":case"mouseout":u6=null;break;case"pointerover":case"pointerout":u5.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":u8.delete(t.pointerId)}}function ct(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&null!==(t=eJ(t))&&uK(t)):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i)),e}function cn(e){var t=eY(e.target);if(null!==t){var n=B(t);if(null!==n){if(13===(t=n.tag)){if(null!==(t=$(n))){e.blockedOn=t,function(e,t){var n=W.p;try{return W.p=e,t()}finally{W.p=n}}(e.priority,function(){if(13===n.tag){var e=o4(),t=n8(n,e);null!==t&&o5(t,n,e),uW(n,e)}});return}}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=3===n.tag?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function cr(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=uX(e.nativeEvent);if(null!==n)return null!==(t=eJ(n))&&uK(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);t_=r,n.target.dispatchEvent(r),t_=null,t.shift()}return!0}function ci(e,t,n){cr(e)&&n.delete(t)}function ca(){u2=!1,null!==u3&&cr(u3)&&(u3=null),null!==u4&&cr(u4)&&(u4=null),null!==u6&&cr(u6)&&(u6=null),u5.forEach(ci),u8.forEach(ci)}function cs(e,t){e.blockedOn===t&&(e.blockedOn=null,u2||(u2=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,ca)))}var co=null;function cl(e){co!==e&&(co=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){co===e&&(co=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!=typeof r){if(null===u0(r||n))continue;break}var a=eJ(n);null!==a&&(e.splice(t,3),t-=3,ap(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function cu(e){function t(t){return cs(t,e)}null!==u3&&cs(u3,e),null!==u4&&cs(u4,e),null!==u6&&cs(u6,e),u5.forEach(t),u8.forEach(t);for(var n=0;n<u9.length;n++){var r=u9[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<u9.length&&null===(n=u9[0]).blockedOn;)cn(n),null===n.blockedOn&&u9.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],s=i[eB]||null;if("function"==typeof a)s||cl(n);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(i=a,s=a[eB]||null)o=s.formAction;else if(null!==u0(i))continue}else o=s.action;"function"==typeof o?n[r+1]=o:(n.splice(r,3),r-=3),cl(n)}}}function cc(e){this._internalRoot=e}function ch(e){this._internalRoot=e}ch.prototype.render=cc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(u(409));uq(t.current,o4(),e,t,null,null)},ch.prototype.unmount=cc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;0===e.tag&&lg(),uq(e.current,2,null,e,null,null),lt(),t[e$]=null}},ch.prototype.unstable_scheduleHydration=function(e){if(e){var t=eV();e={blockedOn:null,target:e,priority:t};for(var n=0;n<u9.length&&0!==t&&t<u9[n].priority;n++);u9.splice(n,0,e),0===n&&cn(e)}};var cf=o.version;if("19.0.0"!==cf)throw Error(u(527,cf,"19.0.0"));if(W.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(u(188));throw Error(u(268,e=Object.keys(e).join(",")))}return e=null===(e=null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=B(e)))throw Error(u(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return q(i),e;if(a===r)return q(i),t;a=a.sibling}throw Error(u(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(u(189))}}if(n.alternate!==r)throw Error(u(190))}if(3!==n.tag)throw Error(u(188));return n.stateNode.current===n?e:t}(t))?function e(t){var n=t.tag;if(5===n||26===n||27===n||6===n)return t;for(t=t.child;null!==t;){if(null!==(n=e(t)))return n;t=t.sibling}return null}(e):null)?null:e.stateNode},"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var cd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cd.isDisabled&&cd.supportsFiber)try{eE=cd.inject({bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:M,findFiberByHostInstance:eY,reconcilerVersion:"19.0.0"}),eS=cd}catch(e){}}N=function(e,t){if(!c(e))throw Error(u(299));var n=!1,r="",i=aF,a=aV,s=aj,o=null;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(s=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&(o=t.unstable_transitionCallbacks)),t=u$(e,1,!1,null,null,n,r,i,a,s,o,null),e[e$]=t.current,lK(8===e.nodeType?e.parentNode:e),new cc(t)},A=function(e,t,n){if(!c(e))throw Error(u(299));var r=!1,i="",a=aF,s=aV,o=aj,l=null,h=null;return null!=n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(a=n.onUncaughtError),void 0!==n.onCaughtError&&(s=n.onCaughtError),void 0!==n.onRecoverableError&&(o=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&(l=n.unstable_transitionCallbacks),void 0!==n.formState&&(h=n.formState)),(t=u$(e,1,!0,t,null!=n?n:null,r,i,a,s,o,l,h)).context=re,n=t.current,(i=sk(r=o4())).callback=null,sT(n,i,r),t.current.lanes=r,eD(t,r),lA(t),e[e$]=t.current,lK(e),new ch(t)},P="19.0.0"}),P("fO90s",function(e,t){e.exports=R("1wAW3")}),P("1wAW3",function(e,t){function n(e,t){var n=e.length;for(e.push(t);0<n;){var r=n-1>>>1,i=e[r];if(0<s(i,t))e[r]=t,e[n]=i,n=r;else break}}function i(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],u=o+1,c=e[u];if(0>s(l,n))u<i&&0>s(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[o]=n,r=o);else if(u<i&&0>s(c,n))e[r]=c,e[u]=n,r=u;else break}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(r(e.exports,"unstable_now",()=>o,e=>o=e),r(e.exports,"unstable_IdlePriority",()=>l,e=>l=e),r(e.exports,"unstable_ImmediatePriority",()=>u,e=>u=e),r(e.exports,"unstable_LowPriority",()=>c,e=>c=e),r(e.exports,"unstable_NormalPriority",()=>h,e=>h=e),r(e.exports,"unstable_Profiling",()=>f,e=>f=e),r(e.exports,"unstable_UserBlockingPriority",()=>d,e=>d=e),r(e.exports,"unstable_cancelCallback",()=>p,e=>p=e),r(e.exports,"unstable_continueExecution",()=>m,e=>m=e),r(e.exports,"unstable_forceFrameRate",()=>g,e=>g=e),r(e.exports,"unstable_getCurrentPriorityLevel",()=>y,e=>y=e),r(e.exports,"unstable_getFirstCallbackNode",()=>v,e=>v=e),r(e.exports,"unstable_next",()=>b,e=>b=e),r(e.exports,"unstable_pauseExecution",()=>w,e=>w=e),r(e.exports,"unstable_requestPaint",()=>E,e=>E=e),r(e.exports,"unstable_runWithPriority",()=>S,e=>S=e),r(e.exports,"unstable_scheduleCallback",()=>_,e=>_=e),r(e.exports,"unstable_shouldYield",()=>k,e=>k=e),r(e.exports,"unstable_wrapCallback",()=>T,e=>T=e),o=void 0,"object"==typeof performance&&"function"==typeof performance.now){var o,l,u,c,h,f,d,p,m,g,y,v,b,w,E,S,_,k,T,x,I=performance;o=function(){return I.now()}}else{var C=Date,N=C.now();o=function(){return C.now()-N}}var A=[],R=[],P=1,O=null,L=3,D=!1,M=!1,U=!1,F="function"==typeof setTimeout?setTimeout:null,V="function"==typeof clearTimeout?clearTimeout:null,j="undefined"!=typeof setImmediate?setImmediate:null;function z(e){for(var t=i(R);null!==t;){if(null===t.callback)a(R);else if(t.startTime<=e)a(R),t.sortIndex=t.expirationTime,n(A,t);else break;t=i(R)}}function B(e){if(U=!1,z(e),!M){if(null!==i(A))M=!0,J();else{var t=i(R);null!==t&&X(B,t.startTime-e)}}}var $=!1,q=-1,H=5,W=-1;function K(){return!(o()-W<H)}function G(){if($){var e=o();W=e;var t=!0;try{e:{M=!1,U&&(U=!1,V(q),q=-1),D=!0;var n=L;try{t:{for(z(e),O=i(A);null!==O&&!(O.expirationTime>e&&K());){var r=O.callback;if("function"==typeof r){O.callback=null,L=O.priorityLevel;var s=r(O.expirationTime<=e);if(e=o(),"function"==typeof s){O.callback=s,z(e),t=!0;break t}O===i(A)&&a(A),z(e)}else a(A);O=i(A)}if(null!==O)t=!0;else{var l=i(R);null!==l&&X(B,l.startTime-e),t=!1}}break e}finally{O=null,L=n,D=!1}t=void 0}}finally{t?x():$=!1}}}if("function"==typeof j)x=function(){j(G)};else if("undefined"!=typeof MessageChannel){var Q=new MessageChannel,Y=Q.port2;Q.port1.onmessage=G,x=function(){Y.postMessage(null)}}else x=function(){F(G,0)};function J(){$||($=!0,x())}function X(e,t){q=F(function(){e(o())},t)}l=5,u=1,c=4,h=3,f=null,d=2,p=function(e){e.callback=null},m=function(){M||D||(M=!0,J())},g=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<e?Math.floor(1e3/e):5},y=function(){return L},v=function(){return i(A)},b=function(e){switch(L){case 1:case 2:case 3:var t=3;break;default:t=L}var n=L;L=t;try{return e()}finally{L=n}},w=function(){},E=function(){},S=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=L;L=e;try{return t()}finally{L=n}},_=function(e,t,r){var a=o();switch(r="object"==typeof r&&null!==r&&"number"==typeof(r=r.delay)&&0<r?a+r:a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=0x3fffffff;break;case 4:s=1e4;break;default:s=5e3}return s=r+s,e={id:P++,callback:t,priorityLevel:e,startTime:r,expirationTime:s,sortIndex:-1},r>a?(e.sortIndex=r,n(R,e),null===i(A)&&e===i(R)&&(U?(V(q),q=-1):U=!0,X(B,r-a))):(e.sortIndex=s,n(A,e),M||D||(M=!0,J())),e},k=K,T=function(e){var t=L;return function(){var n=L;L=t;try{return e.apply(this,arguments)}finally{L=n}}}}),P("acw62",function(e,t){e.exports=R("9Qu0I")}),P("1u0KT",function(e,t){(function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}})(),e.exports=R("5R2tS")}),P("5R2tS",function(e,t){r(e.exports,"__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE",()=>n,e=>n=e),r(e.exports,"createPortal",()=>i,e=>i=e),r(e.exports,"flushSync",()=>a,e=>a=e),r(e.exports,"preconnect",()=>s,e=>s=e),r(e.exports,"prefetchDNS",()=>o,e=>o=e),r(e.exports,"preinit",()=>l,e=>l=e),r(e.exports,"preinitModule",()=>u,e=>u=e),r(e.exports,"preload",()=>c,e=>c=e),r(e.exports,"preloadModule",()=>h,e=>h=e),r(e.exports,"requestFormReset",()=>f,e=>f=e),r(e.exports,"unstable_batchedUpdates",()=>d,e=>d=e),r(e.exports,"useFormState",()=>p,e=>p=e),r(e.exports,"useFormStatus",()=>m,e=>m=e),r(e.exports,"version",()=>g,e=>g=e);var n,i,a,s,o,l,u,c,h,f,d,p,m,g,y=R("acw62");function v(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function b(){}var w={d:{f:b,r:function(){throw Error(v(522))},D:b,C:b,L:b,m:b,X:b,S:b,M:b},p:0,findDOMNode:null},E=Symbol.for("react.portal"),S=y.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}n=w,i=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(v(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},a=function(e){var t=S.T,n=w.p;try{if(S.T=null,w.p=2,e)return e()}finally{S.T=t,w.p=n,w.d.f()}},s=function(e,t){"string"==typeof e&&(t=t?"string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:null,w.d.C(e,t))},o=function(e){"string"==typeof e&&w.d.D(e)},l=function(e,t){if("string"==typeof e&&t&&"string"==typeof t.as){var n=t.as,r=_(n,t.crossOrigin),i="string"==typeof t.integrity?t.integrity:void 0,a="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?w.d.S(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):"script"===n&&w.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},u=function(e,t){if("string"==typeof e){if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=_(t.as,t.crossOrigin);w.d.M(e,{crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&w.d.M(e)}},c=function(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var n=t.as,r=_(n,t.crossOrigin);w.d.L(e,n,{crossOrigin:r,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0,media:"string"==typeof t.media?t.media:void 0})}},h=function(e,t){if("string"==typeof e){if(t){var n=_(t.as,t.crossOrigin);w.d.m(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else w.d.m(e)}},f=function(e){w.d.r(e)},d=function(e,t){return e(t)},p=function(e,t,n){return S.H.useFormState(e,t,n)},m=function(){return S.H.useHostTransitionStatus()},g="19.0.0"});var O={};O=R("8rWe0");var L=R("acw62"),D={};!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),D=R("iWoMt");/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var L=R("acw62"),M={};Object.defineProperty(M,"__esModule",{value:!0}),M.encode=M.decode=void 0;var U={};Object.defineProperty(U,"__esModule",{value:!0}),U.flatten=void 0;var F={};function V(e){let{indices:t}=this,n=t.get(e);if(n)return[n];if(void 0===e)return F.UNDEFINED;if(null===e)return F.NULL;if(Number.isNaN(e))return F.NAN;if(e===Number.POSITIVE_INFINITY)return F.POSITIVE_INFINITY;if(e===Number.NEGATIVE_INFINITY)return F.NEGATIVE_INFINITY;if(0===e&&1/e<0)return F.NEGATIVE_ZERO;let r=this.index++;return t.set(e,r),j.call(this,e,r),r}function j(e,t){let{deferred:n,plugins:r,postPlugins:i}=this,a=this.stringified,s=[[e,t]];for(;s.length>0;){let[e,t]=s.pop(),o=e=>Object.keys(e).map(t=>`"_${V.call(this,t)}":${V.call(this,e[t])}`).join(","),l=null;switch(typeof e){case"boolean":case"number":case"string":a[t]=JSON.stringify(e);break;case"bigint":a[t]=`["${F.TYPE_BIGINT}","${e}"]`;break;case"symbol":{let n=Symbol.keyFor(e);n?a[t]=`["${F.TYPE_SYMBOL}",${JSON.stringify(n)}]`:l=Error("Cannot encode symbol unless created with Symbol.for()");break}case"object":{if(!e){a[t]=`${F.NULL}`;break}let i=Array.isArray(e),s=!1;if(!i&&r)for(let n of r){let r=n(e);if(Array.isArray(r)){s=!0;let[e,...n]=r;a[t]=`[${JSON.stringify(e)}`,n.length>0&&(a[t]+=`,${n.map(e=>V.call(this,e)).join(",")}`),a[t]+="]";break}}if(!s){let r=i?"[":"{";if(i){for(let t=0;t<e.length;t++)r+=(t?",":"")+(t in e?V.call(this,e[t]):F.HOLE);a[t]=`${r}]`}else e instanceof Date?a[t]=`["${F.TYPE_DATE}",${e.getTime()}]`:e instanceof URL?a[t]=`["${F.TYPE_URL}",${JSON.stringify(e.href)}]`:e instanceof RegExp?a[t]=`["${F.TYPE_REGEXP}",${JSON.stringify(e.source)},${JSON.stringify(e.flags)}]`:e instanceof Set?e.size>0?a[t]=`["${F.TYPE_SET}",${[...e].map(e=>V.call(this,e)).join(",")}]`:a[t]=`["${F.TYPE_SET}"]`:e instanceof Map?e.size>0?a[t]=`["${F.TYPE_MAP}",${[...e].flatMap(([e,t])=>[V.call(this,e),V.call(this,t)]).join(",")}]`:a[t]=`["${F.TYPE_MAP}"]`:e instanceof Promise?(a[t]=`["${F.TYPE_PROMISE}",${t}]`,n[t]=e):e instanceof Error?(a[t]=`["${F.TYPE_ERROR}",${JSON.stringify(e.message)}`,"Error"!==e.name&&(a[t]+=`,${JSON.stringify(e.name)}`),a[t]+="]"):null===Object.getPrototypeOf(e)?a[t]=`["${F.TYPE_NULL_OBJECT}",{${o(e)}}]`:function(e){let t=Object.getPrototypeOf(e);return t===Object.prototype||null===t||Object.getOwnPropertyNames(t).sort().join("\0")===z}(e)?a[t]=`{${o(e)}}`:l=Error("Cannot encode object with prototype")}break}default:{let n=Array.isArray(e),i=!1;if(!n&&r)for(let n of r){let r=n(e);if(Array.isArray(r)){i=!0;let[e,...n]=r;a[t]=`[${JSON.stringify(e)}`,n.length>0&&(a[t]+=`,${n.map(e=>V.call(this,e)).join(",")}`),a[t]+="]";break}}i||(l=Error("Cannot encode function or unexpected type"))}}if(l){let n=!1;if(i)for(let r of i){let i=r(e);if(Array.isArray(i)){n=!0;let[e,...r]=i;a[t]=`[${JSON.stringify(e)}`,r.length>0&&(a[t]+=`,${r.map(e=>V.call(this,e)).join(",")}`),a[t]+="]";break}}if(!n)throw l}}}Object.defineProperty(F,"__esModule",{value:!0}),F.createLineSplittingTransform=F.Deferred=F.TYPE_PREVIOUS_RESOLVED=F.TYPE_URL=F.TYPE_SYMBOL=F.TYPE_SET=F.TYPE_REGEXP=F.TYPE_PROMISE=F.TYPE_NULL_OBJECT=F.TYPE_MAP=F.TYPE_ERROR=F.TYPE_DATE=F.TYPE_BIGINT=F.UNDEFINED=F.POSITIVE_INFINITY=F.NULL=F.NEGATIVE_ZERO=F.NEGATIVE_INFINITY=F.NAN=F.HOLE=void 0,F.HOLE=-1,F.NAN=-2,F.NEGATIVE_INFINITY=-3,F.NEGATIVE_ZERO=-4,F.NULL=-5,F.POSITIVE_INFINITY=-6,F.UNDEFINED=-7,F.TYPE_BIGINT="B",F.TYPE_DATE="D",F.TYPE_ERROR="E",F.TYPE_MAP="M",F.TYPE_NULL_OBJECT="N",F.TYPE_PROMISE="P",F.TYPE_REGEXP="R",F.TYPE_SET="S",F.TYPE_SYMBOL="Y",F.TYPE_URL="U",F.TYPE_PREVIOUS_RESOLVED="Z",F.Deferred=class{promise;resolve;reject;constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}},F.createLineSplittingTransform=function(){let e=new TextDecoder,t="";return new TransformStream({transform(n,r){let i=e.decode(n,{stream:!0}),a=(t+i).split("\n");for(let e of(t=a.pop()||"",a))r.enqueue(e)},flush(e){t&&e.enqueue(t)}})},U.flatten=V;const z=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var B={};Object.defineProperty(B,"__esModule",{value:!0}),B.unflatten=void 0;const $="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:void 0;function q(e){let t;let{hydrated:n,values:r,deferred:i,plugins:a}=this,s=[[e,e=>{t=e}]],o=[];for(;s.length>0;){let[e,t]=s.pop();switch(e){case F.UNDEFINED:t(void 0);continue;case F.NULL:t(null);continue;case F.NAN:t(NaN);continue;case F.POSITIVE_INFINITY:t(1/0);continue;case F.NEGATIVE_INFINITY:t(-1/0);continue;case F.NEGATIVE_ZERO:t(-0);continue}if(n[e]){t(n[e]);continue}let l=r[e];if(!l||"object"!=typeof l){n[e]=l,t(l);continue}if(Array.isArray(l)){if("string"==typeof l[0]){let[r,u,c]=l;switch(r){case F.TYPE_DATE:t(n[e]=new Date(u));continue;case F.TYPE_URL:t(n[e]=new URL(u));continue;case F.TYPE_BIGINT:t(n[e]=BigInt(u));continue;case F.TYPE_REGEXP:t(n[e]=new RegExp(u,c));continue;case F.TYPE_SYMBOL:t(n[e]=Symbol.for(u));continue;case F.TYPE_SET:let h=new Set;n[e]=h;for(let e=1;e<l.length;e++)s.push([l[e],e=>{h.add(e)}]);t(h);continue;case F.TYPE_MAP:let f=new Map;n[e]=f;for(let e=1;e<l.length;e+=2){let t=[];s.push([l[e+1],e=>{t[1]=e}]),s.push([l[e],e=>{t[0]=e}]),o.push(()=>{f.set(t[0],t[1])})}t(f);continue;case F.TYPE_NULL_OBJECT:let d=Object.create(null);for(let t of(n[e]=d,Object.keys(u).reverse())){let e=[];s.push([u[t],t=>{e[1]=t}]),s.push([Number(t.slice(1)),t=>{e[0]=t}]),o.push(()=>{d[e[0]]=e[1]})}t(d);continue;case F.TYPE_PROMISE:if(n[u])t(n[e]=n[u]);else{let r=new F.Deferred;i[u]=r,t(n[e]=r.promise)}continue;case F.TYPE_ERROR:let[,p,m]=l,g=m&&$&&$[m]?new $[m](p):Error(p);n[e]=g,t(g);continue;case F.TYPE_PREVIOUS_RESOLVED:t(n[e]=n[u]);continue;default:if(Array.isArray(a)){let r=[],i=l.slice(1);for(let e=0;e<i.length;e++){let t=i[e];s.push([t,t=>{r[e]=t}])}o.push(()=>{for(let i of a){let a=i(l[0],...r);if(a){t(n[e]=a.value);return}}throw SyntaxError()});continue}throw SyntaxError()}}else{let r=[];n[e]=r;for(let e=0;e<l.length;e++){let t=l[e];t!==F.HOLE&&s.push([t,t=>{r[e]=t}])}t(r);continue}}else{let r={};for(let t of(n[e]=r,Object.keys(l).reverse())){let e=[];s.push([l[t],t=>{e[1]=t}]),s.push([Number(t.slice(1)),t=>{e[0]=t}]),o.push(()=>{r[e[0]]=e[1]})}t(r);continue}}for(;o.length>0;)o.pop()();return t}async function H(e,t){let{plugins:n}=t??{},r=new F.Deferred,i=e.pipeThrough((0,F.createLineSplittingTransform)()).getReader(),a={values:[],hydrated:[],deferred:{},plugins:n},s=await W.call(a,i),o=r.promise;return s.done?r.resolve():o=K.call(a,i).then(r.resolve).catch(e=>{for(let t of Object.values(a.deferred))t.reject(e);r.reject(e)}),{done:o.then(()=>i.closed),value:s.value}}async function W(e){let t;let n=await e.read();if(!n.value)throw SyntaxError();try{t=JSON.parse(n.value)}catch(e){throw SyntaxError()}return{done:n.done,value:B.unflatten.call(this,t)}}async function K(e){let t=await e.read();for(;!t.done;){if(!t.value)continue;let n=t.value;switch(n[0]){case F.TYPE_PROMISE:{let e;let t=n.indexOf(":"),r=Number(n.slice(1,t)),i=this.deferred[r];if(!i)throw Error(`Deferred ID ${r} not found in stream`);let a=n.slice(t+1);try{e=JSON.parse(a)}catch(e){throw SyntaxError()}let s=B.unflatten.call(this,e);i.resolve(s);break}case F.TYPE_ERROR:{let e;let t=n.indexOf(":"),r=Number(n.slice(1,t)),i=this.deferred[r];if(!i)throw Error(`Deferred ID ${r} not found in stream`);let a=n.slice(t+1);try{e=JSON.parse(a)}catch(e){throw SyntaxError()}let s=B.unflatten.call(this,e);i.reject(s);break}default:throw SyntaxError()}t=await e.read()}}B.unflatten=function(e){let{hydrated:t,values:n}=this;if("number"==typeof e)return q.call(this,e);if(!Array.isArray(e)||!e.length)throw SyntaxError();let r=n.length;for(let t of e)n.push(t);return t.length=n.length,q.call(this,r)},M.decode=H,M.encode=function(e,t){let{plugins:n,postPlugins:r,signal:i}=t??{},a={deferred:{},index:0,indices:new Map,stringified:[],plugins:n,postPlugins:r,signal:i},s=new TextEncoder,o=0;return new ReadableStream({async start(t){let n=U.flatten.call(a,e);if(Array.isArray(n))throw Error("This should never happen");n<0?t.enqueue(s.encode(`${n}
`)):(t.enqueue(s.encode(`[${a.stringified.join(",")}]
`)),o=a.stringified.length-1);let r=new WeakSet;for(;Object.keys(a.deferred).length>0;){for(let[e,n]of Object.entries(a.deferred))r.has(n)||r.add(a.deferred[Number(e)]=(function(e,t){if(!t)return e;if(t.aborted)return Promise.reject(t.reason||Error("Signal was aborted."));let n=new Promise((n,r)=>{t.addEventListener("abort",e=>{r(t.reason||Error("Signal was aborted."))}),e.then(n).catch(r)});return n.catch(()=>{}),Promise.race([n,e])})(n,a.signal).then(n=>{let r=U.flatten.call(a,n);if(Array.isArray(r))t.enqueue(s.encode(`${F.TYPE_PROMISE}${e}:[["${F.TYPE_PREVIOUS_RESOLVED}",${r[0]}]]
`)),a.index++,o++;else if(r<0)t.enqueue(s.encode(`${F.TYPE_PROMISE}${e}:${r}
`));else{let n=a.stringified.slice(o+1).join(",");t.enqueue(s.encode(`${F.TYPE_PROMISE}${e}:[${n}]
`)),o=a.stringified.length-1}},n=>{n&&"object"==typeof n&&n instanceof Error||(n=Error("An unknown error occurred"));let r=U.flatten.call(a,n);if(Array.isArray(r))t.enqueue(s.encode(`${F.TYPE_ERROR}${e}:[["${F.TYPE_PREVIOUS_RESOLVED}",${r[0]}]]
`)),a.index++,o++;else if(r<0)t.enqueue(s.encode(`${F.TYPE_ERROR}${e}:${r}
`));else{let n=a.stringified.slice(o+1).join(",");t.enqueue(s.encode(`${F.TYPE_ERROR}${e}:[${n}]
`)),o=a.stringified.length-1}}).finally(()=>{delete a.deferred[Number(e)]}));await Promise.race(Object.values(a.deferred))}await Promise.all(Object.values(a.deferred)),t.close()}})};var G={};Object.defineProperty(G,"__esModule",{value:!0}),G.parse=function(e,t){let n=new ee,r=e.length;if(r<2)return n;let i=t?.decode||er,a=0;do{let t=e.indexOf("=",a);if(-1===t)break;let s=e.indexOf(";",a),o=-1===s?r:s;if(t>o){a=e.lastIndexOf(";",t-1)+1;continue}let l=et(e,a,t),u=en(e,t,l),c=e.slice(l,u);if(void 0===n[c]){let r=et(e,t+1,o),a=en(e,o,r),s=i(e.slice(r,a));n[c]=s}a=o+1}while(a<r)return n},G.serialize=function(e,t,n){let r=n?.encode||encodeURIComponent;if(!Q.test(e))throw TypeError(`argument name is invalid: ${e}`);let i=r(t);if(!Y.test(i))throw TypeError(`argument val is invalid: ${t}`);let a=e+"="+i;if(!n)return a;if(void 0!==n.maxAge){if(!Number.isInteger(n.maxAge))throw TypeError(`option maxAge is invalid: ${n.maxAge}`);a+="; Max-Age="+n.maxAge}if(n.domain){if(!J.test(n.domain))throw TypeError(`option domain is invalid: ${n.domain}`);a+="; Domain="+n.domain}if(n.path){if(!X.test(n.path))throw TypeError(`option path is invalid: ${n.path}`);a+="; Path="+n.path}if(n.expires){var s;if(s=n.expires,"[object Date]"!==Z.call(s)||!Number.isFinite(n.expires.valueOf()))throw TypeError(`option expires is invalid: ${n.expires}`);a+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(a+="; HttpOnly"),n.secure&&(a+="; Secure"),n.partitioned&&(a+="; Partitioned"),n.priority)switch("string"==typeof n.priority?n.priority.toLowerCase():void 0){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch("string"==typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"none":a+="; SameSite=None";break;default:throw TypeError(`option sameSite is invalid: ${n.sameSite}`)}return a};const Q=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,Y=/^[\u0021-\u003A\u003C-\u007E]*$/,J=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,X=/^[\u0020-\u003A\u003D-\u007E]*$/,Z=Object.prototype.toString,ee=(()=>{let e=function(){};return e.prototype=Object.create(null),e})();function et(e,t,n){do{let n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n)return n}function en(e,t,n){for(;t>n;){let n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function er(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}var ei={},ea={decodeValues:!0,map:!1,silent:!1};function es(e){return"string"==typeof e&&!!e.trim()}function eo(e,t){var n,r,i,a,s=e.split(";").filter(es),o=(n=s.shift(),r="",i="",(a=n.split("=")).length>1?(r=a.shift(),i=a.join("=")):i=n,{name:r,value:i}),l=o.name,u=o.value;t=t?Object.assign({},ea,t):ea;try{u=t.decodeValues?decodeURIComponent(u):u}catch(e){console.error("set-cookie-parser encountered an error while decoding a cookie with value '"+u+"'. Set options.decodeValues to false to disable this feature.",e)}var c={name:l,value:u};return s.forEach(function(e){var t=e.split("="),n=t.shift().trimLeft().toLowerCase(),r=t.join("=");"expires"===n?c.expires=new Date(r):"max-age"===n?c.maxAge=parseInt(r,10):"secure"===n?c.secure=!0:"httponly"===n?c.httpOnly=!0:"samesite"===n?c.sameSite=r:"partitioned"===n?c.partitioned=!0:c[n]=r}),c}function el(e,t){if(t=t?Object.assign({},ea,t):ea,!e)return t.map?{}:[];if(e.headers){if("function"==typeof e.headers.getSetCookie)e=e.headers.getSetCookie();else if(e.headers["set-cookie"])e=e.headers["set-cookie"];else{var n=e.headers[Object.keys(e.headers).find(function(e){return"set-cookie"===e.toLowerCase()})];n||!e.headers.cookie||t.silent||console.warn("Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning."),e=n}}return(Array.isArray(e)||(e=[e]),t.map)?e.filter(es).reduce(function(e,n){var r=eo(n,t);return e[r.name]=r,e},{}):e.filter(es).map(function(e){return eo(e,t)})}(ei=el).parse=el,ei.parseString=eo,ei.splitCookiesString=function(e){if(Array.isArray(e))return e;if("string"!=typeof e)return[];var t,n,r,i,a,s=[],o=0;function l(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}for(;o<e.length;){for(t=o,a=!1;l();)if(","===(n=e.charAt(o))){for(r=o,o+=1,l(),i=o;o<e.length&&"="!==(n=e.charAt(o))&&";"!==n&&","!==n;)o+=1;o<e.length&&"="===e.charAt(o)?(a=!0,o=i,s.push(e.substring(t,r)),t=o):o=r+1}else o+=1;(!a||o>=e.length)&&s.push(e.substring(t,e.length))}return s};var eu=Object.assign(Object.create(null),{url:"file:///node_modules/react-router/dist/development/chunk-K6AXKMTT.mjs"}),ec=((a=ec||{}).Pop="POP",a.Push="PUSH",a.Replace="REPLACE",a),eh="popstate";function ef(e,t){if(!1===e||null==e)throw Error(t)}function ed(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw Error(t)}catch(e){}}}function ep(e,t){return{usr:e.state,key:e.key,idx:t}}function em(e,t,n=null,r){return{pathname:"string"==typeof e?e:e.pathname,search:"",hash:"",..."string"==typeof t?ey(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function eg({pathname:e="/",search:t="",hash:n=""}){return t&&"?"!==t&&(e+="?"===t.charAt(0)?t:"?"+t),n&&"#"!==n&&(e+="#"===n.charAt(0)?n:"#"+n),e}function ey(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function ev(e,t,n="/"){return function(e,t,n,r){let i=eS(("string"==typeof t?ey(t):t).pathname||"/",n);if(null==i)return null;let a=function e(t,n=[],r=[],i=""){let a=(t,a,s)=>{var o;let l,u,c={relativePath:void 0===s?t.path||"":s,caseSensitive:!0===t.caseSensitive,childrenIndex:a,route:t};c.relativePath.startsWith("/")&&(ef(c.relativePath.startsWith(i),`Absolute route path "${c.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(i.length));let h=ex([i,c.relativePath]),f=r.concat(c);t.children&&t.children.length>0&&(ef(!0!==t.index,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),e(t.children,n,f,h)),(null!=t.path||t.index)&&n.push({path:h,score:(o=t.index,u=(l=h.split("/")).length,l.some(ew)&&(u+=-2),o&&(u+=2),l.filter(e=>!ew(e)).reduce((e,t)=>e+(eb.test(t)?3:""===t?1:10),u)),routesMeta:f})};return t.forEach((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of function e(t){let n=t.split("/");if(0===n.length)return[];let[r,...i]=n,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(0===i.length)return a?[s,""]:[s];let o=e(i.join("/")),l=[];return l.push(...o.map(e=>""===e?s:[s,e].join("/"))),a&&l.push(...o),l.map(e=>t.startsWith("/")&&""===e?"/":e)}(e.path))a(e,t,n);else a(e,t)}),n}(e);!function(e){e.sort((e,t)=>{var n,r;return e.score!==t.score?t.score-e.score:(n=e.routesMeta.map(e=>e.childrenIndex),r=t.routesMeta.map(e=>e.childrenIndex),n.length===r.length&&n.slice(0,-1).every((e,t)=>e===r[t])?n[n.length-1]-r[r.length-1]:0)})}(a);let s=null;for(let e=0;null==s&&e<a.length;++e){let t=function(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return ed(!1,`The URL path "${e}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}(i);s=function(e,t,n=!1){let{routesMeta:r}=e,i={},a="/",s=[];for(let e=0;e<r.length;++e){let o=r[e],l=e===r.length-1,u="/"===a?t:t.slice(a.length)||"/",c=eE({path:o.relativePath,caseSensitive:o.caseSensitive,end:l},u),h=o.route;if(!c&&l&&n&&!r[r.length-1].route.index&&(c=eE({path:o.relativePath,caseSensitive:o.caseSensitive,end:!1},u)),!c)return null;Object.assign(i,c.params),s.push({params:i,pathname:ex([a,c.pathname]),pathnameBase:eI(ex([a,c.pathnameBase])),route:h}),"/"!==c.pathnameBase&&(a=ex([a,c.pathnameBase]))}return s}(a[e],t,r)}return s}(e,t,n,!1)}var eb=/^:[\w-]+$/,ew=e=>"*"===e;function eE(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t=!1,n=!0){ed("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((e,{paramName:t,isOptional:n},r)=>{if("*"===t){let e=o[r]||"";s=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}let i=o[r];return n&&!i?e[t]=void 0:e[t]=(i||"").replace(/%2F/g,"/"),e},{}),pathname:a,pathnameBase:s,pattern:e}}function eS(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function e_(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ek(e){let t=e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function eT(e,t,n,r=!1){let i,a;"string"==typeof e?i=ey(e):(ef(!(i={...e}).pathname||!i.pathname.includes("?"),e_("?","pathname","search",i)),ef(!i.pathname||!i.pathname.includes("#"),e_("#","pathname","hash",i)),ef(!i.search||!i.search.includes("#"),e_("#","search","hash",i)));let s=""===e||""===i.pathname,o=s?"/":i.pathname;if(null==o)a=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}a=e>=0?t[e]:"/"}let l=function(e,t="/"){let n,{pathname:r,search:i="",hash:a=""}="string"==typeof e?ey(e):e;return{pathname:r?r.startsWith("/")?r:(n=t.replace(/\/+$/,"").split("/"),r.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"):t,search:eC(i),hash:eN(a)}}(i,a),u=o&&"/"!==o&&o.endsWith("/"),c=(s||"."===o)&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var ex=e=>e.join("/").replace(/\/\/+/g,"/"),eI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),eC=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",eN=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Symbol("ResetLoaderData");var eA=L.createContext(null);eA.displayName="DataRouter";var eR=L.createContext(null);eR.displayName="DataRouterState";var eP=L.createContext({isTransitioning:!1});eP.displayName="ViewTransition",L.createContext(new Map).displayName="Fetchers",L.createContext(null).displayName="Await";var eO=L.createContext(null);eO.displayName="Navigation";var eL=L.createContext(null);eL.displayName="Location";var eD=L.createContext({outlet:null,matches:[],isDataRoute:!1});eD.displayName="Route";var eM=L.createContext(null);function eU(){return null!=L.useContext(eL)}function eF(){return ef(eU(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(eL).location}eM.displayName="RouteError";var eV="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ej(e){L.useContext(eO).static||L.useLayoutEffect(e)}function ez(){let{isDataRoute:e}=L.useContext(eD);return e?function(){var e;let t;let{router:n}=(e="useNavigate",ef(t=L.useContext(eA),eK(e)),t),r=eG("useNavigate"),i=L.useRef(!1);return ej(()=>{i.current=!0}),L.useCallback(async(e,t={})=>{ed(i.current,eV),i.current&&("number"==typeof e?n.navigate(e):await n.navigate(e,{fromRouteId:r,...t}))},[n,r])}():function(){ef(eU(),"useNavigate() may be used only in the context of a <Router> component.");let e=L.useContext(eA),{basename:t,navigator:n}=L.useContext(eO),{matches:r}=L.useContext(eD),{pathname:i}=eF(),a=JSON.stringify(ek(r)),s=L.useRef(!1);return ej(()=>{s.current=!0}),L.useCallback((r,o={})=>{if(ed(s.current,eV),!s.current)return;if("number"==typeof r){n.go(r);return}let l=eT(r,JSON.parse(a),i,"path"===o.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:ex([t,l.pathname])),(o.replace?n.replace:n.push)(l,o.state,o)},[t,n,a,i,e])}()}function eB(e,{relative:t}={}){let{matches:n}=L.useContext(eD),{pathname:r}=eF(),i=JSON.stringify(ek(n));return L.useMemo(()=>eT(e,JSON.parse(i),r,"path"===t),[e,i,r,t])}function e$(e,t,n,r){let i;ef(eU(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=L.useContext(eO),{matches:s}=L.useContext(eD),o=s[s.length-1],l=o?o.params:{},u=o?o.pathname:"/",c=o?o.pathnameBase:"/",h=o&&o.route;{let e=h&&h.path||"";eY(u,!h||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let f=eF();if(t){let e="string"==typeof t?ey(t):t;ef("/"===c||e.pathname?.startsWith(c),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${e.pathname}" was given in the \`location\` prop.`),i=e}else i=f;let d=i.pathname||"/",p=d;if("/"!==c){let e=c.replace(/^\//,"").split("/");p="/"+d.replace(/^\//,"").split("/").slice(e.length).join("/")}let m=ev(e,{pathname:p});ed(h||null!=m,`No routes matched location "${i.pathname}${i.search}${i.hash}" `),ed(null==m||void 0!==m[m.length-1].route.element||void 0!==m[m.length-1].route.Component||void 0!==m[m.length-1].route.lazy,`Matched leaf route at location "${i.pathname}${i.search}${i.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=function(e,t=[],n=null,r=null){if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let i=e,a=n?.errors;if(null!=a){let e=i.findIndex(e=>e.route.id&&a?.[e.route.id]!==void 0);ef(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,e+1))}let s=!1,o=-1;if(n)for(let e=0;e<i.length;e++){let t=i[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(o=e),t.route.id){let{loaderData:e,errors:r}=n,a=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!r||void 0===r[t.route.id]);if(t.route.lazy||a){s=!0,i=o>=0?i.slice(0,o+1):[i[0]];break}}}return i.reduceRight((e,r,l)=>{let u;let c=!1,h=null,f=null;n&&(u=a&&r.route.id?a[r.route.id]:void 0,h=r.route.errorElement||eq,s&&(o<0&&0===l?(eY("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),c=!0,f=null):o===l&&(c=!0,f=r.route.hydrateFallbackElement||null)));let d=t.concat(i.slice(0,l+1)),p=()=>{let t;return t=u?h:c?f:r.route.Component?L.createElement(r.route.Component,null):r.route.element?r.route.element:e,L.createElement(eW,{match:r,routeContext:{outlet:e,matches:d,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===l)?L.createElement(eH,{location:n.location,revalidation:n.revalidation,component:h,error:u,children:p(),routeContext:{outlet:null,matches:d,isDataRoute:!0}}):p()},null)}(m&&m.map(e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:ex([c,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:ex([c,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),s,n,r);return t&&g?L.createElement(eL.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...i},navigationType:"POP"}},g):g}L.createContext(null);var eq=L.createElement(function(){var e;let t,n,r;let i=(t=L.useContext(eM),n=function(e){let t=L.useContext(eR);return ef(t,eK(e)),t}("useRouteError"),r=eG("useRouteError"),void 0!==t?t:n.errors?.[r]),a=null!=(e=i)&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),s=i instanceof Error?i.stack:null,o="rgba(200,200,200, 0.5)",l={padding:"2px 4px",backgroundColor:o},u=null;return console.error("Error handled by React Router default ErrorBoundary:",i),u=L.createElement(L.Fragment,null,L.createElement("p",null,"💿 Hey developer 👋"),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:l},"ErrorBoundary")," or"," ",L.createElement("code",{style:l},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},a),s?L.createElement("pre",{style:{padding:"0.5rem",backgroundColor:o}},s):null,u)},null),eH=class extends L.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?L.createElement(eD.Provider,{value:this.props.routeContext},L.createElement(eM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function eW({routeContext:e,match:t,children:n}){let r=L.useContext(eA);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),L.createElement(eD.Provider,{value:e},n)}function eK(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eG(e){let t;let n=(ef(t=L.useContext(eD),eK(e)),t),r=n.matches[n.matches.length-1];return ef(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}var eQ={};function eY(e,t,n){t||eQ[e]||(eQ[e]=!0,ed(!1,n))}function eJ(e){ef(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function eX({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){ef(!eU(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),o=L.useMemo(()=>({basename:s,navigator:i,static:a,future:{}}),[s,i,a]);"string"==typeof n&&(n=ey(n));let{pathname:l="/",search:u="",hash:c="",state:h=null,key:f="default"}=n,d=L.useMemo(()=>{let e=eS(l,s);return null==e?null:{location:{pathname:e,search:u,hash:c,state:h,key:f},navigationType:r}},[s,l,u,c,h,f,r]);return(ed(null!=d,`<Router basename="${s}"> is not able to match the URL "${l}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),null==d)?null:L.createElement(eO.Provider,{value:o},L.createElement(eL.Provider,{children:t,value:d}))}function eZ({children:e,location:t}){return e$(function e(t,n=[]){let r=[];return L.Children.forEach(t,(t,i)=>{if(!L.isValidElement(t))return;let a=[...n,i];if(t.type===L.Fragment){r.push.apply(r,e(t.props.children,a));return}ef(t.type===eJ,`[${"string"==typeof t.type?t.type:t.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ef(!t.props.index||!t.props.children,"An index route cannot have child routes.");let s={id:t.props.id||a.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,hydrateFallbackElement:t.props.hydrateFallbackElement,HydrateFallback:t.props.HydrateFallback,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:!0===t.props.hasErrorBoundary||null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(s.children=e(t.props.children,a)),r.push(s)}),r}(e),t)}L.memo(function({routes:e,future:t,state:n}){return e$(e,void 0,n,t)}),L.Component;var e0="get",e1="application/x-www-form-urlencoded";function e2(e){return null!=e&&"string"==typeof e.tagName}var e3=null,e4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function e6(e){return null==e||e4.has(e)?e:(ed(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${e1}"`),null)}function e5(e,t){if(!1===e||null==e)throw Error(t)}async function e8(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(t){if(console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode&&eu.hot)throw t;return window.location.reload(),new Promise(()=>{})}}function e9(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"==typeof e.imageSrcSet&&"string"==typeof e.imageSizes:"string"==typeof e.rel&&"string"==typeof e.href)}async function e7(e,t,n){var r,i;let a,s;return r=(await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await e8(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(e9).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"}),a=new Set,s=new Set(void 0),r.reduce((e,t)=>{if(i&&!(null!=t&&"string"==typeof t.page)&&"script"===t.as&&t.href&&s.has(t.href))return e;let n=JSON.stringify(function(e){let t={};for(let n of Object.keys(e).sort())t[n]=e[n];return t}(t));return a.has(n)||(a.add(n),e.push({key:n,link:t})),e},[])}function te(e,t,n,r,i,a){let s=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===a?t.filter((e,t)=>s(e,t)||o(e,t)):"data"===a?t.filter((t,a)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(s(t,a)||o(t,a))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"==typeof r)return r}return!0}):[]}Symbol("SingleFetchRedirect");function tt(){let e=L.useContext(eA);return e5(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function tn(){let e=L.useContext(eR);return e5(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}L.Component;var tr=L.createContext(void 0);function ti(){let e=L.useContext(tr);return e5(e,"You must render this element inside a <HydratedRouter> element"),e}function ta(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function ts({page:e,...t}){let{router:n}=tt(),r=L.useMemo(()=>ev(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?L.createElement(to,{page:e,matches:r,...t}):null}function to({page:e,matches:t,...n}){let r=eF(),{manifest:i,routeModules:a}=ti(),{loaderData:s,matches:o}=tn(),l=L.useMemo(()=>te(e,t,o,i,r,"data"),[e,t,o,i,r]),u=L.useMemo(()=>te(e,t,o,i,r,"assets"),[e,t,o,i,r]),c=L.useMemo(()=>{let n;if(e===r.pathname+r.search+r.hash)return[];let o=new Set,u=!1;if(t.forEach(e=>{let t=i.routes[e.route.id];t&&t.hasLoader&&(!l.some(t=>t.route.id===e.route.id)&&e.route.id in s&&a[e.route.id]?.shouldRevalidate?u=!0:t.hasClientLoader?u=!0:o.add(e.route.id))}),0===o.size)return[];let c=("/"===(n="string"==typeof e?new URL(e,"undefined"==typeof window?"server://singlefetch/":window.location.origin):e).pathname?n.pathname="_root.data":n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n);return u&&o.size>0&&c.searchParams.set("_routes",t.filter(e=>o.has(e.route.id)).map(e=>e.route.id).join(",")),[c.pathname+c.search]},[s,r,i,l,t,e,a]),h=L.useMemo(()=>[...new Set(u.map(e=>{let t=i.routes[e.route.id];if(!t)return[];let n=[t.module];return t.imports&&(n=n.concat(t.imports)),n}).flat(1))],[u,i]),f=function(e){let{manifest:t,routeModules:n}=ti(),[r,i]=L.useState([]);return L.useEffect(()=>{let r=!1;return e7(e,t,n).then(e=>{r||i(e)}),()=>{r=!0}},[e,t,n]),r}(u);return L.createElement(L.Fragment,null,c.map(e=>L.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...n})),h.map(e=>L.createElement("link",{key:e,rel:"modulepreload",href:e,...n})),f.map(({key:e,link:t})=>L.createElement("link",{key:e,...t})))}tr.displayName="FrameworkContext";var tl=!1;function tu(e){let{manifest:t,serverHandoffString:n,isSpaMode:r,renderMeta:i}=ti(),{router:a,static:s,staticContext:o}=tt(),{matches:l}=tn(),u=!r;i&&(i.didRenderScripts=!0);let c=r&&!tl?[l[0]]:l;L.useEffect(()=>{tl=!0},[]);let h=L.useMemo(()=>{let r=o?`window.__reactRouterContext = ${n};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",i=s?`${t.hmr?.runtime?`import ${JSON.stringify(t.hmr.runtime)};`:""}${u?"":`import ${JSON.stringify(t.url)}`};
${c.map((e,n)=>`import * as route${n} from ${JSON.stringify(t.routes[e.route.id].module)};`).join("\n")}
  ${u?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let n=new Set(t.state.matches.map(e=>e.route.id)),r=t.state.location.pathname.split("/").filter(Boolean),i=["/"];for(r.pop();r.length>0;)i.push(`/${r.join("/")}`),r.pop();i.forEach(e=>{let r=ev(t.routes,e,t.basename);r&&r.forEach(e=>n.add(e.route.id))});let a=[...n].reduce((t,n)=>Object.assign(t,{[n]:e.routes[n]}),{});return{...e,routes:a}}(t,a),null,2)};`:""}
  window.__reactRouterRouteModules = {${c.map((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`).join(",")}};

import(${JSON.stringify(t.entry.module)});`:" ";return L.createElement(L.Fragment,null,L.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:r},type:void 0}),L.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:i},type:"module",async:!0}))},[]),f=c.map(e=>{let n=t.routes[e.route.id];return n?(n.imports||[]).concat([n.module]):[]}).flat(1),d=tl?[]:t.entry.imports.concat(f);return tl?null:L.createElement(L.Fragment,null,u?null:L.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin}),L.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin}),[...new Set(d)].map(t=>L.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin})),h)}var tc="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;try{tc&&(window.__reactRouterVersion="7.1.1")}catch(e){}var th=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tf=L.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:r,reloadDocument:i,replace:a,state:s,target:o,to:l,preventScrollReset:u,viewTransition:c,...h},f){let d,{basename:p}=L.useContext(eO),m="string"==typeof l&&th.test(l),g=!1;if("string"==typeof l&&m&&(d=l,tc))try{let e=new URL(window.location.href),t=new URL(l.startsWith("//")?e.protocol+l:l),n=eS(t.pathname,p);t.origin===e.origin&&null!=n?l=n+t.search+t.hash:g=!0}catch(e){ed(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=function(e,{relative:t}={}){ef(eU(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=L.useContext(eO),{hash:i,pathname:a,search:s}=eB(e,{relative:t}),o=a;return"/"!==n&&(o="/"===a?n:ex([n,a])),r.createHref({pathname:o,search:s,hash:i})}(l,{relative:r}),[v,b,w]=function(e,t){let n=L.useContext(tr),[r,i]=L.useState(!1),[a,s]=L.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:h}=t,f=L.useRef(null);L.useEffect(()=>{if("render"===e&&s(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{s(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),L.useEffect(()=>{if(r){let e=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(e)}}},[r]);let d=()=>{i(!0)},p=()=>{i(!1),s(!1)};return n?"intent"!==e?[a,f,{}]:[a,f,{onFocus:ta(o,d),onBlur:ta(l,p),onMouseEnter:ta(u,d),onMouseLeave:ta(c,p),onTouchStart:ta(h,d)}]:[!1,f,{}]}(n,h),E=function(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:s}={}){let o=ez(),l=eF(),u=eB(e,{relative:a});return L.useCallback(c=>{0!==c.button||t&&"_self"!==t||c.metaKey||c.altKey||c.ctrlKey||c.shiftKey||(c.preventDefault(),o(e,{replace:void 0!==n?n:eg(l)===eg(u),state:r,preventScrollReset:i,relative:a,viewTransition:s}))},[l,o,u,n,r,t,e,i,a,s])}(l,{replace:a,state:s,target:o,preventScrollReset:u,relative:r,viewTransition:c}),S=L.createElement("a",{...h,...w,href:d||y,onClick:g||i?e:function(t){e&&e(t),t.defaultPrevented||E(t)},ref:function(...e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}}(f,b),target:o,"data-discover":m||"render"!==t?void 0:"true"});return v&&!m?L.createElement(L.Fragment,null,S,L.createElement(ts,{page:y})):S});function td(e){let t=L.useContext(eA);return ef(t,`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`),t}tf.displayName="Link",L.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:r=!1,style:i,to:a,viewTransition:s,children:o,...l},u){let c,h=eB(a,{relative:l.relative}),f=eF(),d=L.useContext(eR),{navigator:p,basename:m}=L.useContext(eO),g=null!=d&&function(e,t={}){let n=L.useContext(eP);ef(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=td("useViewTransitionState"),i=eB(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=eS(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=eS(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=eE(i.pathname,s)||null!=eE(i.pathname,a)}(h)&&!0===s,y=p.encodeLocation?p.encodeLocation(h).pathname:h.pathname,v=f.pathname,b=d&&d.navigation&&d.navigation.location?d.navigation.location.pathname:null;t||(v=v.toLowerCase(),b=b?b.toLowerCase():null,y=y.toLowerCase()),b&&m&&(b=eS(b,m)||b);let w="/"!==y&&y.endsWith("/")?y.length-1:y.length,E=v===y||!r&&v.startsWith(y)&&"/"===v.charAt(w),S=null!=b&&(b===y||!r&&b.startsWith(y)&&"/"===b.charAt(y.length)),_={isActive:E,isPending:S,isTransitioning:g},k=E?e:void 0;c="function"==typeof n?n(_):[n,E?"active":null,S?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let T="function"==typeof i?i(_):i;return L.createElement(tf,{...l,"aria-current":k,className:c,ref:u,style:T,to:a,viewTransition:s},"function"==typeof o?o(_):o)}).displayName="NavLink",L.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:s=e0,action:o,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:h,...f},d)=>{let p=function(){let{router:e}=td("useSubmit"),{basename:t}=L.useContext(eO),n=eG("useRouteId");return L.useCallback(async(r,i={})=>{let{action:a,method:s,encType:o,formData:l,body:u}=function(e,t){let n,r,i,a,s;if(e2(e)&&"form"===e.tagName.toLowerCase()){let s=e.getAttribute("action");r=s?eS(s,t):null,n=e.getAttribute("method")||e0,i=e6(e.getAttribute("enctype"))||e1,a=new FormData(e)}else if(e2(e)&&"button"===e.tagName.toLowerCase()||e2(e)&&"input"===e.tagName.toLowerCase()&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||s.getAttribute("action");if(r=o?eS(o,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||e0,i=e6(e.getAttribute("formenctype"))||e6(s.getAttribute("enctype"))||e1,a=new FormData(s,e),!function(){if(null===e3)try{new FormData(document.createElement("form"),0),e3=!1}catch(e){e3=!0}return e3}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";a.append(`${e}x`,"0"),a.append(`${e}y`,"0")}else t&&a.append(t,r)}}else if(e2(e))throw Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');else n=e0,r=null,i=e1,s=e;return a&&"text/plain"===i&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}(r,t);if(!1===i.navigate){let t=i.fetcherKey||tm();await e.fetch(t,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||o,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}(),m=function(e,{relative:t}={}){let{basename:n}=L.useContext(eO),r=L.useContext(eD);ef(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...eB(e||".",{relative:t})},s=eF();if(null==e){a.search=s.search;let e=new URLSearchParams(a.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();a.search=n?`?${n}`:""}}return(!e||"."===e)&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),"/"!==n&&(a.pathname="/"===a.pathname?n:ex([n,a.pathname])),eg(a)}(o,{relative:u}),g="get"===s.toLowerCase()?"get":"post",y="string"==typeof o&&th.test(o);return L.createElement("form",{ref:d,method:g,action:m,onSubmit:r?l:e=>{if(l&&l(e),e.defaultPrevented)return;e.preventDefault();let r=e.nativeEvent.submitter,o=r?.getAttribute("formmethod")||s;p(r||e.currentTarget,{fetcherKey:t,method:o,navigate:n,replace:i,state:a,relative:u,preventScrollReset:c,viewTransition:h})},...f,"data-discover":y||"render"!==e?void 0:"true"})}).displayName="Form";var tp=0,tm=()=>`__${String(++tp)}__`;new TextEncoder;var tg=((s=tg||{}).Development="development",s.Production="production",s.Test="test",s),L=(R("acw62"),R("acw62")),ty=R("hPtJY");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:((64512&i)==55296&&r+1<e.length&&(64512&e.charCodeAt(r+1))==56320?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128):t[n++]=i>>12|224,t[n++]=i>>6&63|128),t[n++]=63&i|128)}return t},tb=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){let a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{let a=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&s)}}return t.join("")},tw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){let i=e[t],a=t+1<e.length,s=a?e[t+1]:0,o=t+2<e.length,l=o?e[t+2]:0,u=i>>2,c=(3&i)<<4|s>>4,h=(15&s)<<2|l>>6,f=63&l;o||(f=64,a||(h=64)),r.push(n[u],n[c],n[h],n[f])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(tv(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):tb(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){let i=n[e.charAt(t++)],a=t<e.length?n[e.charAt(t)]:0,s=++t<e.length?n[e.charAt(t)]:64,o=++t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==a||null==s||null==o)throw new tE;let l=i<<2|a>>4;if(r.push(l),64!==s){let e=a<<4&240|s>>2;if(r.push(e),64!==o){let e=s<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class tE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tS=function(e){let t=tv(e);return tw.encodeByteArray(t,!0)},t_=function(e){return tS(e).replace(/\./g,"")},tk=function(e){try{return tw.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},tT=()=>/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==C)return C;throw Error("Unable to locate global object.")})().__FIREBASE_DEFAULTS__,tx=()=>{if(void 0===ty||void 0===ty.env)return;let e=void 0;if(e)return JSON.parse(e)},tI=()=>{let e;if("undefined"==typeof document)return;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}let t=e&&tk(e[1]);return t&&JSON.parse(t)},tC=()=>{try{return tT()||tx()||tI()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},tN=e=>{var t,n;return null===(n=null===(t=tC())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},tA=e=>{let t=tN(e);if(!t)return;let n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},tR=()=>{var e;return null===(e=tC())||void 0===e?void 0:e.config},tP=e=>{var t;return null===(t=tC())||void 0===t?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class tD extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,tD.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tM.prototype.create)}}class tM{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){let n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],a=i?i.replace(tU,(e,t)=>{let r=n[t];return null!=r?String(r):`<${t}?>`}):"Error",s=`${this.serviceName}: ${a} (${r}).`;return new tD(r,s,n)}}const tU=/\{\$([^}]+)}/g;function tF(e,t){if(e===t)return!0;let n=Object.keys(e),r=Object.keys(t);for(let i of n){if(!r.includes(i))return!1;let n=e[i],a=t[i];if(tV(n)&&tV(a)){if(!tF(n,a))return!1}else if(n!==a)return!1}for(let e of r)if(!n.includes(e))return!1;return!0}function tV(e){return null!==e&&"object"==typeof e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tj(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function tz(e){let t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){let[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function tB(e){let t=e.indexOf("?");if(!t)return"";let n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class t${constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw Error("Missing Observer.");void 0===(r=!function(e,t){if("object"!=typeof e||null===e)return!1;for(let n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?{next:e,error:t,complete:n}:e).next&&(r.next=tq),void 0===r.error&&(r.error=tq),void 0===r.complete&&(r.complete=tq);let i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tq(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tH(e){return e&&e._delegate?e._delegate:e}class tW{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tK="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tG{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new tO;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:tK})}catch(e){}for(let[e,t]of this.instancesDeferred.entries()){let n=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e=tK){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=tK){return this.instances.has(e)}getOptions(e=tK){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(let[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){var n;let r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);let a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){let n=this.onInitCallbacks.get(t);if(n)for(let r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:e===tK?void 0:e,options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}return n||null}normalizeInstanceIdentifier(e=tK){return this.component?this.component.multipleInstances?e:tK:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tQ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new tG(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tY=[];(o=u||(u={}))[o.DEBUG=0]="DEBUG",o[o.VERBOSE=1]="VERBOSE",o[o.INFO=2]="INFO",o[o.WARN=3]="WARN",o[o.ERROR=4]="ERROR",o[o.SILENT=5]="SILENT";const tJ={debug:u.DEBUG,verbose:u.VERBOSE,info:u.INFO,warn:u.WARN,error:u.ERROR,silent:u.SILENT},tX=u.INFO,tZ={[u.DEBUG]:"log",[u.VERBOSE]:"log",[u.INFO]:"info",[u.WARN]:"warn",[u.ERROR]:"error"},t0=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=tZ[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class t1{constructor(e){this.name=e,this._logLevel=tX,this._logHandler=t0,this._userLogHandler=null,tY.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in u))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?tJ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,u.DEBUG,...e),this._logHandler(this,u.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,u.VERBOSE,...e),this._logHandler(this,u.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,u.INFO,...e),this._logHandler(this,u.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,u.WARN,...e),this._logHandler(this,u.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,u.ERROR,...e),this._logHandler(this,u.ERROR,...e)}}const t2=(e,t)=>t.some(t=>e instanceof t),t3=new WeakMap,t4=new WeakMap,t6=new WeakMap,t5=new WeakMap,t8=new WeakMap;let t9={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return t4.get(e);if("objectStoreNames"===t)return e.objectStoreNames||t6.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return t7(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function t7(n){var r;if(n instanceof IDBRequest)return function(e){let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(t7(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(t=>{t instanceof IDBCursor&&t3.set(t,e)}).catch(()=>{}),t8.set(t,e),t}(n);if(t5.has(n))return t5.get(n);let i="function"==typeof(r=n)?r!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(t||(t=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(r)?function(...e){return r.apply(ne(this),e),t7(t3.get(this))}:function(...e){return t7(r.apply(ne(this),e))}:function(e,...t){let n=r.call(ne(this),e,...t);return t6.set(n,e.sort?e.sort():[e]),t7(n)}:(r instanceof IDBTransaction&&function(e){if(t4.has(e))return;let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});t4.set(e,t)}(r),t2(r,e||(e=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])))?new Proxy(r,t9):r;return i!==n&&(t5.set(n,i),t8.set(i,n)),i}const ne=e=>t8.get(e),nt=["get","getKey","getAll","getAllKeys","count"],nn=["put","add","delete","clear"],nr=new Map;function ni(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(nr.get(t))return nr.get(t);let n=t.replace(/FromIndex$/,""),r=t!==n,i=nn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||nt.includes(n)))return;let a=async function(e,...t){let a=this.transaction(e,i?"readwrite":"readonly"),s=a.store;return r&&(s=s.index(t.shift())),(await Promise.all([s[n](...t),i&&a.done]))[0]};return nr.set(t,a),a}t9={...n=t9,get:(e,t,r)=>ni(e,t)||n.get(e,t,r),has:(e,t)=>!!ni(e,t)||n.has(e,t)};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(!function(e){let t=e.getComponent();return(null==t?void 0:t.type)==="VERSION"}(e))return null;{let t=e.getImmediate();return`${t.library}/${t.version}`}}).filter(e=>e).join(" ")}}const ns="@firebase/app",no="0.10.17",nl=new t1("@firebase/app"),nu="[DEFAULT]",nc={[ns]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},nh=new Map,nf=new Map,nd=new Map;function np(e,t){try{e.container.addComponent(t)}catch(n){nl.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function nm(e){let t=e.name;if(nd.has(t))return nl.debug(`There were multiple attempts to register component ${t}.`),!1;for(let n of(nd.set(t,e),nh.values()))np(n,e);for(let t of nf.values())np(t,e);return!0}function ng(e,t){let n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ny(e){return void 0!==e.settings}const nv=new tM("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new tW("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw nv.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="11.1.0";function nE(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});let r=Object.assign({name:nu,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw nv.create("bad-app-name",{appName:String(i)});if(n||(n=tR()),!n)throw nv.create("no-options");let a=nh.get(i);if(a){if(tF(n,a.options)&&tF(r,a.config))return a;throw nv.create("duplicate-app",{appName:i})}let s=new tQ(i);for(let e of nd.values())s.addComponent(e);let o=new nb(n,r,s);return nh.set(i,o),o}function nS(e=nu){let t=nh.get(e);if(!t&&e===nu&&tR())return nE();if(!t)throw nv.create("no-app",{appName:e});return t}function n_(e,t,n){var r;let i=null!==(r=nc[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);let a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){let e=[`Unable to register library "${i}" with version "${t}":`];a&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),nl.warn(e.join(" "));return}nm(new tW(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const nk="firebase-heartbeat-store";let nT=null;function nx(){return nT||(nT=(function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){let s=indexedDB.open(e,1),o=t7(s);return r&&s.addEventListener("upgradeneeded",e=>{r(t7(s.result),e.oldVersion,e.newVersion,t7(s.transaction),e)}),n&&s.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{a&&e.addEventListener("close",()=>a()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o})("firebase-heartbeat-database",0,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(nk)}catch(e){console.warn(e)}}}).catch(e=>{throw nv.create("idb-open",{originalErrorMessage:e.message})})),nT}async function nI(e){try{let t=(await nx()).transaction(nk),n=await t.objectStore(nk).get(nN(e));return await t.done,n}catch(e){if(e instanceof tD)nl.warn(e.message);else{let t=nv.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});nl.warn(t.message)}}}async function nC(e,t){try{let n=(await nx()).transaction(nk,"readwrite"),r=n.objectStore(nk);await r.put(t,nN(e)),await n.done}catch(e){if(e instanceof tD)nl.warn(e.message);else{let t=nv.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});nl.warn(t.message)}}}function nN(e){return`${e.name}!${e.options.appId}`}class nA{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new nP(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{let n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=nR();if((null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{let t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}catch(e){nl.warn(e)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)==null||0===this._heartbeatsCache.heartbeats.length)return"";let t=nR(),{heartbeatsToSend:n,unsentEntries:r}=function(e,t=1024){let n=[],r=e.slice();for(let i of e){let e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),nO(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),nO(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=t_(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return nl.warn(e),""}}}function nR(){return new Date().toISOString().substring(0,10)}class nP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"==typeof indexedDB}catch(e){return!1}}()&&new Promise((e,t)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}).then(()=>!0).catch(()=>!1)}async read(){if(!await this._canUseIndexedDBPromise)return{heartbeats:[]};{let e=await nI(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){let n=await this.read();return nC(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){let n=await this.read();return nC(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function nO(e){return t_(JSON.stringify({version:2,heartbeats:e})).length}function nL(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function nD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}nm(new tW("platform-logger",e=>new na(e),"PRIVATE")),nm(new tW("heartbeat",e=>new nA(e),"PRIVATE")),n_(ns,no,""),n_(ns,no,"esm2017"),n_("fire-js",""),/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */n_("firebase","11.1.0","app"),"function"==typeof SuppressedError&&SuppressedError;const nM=new tM("auth","Firebase",nD()),nU=new t1("@firebase/auth");function nF(e,...t){nU.logLevel<=u.ERROR&&nU.error(`Auth (${nw}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nV(e,...t){throw n$(e,...t)}function nj(e,...t){return n$(e,...t)}function nz(e,t,n){return new tM("auth","Firebase",Object.assign(Object.assign({},nD()),{[t]:n})).create(t,{appName:e.name})}function nB(e){return nz(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function n$(e,...t){if("string"!=typeof e){let n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return nM.create(e,...t)}function nq(e,t,...n){if(!e)throw n$(t,...n)}function nH(e){let t="INTERNAL ASSERTION FAILED: "+e;throw nF(t),Error(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nW(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function nK(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nG{constructor(e,t){var n;this.shortDelay=e,this.longDelay=t,n="Short delay should be less than long delay!",t>e||nH(n),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tL())||"object"==typeof navigator&&"ReactNative"===navigator.product}get(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===nK()||"https:"===nK()||function(){let e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nQ(e,t){var n,r;n=e.emulator,r="Emulator should always be set here",n||nH(r);let{url:i}=e.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nY{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void nH("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void nH("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void nH("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nJ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},nX=new nG(3e4,6e4);function nZ(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function n0(e,t,n,r,i={}){return n1(e,i,async()=>{let i={},a={};r&&("GET"===t?a=r:i={body:JSON.stringify(r)});let s=tj(Object.assign({key:e.config.apiKey},a)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);let l=Object.assign({method:t,headers:o},i);return"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),nY.fetch()(n3(e,e.config.apiHost,n,s),l)})}async function n1(e,t,n){e._canInitEmulator=!1;let r=Object.assign(Object.assign({},nJ),t);try{let t=new n4(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();let a=await i.json();if("needConfirmation"in a)throw n6(e,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{let[t,n]=(i.ok?a.errorMessage:a.error.message).split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===t)throw n6(e,"credential-already-in-use",a);if("EMAIL_EXISTS"===t)throw n6(e,"email-already-in-use",a);if("USER_DISABLED"===t)throw n6(e,"user-disabled",a);let s=r[t]||t.toLowerCase().replace(/[_\s]+/g,"-");if(n)throw nz(e,s,n);nV(e,s)}}catch(t){if(t instanceof tD)throw t;nV(e,"network-request-failed",{message:String(t)})}}async function n2(e,t,n,r,i={}){let a=await n0(e,t,n,r,i);return"mfaPendingCredential"in a&&nV(e,"multi-factor-auth-required",{_serverResponse:a}),a}function n3(e,t,n,r){let i=`${t}${n}?${r}`;return e.config.emulator?nQ(e.config,i):`${e.config.apiScheme}://${i}`}class n4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(nj(this.auth,"network-request-failed")),nX.get())})}}function n6(e,t,n){let r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=nj(e,t,r);return i.customData._tokenResponse=n,i}function n5(e){return void 0!==e&&void 0!==e.enterprise}class n8{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return function(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function n9(e,t){return n0(e,"GET","/v2/recaptchaConfig",nZ(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n7(e,t){return n0(e,"POST","/v1/accounts:delete",t)}async function re(e,t){return n0(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}async function rn(e,t=!1){let n=tH(e),r=await n.getIdToken(t),i=ri(r);nq(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let a="object"==typeof i.firebase?i.firebase:void 0,s=null==a?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:rt(rr(i.auth_time)),issuedAtTime:rt(rr(i.iat)),expirationTime:rt(rr(i.exp)),signInProvider:s||null,signInSecondFactor:(null==a?void 0:a.sign_in_second_factor)||null}}function rr(e){return 1e3*Number(e)}function ri(e){let[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return nF("JWT malformed, contained fewer than 3 sections"),null;try{let e=tk(n);if(!e)return nF("Failed to decode base64 JWT payload"),null;return JSON.parse(e)}catch(e){return nF("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}function ra(e){let t=ri(e);return nq(t,"internal-error"),nq(void 0!==t.exp,"internal-error"),nq(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rs(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof tD&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(!e)return this.errorBackoff=3e4,Math.max(0,(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5);{let e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(null==e?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=rt(this.lastLoginAt),this.creationTime=rt(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ru(e){var t;let n=e.auth,r=await e.getIdToken(),i=await rs(e,re(n,{idToken:r}));nq(null==i?void 0:i.users.length,n,"internal-error");let a=i.users[0];e._notifyReloadListener(a);let s=(null===(t=a.providerUserInfo)||void 0===t?void 0:t.length)?rh(a.providerUserInfo):[],o=[...e.providerData.filter(e=>!s.some(t=>t.providerId===e.providerId)),...s],l=e.isAnonymous,u=!(e.email&&a.passwordHash)&&!(null==o?void 0:o.length);Object.assign(e,{uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new rl(a.createdAt,a.lastLoginAt),isAnonymous:!!l&&u})}async function rc(e){let t=tH(e);await ru(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function rh(e){return e.map(e=>{var{providerId:t}=e,n=nL(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rf(e,t){let n=await n1(e,{},async()=>{let n=tj({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=n3(e,r,"/v1/token",`key=${i}`),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",nY.fetch()(a,{method:"POST",headers:s,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function rd(e,t){return n0(e,"POST","/v2/accounts:revokeToken",nZ(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){nq(e.idToken,"internal-error"),nq(void 0!==e.idToken,"internal-error"),nq(void 0!==e.refreshToken,"internal-error");let t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):ra(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){nq(0!==e.length,"internal-error");let t=ra(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return t||!this.accessToken||this.isExpired?(nq(this.refreshToken,e,"user-token-expired"),this.refreshToken)?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:n,refreshToken:r,expiresIn:i}=await rf(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){let{refreshToken:n,accessToken:r,expirationTime:i}=t,a=new rp;return n&&(nq("string"==typeof n,"internal-error",{appName:e}),a.refreshToken=n),r&&(nq("string"==typeof r,"internal-error",{appName:e}),a.accessToken=r),i&&(nq("number"==typeof i,"internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new rp,this.toJSON())}_performRefresh(){return nH("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(e,t){nq("string"==typeof e||void 0===e,"internal-error",{appName:t})}class rg{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=nL(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ro(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new rl(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){let t=await rs(this,this.stsTokenManager.getToken(this.auth,e));return nq(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return rn(this,e)}reload(){return rc(this)}_assign(e){this!==e&&(nq(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new rg(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){nq(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await ru(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ny(this.auth.app))return Promise.reject(nB(this.auth));let e=await this.getIdToken();return await rs(this,n7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,a,s,o,l,u;let c=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,f=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,d=null!==(a=t.photoURL)&&void 0!==a?a:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:E,stsTokenManager:S}=t;nq(v&&S,e,"internal-error");let _=rp.fromJSON(this.name,S);nq("string"==typeof v,e,"internal-error"),rm(c,e.name),rm(h,e.name),nq("boolean"==typeof b,e,"internal-error"),nq("boolean"==typeof w,e,"internal-error"),rm(f,e.name),rm(d,e.name),rm(p,e.name),rm(m,e.name),rm(g,e.name),rm(y,e.name);let k=new rg({uid:v,auth:e,email:h,emailVerified:b,displayName:c,isAnonymous:w,photoURL:d,phoneNumber:f,tenantId:p,stsTokenManager:_,createdAt:g,lastLoginAt:y});return E&&Array.isArray(E)&&(k.providerData=E.map(e=>Object.assign({},e))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,t,n=!1){let r=new rp;r.updateFromServerResponse(t);let i=new rg({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await ru(i),i}static async _fromGetAccountInfoResponse(e,t,n){let r=t.users[0];nq(void 0!==r.localId,"internal-error");let i=void 0!==r.providerUserInfo?rh(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(null==i?void 0:i.length),s=new rp;s.updateFromIdToken(n);let o=new rg({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:a});return Object.assign(o,{uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new rl(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null==i?void 0:i.length)}),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry=new Map;function rv(e){var t,n;t="Expected a class definition",e instanceof Function||nH(t);let r=ry.get(e);return r?(n="Instance stored in cache mismatched with class",r instanceof e||nH(n)):(r=new e,ry.set(e,r)),r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){let t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(e,t,n){return`firebase:${e}:${t}:${n}`}rb.type="NONE";class rE{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;let{config:r,name:i}=this.auth;this.fullUserKey=rw(this.userKey,r.apiKey,i),this.fullPersistenceKey=rw("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);return e?rg._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new rE(rv(rb),e,n);let r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e),i=r[0]||rv(rb),a=rw(n,e.config.apiKey,e.name),s=null;for(let n of t)try{let t=await n._get(a);if(t){let r=rg._fromJSON(e,t);n!==i&&(s=r),i=n;break}}catch(e){}let o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length&&(i=o[0],s&&await i._set(a,s.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(a)}catch(e){}}))),new rE(i,e,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";{if(rx(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(r_(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(rC(t))return"Blackberry";if(rN(t))return"Webos";if(rk(t))return"Safari";if((t.includes("chrome/")||rT(t))&&!t.includes("edge/"))return"Chrome";if(rI(t))return"Android";let n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if((null==n?void 0:n.length)===2)return n[1]}return"Other"}function r_(e=tL()){return/firefox\//i.test(e)}function rk(e=tL()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function rT(e=tL()){return/crios\//i.test(e)}function rx(e=tL()){return/iemobile/i.test(e)}function rI(e=tL()){return/android/i.test(e)}function rC(e=tL()){return/blackberry/i.test(e)}function rN(e=tL()){return/webos/i.test(e)}function rA(e=tL()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function rR(e=tL()){return rA(e)||rI(e)||rN(e)||rC(e)||/windows phone/i.test(e)||rx(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(e,t=[]){let n;switch(e){case"Browser":n=rS(tL());break;case"Worker":n=`${rS(tL())}-${e}`;break;default:n=e}let r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${nw}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let n=t=>new Promise((n,r)=>{try{let r=e(t);n(r)}catch(e){r(e)}});n.onAbort=t,this.queue.push(n);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){for(let e of(t.reverse(),t))try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==e?void 0:e.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rL(e,t={}){return n0(e,"GET","/v2/passwordPolicy",nZ(e,t))}class rD{constructor(e){var t,n,r,i;let a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=a.minPasswordLength)&&void 0!==t?t:6,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),void 0!==a.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),void 0!==a.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),void 0!==a.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),void 0!==a.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,a,s;let o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(a=o.containsNumericCharacter)||void 0===a||a),o.isValid&&(o.isValid=null===(s=o.containsNonAlphanumericCharacter)||void 0===s||s),o}validatePasswordLengthOptions(e,t){let n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rU(this),this.idTokenSubscription=new rU(this),this.beforeStateQueue=new rO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=rv(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await rE.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(this.currentUser||e){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await re(this,{idToken:e}),n=await rg._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ny(this.app)){let e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}let n=await this.assertedPersistence.getCurrentUser(),r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,a=null==r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);(!n||n===a)&&(null==s?void 0:s.user)&&(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(e){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return(nq(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId)?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ru(e)}catch(e){if((null==e?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ny(this.app))return Promise.reject(nB(this));let t=e?tH(e):null;return t&&nq(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&nq(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ny(this.app)?Promise.reject(nB(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ny(this.app)?Promise.reject(nB(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rv(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=new rD(await rL(this));null===this.tenantId?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new tM("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await rd(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){let n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&rv(e)||this._popupRedirectResolver;nq(t,this,"argument-error"),this.redirectPersistenceManager=await rE.create(this,[rv(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return(this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e)?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};let i="function"==typeof t?t:t.next.bind(t),a=!1,s=this._isInitialized?Promise.resolve():this._initializationPromise;if(nq(s,this,"internal-error"),s.then(()=>{a||i(this.currentUser)}),"function"==typeof t){let i=e.addObserver(t,n,r);return()=>{a=!0,i()}}{let n=e.addObserver(t);return()=>{a=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return nq(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let n=await (null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);let r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;let t=await (null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){nU.logLevel<=u.WARN&&nU.warn(`Auth (${nw}): ${e}`,...t)}(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}class rU{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){let n=new t$(e,void 0);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return nq(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rF={async loadJS(){throw Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rV(e){return`__${e}${Math.floor(1e6*Math.random())}`}class rj{constructor(){this.enterprise=new rz}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class rz{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const rB="NO_RECAPTCHA";class r${constructor(e){this.type="recaptcha-enterprise",this.auth=tH(e)}async verify(e="verify",t=!1){async function n(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{n9(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0===r.recaptchaKey)n(Error("recaptcha Enterprise site key undefined"));else{let n=new n8(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}}).catch(e=>{n(e)})})}function r(t,n,r){let i=window.grecaptcha;n5(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(rB)})}):r(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new rj().execute("siteKey",{action:"verify"}):new Promise((e,i)=>{n(this.auth).then(n=>{if(!t&&n5(window.grecaptcha))r(n,e,i);else{var a;if("undefined"==typeof window){i(Error("RecaptchaVerifier is only supported in browser"));return}let t=rF.recaptchaEnterpriseScript;0!==t.length&&(t+=n),(a=t,rF.loadJS(a)).then(()=>{r(n,e,i)}).catch(e=>{i(e)})}}).catch(e=>{i(e)})})}}async function rq(e,t,n,r=!1,i=!1){let a;let s=new r$(e);if(i)a=rB;else try{a=await s.verify(n)}catch(e){a=await s.verify(n,!0)}let o=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){let e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){let e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function rH(e,t,n,r,i){var a,s;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(a=e._getRecaptchaConfig())||void 0===a||!a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER"))return r(e,t).catch(async i=>{if("auth/missing-recaptcha-token"!==i.code)return Promise.reject(i);{console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let i=await rq(e,t,n,"getOobCode"===n);return r(e,i)}});{let i=await rq(e,t,n,"getOobCode"===n);return r(e,i)}}if("PHONE_PROVIDER"!==i)return Promise.reject(i+" provider is not supported.");if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("PHONE_PROVIDER")){let i=await rq(e,t,n);return r(e,i).catch(async i=>{var a;if((null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let i=await rq(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{let i=await rq(e,t,n,!1,!0);return r(e,i)}}async function rW(e){let t=tH(e),n=new n8(await n9(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}));null==t.tenantId?t._agentRecaptchaConfig=n:t._tenantRecaptchaConfigs[t.tenantId]=n,n.isAnyProviderEnabled()&&new r$(t).verify()}function rK(e){let t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function rG(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rQ{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return nH("not implemented")}_getIdTokenResponse(e){return nH("not implemented")}_linkToIdToken(e,t){return nH("not implemented")}_getReauthenticationResolver(e){return nH("not implemented")}}async function rY(e,t){return n0(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rJ(e,t){return n2(e,"POST","/v1/accounts:signInWithPassword",nZ(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rX(e,t){return n2(e,"POST","/v1/accounts:signInWithEmailLink",nZ(e,t))}async function rZ(e,t){return n2(e,"POST","/v1/accounts:signInWithEmailLink",nZ(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0 extends rQ{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new r0(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new r0(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return rH(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",rJ,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return rX(e,{email:this._email,oobCode:this._password});default:nV(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return rH(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",rY,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return rZ(e,{idToken:t,email:this._email,oobCode:this._password});default:nV(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r1(e,t){return n2(e,"POST","/v1/accounts:signInWithIdp",nZ(e,t))}class r2 extends rQ{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new r2(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):nV("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=nL(t,["providerId","signInMethod"]);if(!n||!r)return null;let a=new r2(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return r1(e,this.buildRequest())}_linkToIdToken(e,t){let n=this.buildRequest();return n.idToken=t,r1(e,n)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,r1(e,t)}buildRequest(){let e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=tj(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r3(e,t){return n0(e,"POST","/v1/accounts:sendVerificationCode",nZ(e,t))}async function r4(e,t){return n2(e,"POST","/v1/accounts:signInWithPhoneNumber",nZ(e,t))}async function r6(e,t){let n=await n2(e,"POST","/v1/accounts:signInWithPhoneNumber",nZ(e,t));if(n.temporaryProof)throw n6(e,"account-exists-with-different-credential",n);return n}const r5={USER_NOT_FOUND:"user-not-found"};async function r8(e,t){return n2(e,"POST","/v1/accounts:signInWithPhoneNumber",nZ(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),r5)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r9 extends rQ{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new r9({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new r9({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return r4(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return r6(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return r8(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));let{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new r9({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class r7{constructor(e){var t,n,r,i,a,s;let o=tz(tB(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,u=null!==(n=o.oobCode)&&void 0!==n?n:null,c=/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);nq(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(a=o.languageCode)&&void 0!==a?a:null,this.tenantId=null!==(s=o.tenantId)&&void 0!==s?s:null}static parseLink(e){let t=function(e){let t=tz(tB(e)).link,n=t?tz(tB(t)).deep_link_id:null,r=tz(tB(e)).deep_link_id;return(r?tz(tB(r)).link:null)||r||n||t||e}(e);try{return new r7(t)}catch(e){return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(){this.providerId=ie.PROVIDER_ID}static credential(e,t){return r0._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){let n=r7.parseLink(t);return nq(n,"argument-error"),r0._fromEmailAndCode(e,n.code,n.tenantId)}}ie.PROVIDER_ID="password",ie.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ie.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir extends it{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii extends ir{constructor(){super("facebook.com")}static credential(e){return r2._fromParams({providerId:ii.PROVIDER_ID,signInMethod:ii.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ii.credentialFromTaggedObject(e)}static credentialFromError(e){return ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ii.credential(e.oauthAccessToken)}catch(e){return null}}}ii.FACEBOOK_SIGN_IN_METHOD="facebook.com",ii.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia extends ir{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return r2._fromParams({providerId:ia.PROVIDER_ID,signInMethod:ia.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ia.credentialFromTaggedObject(e)}static credentialFromError(e){return ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return ia.credential(t,n)}catch(e){return null}}}ia.GOOGLE_SIGN_IN_METHOD="google.com",ia.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends ir{constructor(){super("github.com")}static credential(e){return r2._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch(e){return null}}}is.GITHUB_SIGN_IN_METHOD="github.com",is.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends ir{constructor(){super("twitter.com")}static credential(e,t){return r2._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return io.credential(t,n)}catch(e){return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function il(e,t){return n2(e,"POST","/v1/accounts:signUp",nZ(e,t))}io.TWITTER_SIGN_IN_METHOD="twitter.com",io.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){return new iu({user:await rg._fromIdTokenResponse(e,n,r),providerId:ic(n),_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){return await e._updateTokensIfNecessary(n,!0),new iu({user:e,providerId:ic(n),_tokenResponse:n,operationType:t})}}function ic(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih extends tD{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,ih.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new ih(e,t,n,r)}}function id(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw ih._fromErrorAndOperation(e,n,t,r);throw n})}async function ip(e,t,n=!1){let r=await rs(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return iu._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function im(e,t,n=!1){let{auth:r}=e;if(ny(r.app))return Promise.reject(nB(r));let i="reauthenticate";try{let a=await rs(e,id(r,i,t,e),n);nq(a.idToken,r,"internal-error");let s=ri(a.idToken);nq(s,r,"internal-error");let{sub:o}=s;return nq(e.uid===o,r,"user-mismatch"),iu._forOperation(e,i,a)}catch(e){throw(null==e?void 0:e.code)==="auth/user-not-found"&&nV(r,"user-mismatch"),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ig(e,t,n=!1){if(ny(e.app))return Promise.reject(nB(e));let r="signIn",i=await id(e,r,t),a=await iu._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}async function iy(e,t){return ig(tH(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iv(e){let t=tH(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function ib(e,t,n){if(ny(e.app))return Promise.reject(nB(e));let r=tH(e),i=rH(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",il,"EMAIL_PASSWORD_PROVIDER"),a=await i.catch(t=>{throw"auth/password-does-not-meet-requirements"===t.code&&iv(e),t}),s=await iu._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(e,t){return n0(e,"POST","/v2/accounts/mfaEnrollment:start",nZ(e,t))}new WeakMap;const iE="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{if(!this.storage)return Promise.resolve(!1);return this.storage.setItem(iE,"1"),this.storage.removeItem(iE),Promise.resolve(!0)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class i_ extends iS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let t of Object.keys(this.listeners)){let n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});return}let n=e.key;t?this.detachListener():this.stopPolling();let r=()=>{let e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);(function(){let e=tL();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0})()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){let t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}i_.type="LOCAL";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik extends iS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ik.type="SESSION";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;let n=new iT(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){let{eventId:t,eventType:n,data:r}=e.data,i=this.handlersMap[n];if(!(null==i?void 0:i.size))return;e.ports[0].postMessage({status:"ack",eventId:t,eventType:n});let a=Array.from(i).map(async t=>t(e.origin,r)),s=await Promise.all(a.map(async e=>{try{let t=await e;return{fulfilled:!0,value:t}}catch(e){return{fulfilled:!1,reason:e}}}));e.ports[0].postMessage({status:"done",eventId:t,eventType:n,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}iT.receivers=[];/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){let r,i;let a="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!a)throw Error("connection_unavailable");return new Promise((s,o)=>{let l=ix("",20);a.port1.start();let u=setTimeout(()=>{o(Error("unsupported_event"))},n);i={messageChannel:a,onMessage(e){if(e.data.eventId===l)switch(e.data.status){case"ack":clearTimeout(u),r=setTimeout(()=>{o(Error("timeout"))},3e3);break;case"done":clearTimeout(r),s(e.data.response);break;default:clearTimeout(u),clearTimeout(r),o(Error("invalid_response"))}}},this.handlers.add(i),a.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[a.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(){return window}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(){return void 0!==iC().WorkerGlobalScope&&"function"==typeof iC().importScripts}async function iA(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR="firebaseLocalStorageDb",iP="firebaseLocalStorage",iO="fbase_key";class iL{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function iD(e,t){return e.transaction([iP],t?"readwrite":"readonly").objectStore(iP)}function iM(){let e=indexedDB.open(iR,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{let t=e.result;try{t.createObjectStore(iP,{keyPath:iO})}catch(e){n(e)}}),e.addEventListener("success",async()=>{let n=e.result;n.objectStoreNames.contains(iP)?t(n):(n.close(),await new iL(indexedDB.deleteDatabase(iR)).toPromise(),t(await iM()))})})}async function iU(e,t,n){return new iL(iD(e,!0).put({[iO]:t,value:n})).toPromise()}async function iF(e,t){let n=iD(e,!1).get(t),r=await new iL(n).toPromise();return void 0===r?null:r.value}function iV(e,t){return new iL(iD(e,!0).delete(t)).toPromise()}class ij{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await iM()),this.db}async _withRetries(e){let t=0;for(;;)try{let t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=iT._getInstance(iN()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await iA(),!this.activeServiceWorker)return;this.sender=new iI(this.activeServiceWorker);let n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null==navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;let e=await iM();return await iU(e,iE,"1"),await iV(e,iE),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>iU(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){let t=await this._withRetries(t=>iF(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>iV(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){let e=await this._withRetries(e=>new iL(iD(e,!1).getAll()).toPromise());if(!e||0!==this.pendingWrites)return[];let t=[],n=new Set;if(0!==e.length)for(let{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(let e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iz(e,t){return n0(e,"POST","/v2/accounts/mfaSignIn:start",nZ(e,t))}ij.type="LOCAL",rV("rcb"),new nG(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iB="recaptcha";async function i$(e,t,n){var r;if(!e._getRecaptchaConfig())try{await rW(e)}catch(e){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"==typeof t?{phoneNumber:t}:t,"session"in i){let t=i.session;if("phoneNumber"in i){nq("enroll"===t.type,e,"internal-error");let r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},a=async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===rB){nq((null==n?void 0:n.type)===iB,e,"argument-error");let r=await iq(e,t,n);return iw(e,r)}return iw(e,t)},s=rH(e,r,"mfaSmsEnrollment",a,"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{nq("signin"===t.type,e,"internal-error");let a=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;nq(a,e,"missing-multi-factor-info");let s={mfaPendingCredential:t.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===rB){nq((null==n?void 0:n.type)===iB,e,"argument-error");let r=await iq(e,t,n);return iz(e,r)}return iz(e,t)},l=rH(e,s,"mfaSmsSignIn",o,"PHONE_PROVIDER");return(await l.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{let t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=async(e,t)=>{if(t.captchaResponse===rB){nq((null==n?void 0:n.type)===iB,e,"argument-error");let r=await iq(e,t,n);return r3(e,r)}return r3(e,t)},a=rH(e,t,"sendVerificationCode",r,"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).sessionInfo}}finally{null==n||n._reset()}}async function iq(e,t,n){nq(n.type===iB,e,"argument-error");let r=await n.verify();nq("string"==typeof r,e,"argument-error");let i=Object.assign({},t);if("phoneEnrollmentInfo"in i){let e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,a=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:a}}),i}if(!("phoneSignInInfo"in i))return Object.assign(i,{recaptchaToken:r}),i;{let e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iH{constructor(e){this.providerId=iH.PROVIDER_ID,this.auth=tH(e)}verifyPhoneNumber(e,t){return i$(this.auth,e,tH(t))}static credential(e,t){return r9._fromVerification(e,t)}static credentialFromResult(e){return iH.credentialFromTaggedObject(e)}static credentialFromError(e){return iH.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{phoneNumber:t,temporaryProof:n}=e;return t&&n?r9._fromTokenResponse(t,n):null}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iW(e,t){return t?rv(t):(nq(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}iH.PROVIDER_ID="phone",iH.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iK extends rQ{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return r1(e,this._buildIdpRequest())}_linkToIdToken(e,t){return r1(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return r1(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function iG(e){return ig(e.auth,new iK(e),e.bypassAuthState)}function iQ(e){let{auth:t,user:n}=e;return nq(n,t,"internal-error"),im(n,new iK(e),e.bypassAuthState)}async function iY(e){let{auth:t,user:n}=e;return nq(n,t,"internal-error"),ip(n,new iK(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iJ{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:s}=e;if(a){this.reject(a);return}let o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(o))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iG;case"linkViaPopup":case"linkViaRedirect":return iY;case"reauthViaPopup":case"reauthViaRedirect":return iQ;default:nV(this.auth,"internal-error")}}resolve(e){var t,n;t=this.pendingPromise,n="Pending promise was never set",t||nH(n),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){var t,n;t=this.pendingPromise,n="Pending promise was never set",t||nH(n),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iX=new nG(2e3,1e4);async function iZ(e,t,n){if(ny(e.app))return Promise.reject(nj(e,"operation-not-supported-in-this-environment"));let r=tH(e);!function(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&nV(e,"argument-error"),nz(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(e,t,it);let i=iW(r,n);return new i0(r,"signInViaPopup",t,i).executeNotNull()}class i0 extends iJ{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,i0.currentPopupAction&&i0.currentPopupAction.cancel(),i0.currentPopupAction=this}async executeNotNull(){let e=await this.execute();return nq(e,this.auth,"internal-error"),e}async onExecution(){var e,t;e=1===this.filter.length,t="Popup operations only handle one event",e||nH(t);let n=ix();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(nj(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(nj(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,i0.currentPopupAction=null}pollUserCancellation(){let e=()=>{var t,n;if(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(nj(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,iX.get())};e()}}i0.currentPopupAction=null;const i1=new Map;class i2 extends iJ{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=i1.get(this.auth._key());if(!e){try{let t=await i3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}i1.set(this.auth._key(),e)}return this.bypassAuthState||i1.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"===e.type){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function i3(e,t){let n=rw("pendingRedirect",t.config.apiKey,t.name),r=rv(e._redirectPersistence);if(!await r._isAvailable())return!1;let i=await r._get(n)==="true";return await r._remove(n),i}function i4(e,t){i1.set(e._key(),t)}async function i6(e,t,n=!1){if(ny(e.app))return Promise.reject(nB(e));let r=tH(e),i=iW(r,t),a=new i2(r,i,n),s=await a.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class i5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return i9(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!i9(e)){let r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(nj(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(i8(e))}saveEventToCache(e){this.cachedEventUids.add(i8(e)),this.lastProcessedEventTime=Date.now()}}function i8(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function i9({type:e,error:t}){return"unknown"===e&&(null==t?void 0:t.code)==="auth/no-auth-event"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i7(e,t={}){return n0(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,at=/^https?/;async function an(e){if(e.config.emulator)return;let{authorizedDomains:t}=await i7(e);for(let e of t)try{if(function(e){let t=nW(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){let i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!at.test(n))return!1;if(ae.test(e))return r===e;let i=e.replace(/\./g,"\\.");return RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}(e))return}catch(e){}nV(e,"unauthorized-domain")}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar=new nG(3e4,6e4);function ai(){let e=iC().___jsl;if(null==e?void 0:e.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}}let aa=null;/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as=new nG(5e3,15e3),ao={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},al=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);async function au(e){let t=await (aa=aa||new Promise((t,n)=>{var r,i,a,s;function o(){ai(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ai(),n(nj(e,"network-request-failed"))},timeout:ar.get()})}if(null===(i=null===(r=iC().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else if(null===(a=iC().gapi)||void 0===a?void 0:a.load)o();else{let t=rV("iframefcb");return iC()[t]=()=>{gapi.load?o():n(nj(e,"network-request-failed"))},(s=`${rF.gapiScript}?onload=${t}`,rF.loadJS(s)).catch(e=>n(e))}}).catch(e=>{throw aa=null,e})),n=iC().gapi;return nq(n,e,"internal-error"),t.open({where:document.body,url:function(e){let t=e.config;nq(t.authDomain,e,"auth-domain-config-required");let n=t.emulator?nQ(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:nw},i=al.get(e.config.apiHost);i&&(r.eid=i);let a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${tj(r).slice(1)}`}(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ao,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});let i=nj(e,"network-request-failed"),a=iC().setTimeout(()=>{r(i)},as.get());function s(){iC().clearTimeout(a),n(t)}t.ping(s).then(s,()=>{r(i)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ah{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}const af=encodeURIComponent("fac");async function ad(e,t,n,r,i,a){nq(e.config.authDomain,e,"auth-domain-config-required"),nq(e.config.apiKey,e,"invalid-api-key");let s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:nw,eventId:i};if(t instanceof it)for(let[n,r]of(t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",!function(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())&&(s.customParameters=JSON.stringify(t.getCustomParameters())),Object.entries(a||{})))s[n]=r;if(t instanceof ir){let e=t.getScopes().filter(e=>""!==e);e.length>0&&(s.scopes=e.join(","))}for(let t of(e.tenantId&&(s.tid=e.tenantId),Object.keys(s)))void 0===s[t]&&delete s[t];let o=await e._getAppCheckToken(),l=o?`#${af}=${encodeURIComponent(o)}`:"";return`${function({config:e}){return e.emulator?nQ(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${tj(s).slice(1)}${l}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap="webStorageSupport",am=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ik,this._completeRedirectFn=i6,this._overrideRedirectResult=i4}async _openPopup(e,t,n,r){var i,a,s;a=null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,s="_initialize() not called before _openPopup()",a||nH(s);let o=await ad(e,t,n,nW(),r);return function(e,t,n,r=500,i=600){let a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),o="",l=Object.assign(Object.assign({},ac),{width:r.toString(),height:i.toString(),top:a,left:s}),u=tL().toLowerCase();n&&(o=rT(u)?"_blank":n),r_(u)&&(t=t||"http://localhost",l.scrollbars="yes");let c=Object.entries(l).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=tL()){var t;return rA(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(u)&&"_self"!==o)return function(e,t){let n=document.createElement("a");n.href=e,n.target=t;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new ah(null);let h=window.open(t||"",o,c);nq(h,e,"popup-blocked");try{h.focus()}catch(e){}return new ah(h)}(e,o,ix())}async _openRedirect(e,t,n,r){var i;return await this._originValidation(e),i=await ad(e,t,n,nW(),r),iC().location.href=i,new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){var n;let{manager:e,promise:r}=this.eventManagers[t];return e?Promise.resolve(e):(n="If manager is not set, promise should be",r||nH(n),r)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){let t=await au(e),n=new i5(e);return t.register("authEvent",t=>(nq(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ap,{type:ap},n=>{var r;let i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r[ap];void 0!==i&&t(!!i),nV(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=an(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return rR()||rk()||rA()}};class ag{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return nH("unexpected MultiFactorSessionType")}}}class ay extends ag{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new ay(e)}_finalizeEnroll(e,t,n){return n0(e,"POST","/v2/accounts/mfaEnrollment:finalize",nZ(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()}))}_finalizeSignIn(e,t){return n0(e,"POST","/v2/accounts/mfaSignIn:finalize",nZ(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()}))}}class av extends ag{constructor(e,t,n){super("totp"),this.otp=e,this.enrollmentId=t,this.secret=n}static _fromSecret(e,t){return new av(t,void 0,e)}static _fromEnrollmentId(e,t){return new av(t,e)}async _finalizeEnroll(e,t,n){return nq(void 0!==this.secret,e,"argument-error"),n0(e,"POST","/v2/accounts/mfaEnrollment:finalize",nZ(e,{idToken:t,displayName:n,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}))}async _finalizeSignIn(e,t){nq(void 0!==this.enrollmentId&&void 0!==this.otp,e,"argument-error");let n={verificationCode:this.otp};return n0(e,"POST","/v2/accounts/mfaSignIn:finalize",nZ(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:n}))}}class ab{constructor(e,t,n,r,i,a,s){this.sessionInfo=a,this.auth=s,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=n,this.codeIntervalSeconds=r,this.enrollmentCompletionDeadline=i}static _fromStartTotpMfaEnrollmentResponse(e,t){return new ab(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,t)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){var n;let r=!1;return(aw(e)||aw(t))&&(r=!0),r&&(aw(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),aw(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function aw(e){return void 0===e||(null==e?void 0:e.length)===0}var aE="@firebase/auth",aS="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return(this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser)?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){nq(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ak=tP("authIdTokenMaxAge")||300;let aT=null;const ax=e=>async t=>{let n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ak)return;let i=null==n?void 0:n.token;aT!==i&&(aT=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};rF={loadJS:e=>new Promise((t,n)=>{var r,i;let a=document.createElement("script");a.setAttribute("src",e),a.onload=t,a.onerror=e=>{let t=nj("internal-error");t.customData=e,n(t)},a.type="text/javascript",a.charset="UTF-8",(null!==(i=null===(r=document.getElementsByTagName("head"))||void 0===r?void 0:r[0])&&void 0!==i?i:document).appendChild(a)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},l="Browser",nm(new tW("auth",(e,{options:t})=>{let n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=n.options;nq(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});let o=new rM(n,r,i,{apiKey:a,authDomain:s,clientPlatform:l,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rP(l)});return function(e,t){let n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(rv);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(o,t),o},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),nm(new tW("auth-internal",e=>new a_(tH(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),n_(aE,aS,/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(l)),n_(aE,aS,"esm2017");var aI="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==C?C:"undefined"!=typeof self?self:{},aC={};(function(){function e(){this.blockSize=-1,this.blockSize=64,this.g=[,,,,],this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function t(e,t,n){n||(n=0);var r=Array(16);if("string"==typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],s=t+(a^n&(i^a))+r[0]+0xd76aa478&0xffffffff;s=a+(i^(t=n+(s<<7&0xffffffff|s>>>25))&(n^i))+r[1]+0xe8c7b756&0xffffffff,s=i+(n^(a=t+(s<<12&0xffffffff|s>>>20))&(t^n))+r[2]+0x242070db&0xffffffff,s=n+(t^(i=a+(s<<17&0xffffffff|s>>>15))&(a^t))+r[3]+0xc1bdceee&0xffffffff,s=t+(a^(n=i+(s<<22&0xffffffff|s>>>10))&(i^a))+r[4]+0xf57c0faf&0xffffffff,s=a+(i^(t=n+(s<<7&0xffffffff|s>>>25))&(n^i))+r[5]+0x4787c62a&0xffffffff,s=i+(n^(a=t+(s<<12&0xffffffff|s>>>20))&(t^n))+r[6]+0xa8304613&0xffffffff,s=n+(t^(i=a+(s<<17&0xffffffff|s>>>15))&(a^t))+r[7]+0xfd469501&0xffffffff,s=t+(a^(n=i+(s<<22&0xffffffff|s>>>10))&(i^a))+r[8]+0x698098d8&0xffffffff,s=a+(i^(t=n+(s<<7&0xffffffff|s>>>25))&(n^i))+r[9]+0x8b44f7af&0xffffffff,s=i+(n^(a=t+(s<<12&0xffffffff|s>>>20))&(t^n))+r[10]+0xffff5bb1&0xffffffff,s=n+(t^(i=a+(s<<17&0xffffffff|s>>>15))&(a^t))+r[11]+0x895cd7be&0xffffffff,s=t+(a^(n=i+(s<<22&0xffffffff|s>>>10))&(i^a))+r[12]+0x6b901122&0xffffffff,s=a+(i^(t=n+(s<<7&0xffffffff|s>>>25))&(n^i))+r[13]+0xfd987193&0xffffffff,s=i+(n^(a=t+(s<<12&0xffffffff|s>>>20))&(t^n))+r[14]+0xa679438e&0xffffffff,s=n+(t^(i=a+(s<<17&0xffffffff|s>>>15))&(a^t))+r[15]+0x49b40821&0xffffffff,n=i+(s<<22&0xffffffff|s>>>10),s=t+(i^a&(n^i))+r[1]+0xf61e2562&0xffffffff,t=n+(s<<5&0xffffffff|s>>>27),s=a+(n^i&(t^n))+r[6]+0xc040b340&0xffffffff,a=t+(s<<9&0xffffffff|s>>>23),s=i+(t^n&(a^t))+r[11]+0x265e5a51&0xffffffff,i=a+(s<<14&0xffffffff|s>>>18),s=n+(a^t&(i^a))+r[0]+0xe9b6c7aa&0xffffffff,n=i+(s<<20&0xffffffff|s>>>12),s=t+(i^a&(n^i))+r[5]+0xd62f105d&0xffffffff,t=n+(s<<5&0xffffffff|s>>>27),s=a+(n^i&(t^n))+r[10]+0x2441453&0xffffffff,a=t+(s<<9&0xffffffff|s>>>23),s=i+(t^n&(a^t))+r[15]+0xd8a1e681&0xffffffff,i=a+(s<<14&0xffffffff|s>>>18),s=n+(a^t&(i^a))+r[4]+0xe7d3fbc8&0xffffffff,n=i+(s<<20&0xffffffff|s>>>12),s=t+(i^a&(n^i))+r[9]+0x21e1cde6&0xffffffff,t=n+(s<<5&0xffffffff|s>>>27),s=a+(n^i&(t^n))+r[14]+0xc33707d6&0xffffffff,a=t+(s<<9&0xffffffff|s>>>23),s=i+(t^n&(a^t))+r[3]+0xf4d50d87&0xffffffff,i=a+(s<<14&0xffffffff|s>>>18),s=n+(a^t&(i^a))+r[8]+0x455a14ed&0xffffffff,n=i+(s<<20&0xffffffff|s>>>12),s=t+(i^a&(n^i))+r[13]+0xa9e3e905&0xffffffff,t=n+(s<<5&0xffffffff|s>>>27),s=a+(n^i&(t^n))+r[2]+0xfcefa3f8&0xffffffff,a=t+(s<<9&0xffffffff|s>>>23),s=i+(t^n&(a^t))+r[7]+0x676f02d9&0xffffffff,i=a+(s<<14&0xffffffff|s>>>18),s=n+(a^t&(i^a))+r[12]+0x8d2a4c8a&0xffffffff,s=t+((n=i+(s<<20&0xffffffff|s>>>12))^i^a)+r[5]+0xfffa3942&0xffffffff,s=a+((t=n+(s<<4&0xffffffff|s>>>28))^n^i)+r[8]+0x8771f681&0xffffffff,s=i+((a=t+(s<<11&0xffffffff|s>>>21))^t^n)+r[11]+0x6d9d6122&0xffffffff,s=n+((i=a+(s<<16&0xffffffff|s>>>16))^a^t)+r[14]+0xfde5380c&0xffffffff,s=t+((n=i+(s<<23&0xffffffff|s>>>9))^i^a)+r[1]+0xa4beea44&0xffffffff,s=a+((t=n+(s<<4&0xffffffff|s>>>28))^n^i)+r[4]+0x4bdecfa9&0xffffffff,s=i+((a=t+(s<<11&0xffffffff|s>>>21))^t^n)+r[7]+0xf6bb4b60&0xffffffff,s=n+((i=a+(s<<16&0xffffffff|s>>>16))^a^t)+r[10]+0xbebfbc70&0xffffffff,s=t+((n=i+(s<<23&0xffffffff|s>>>9))^i^a)+r[13]+0x289b7ec6&0xffffffff,s=a+((t=n+(s<<4&0xffffffff|s>>>28))^n^i)+r[0]+0xeaa127fa&0xffffffff,s=i+((a=t+(s<<11&0xffffffff|s>>>21))^t^n)+r[3]+0xd4ef3085&0xffffffff,s=n+((i=a+(s<<16&0xffffffff|s>>>16))^a^t)+r[6]+0x4881d05&0xffffffff,s=t+((n=i+(s<<23&0xffffffff|s>>>9))^i^a)+r[9]+0xd9d4d039&0xffffffff,s=a+((t=n+(s<<4&0xffffffff|s>>>28))^n^i)+r[12]+0xe6db99e5&0xffffffff,s=i+((a=t+(s<<11&0xffffffff|s>>>21))^t^n)+r[15]+0x1fa27cf8&0xffffffff,s=n+((i=a+(s<<16&0xffffffff|s>>>16))^a^t)+r[2]+0xc4ac5665&0xffffffff,n=i+(s<<23&0xffffffff|s>>>9),s=t+(i^(n|~a))+r[0]+0xf4292244&0xffffffff,t=n+(s<<6&0xffffffff|s>>>26),s=a+(n^(t|~i))+r[7]+0x432aff97&0xffffffff,a=t+(s<<10&0xffffffff|s>>>22),s=i+(t^(a|~n))+r[14]+0xab9423a7&0xffffffff,i=a+(s<<15&0xffffffff|s>>>17),s=n+(a^(i|~t))+r[5]+0xfc93a039&0xffffffff,n=i+(s<<21&0xffffffff|s>>>11),s=t+(i^(n|~a))+r[12]+0x655b59c3&0xffffffff,t=n+(s<<6&0xffffffff|s>>>26),s=a+(n^(t|~i))+r[3]+0x8f0ccc92&0xffffffff,a=t+(s<<10&0xffffffff|s>>>22),s=i+(t^(a|~n))+r[10]+0xffeff47d&0xffffffff,i=a+(s<<15&0xffffffff|s>>>17),s=n+(a^(i|~t))+r[1]+0x85845dd1&0xffffffff,n=i+(s<<21&0xffffffff|s>>>11),s=t+(i^(n|~a))+r[8]+0x6fa87e4f&0xffffffff,t=n+(s<<6&0xffffffff|s>>>26),s=a+(n^(t|~i))+r[15]+0xfe2ce6e0&0xffffffff,a=t+(s<<10&0xffffffff|s>>>22),s=i+(t^(a|~n))+r[6]+0xa3014314&0xffffffff,i=a+(s<<15&0xffffffff|s>>>17),s=n+(a^(i|~t))+r[13]+0x4e0811a1&0xffffffff,n=i+(s<<21&0xffffffff|s>>>11),s=t+(i^(n|~a))+r[4]+0xf7537e82&0xffffffff,t=n+(s<<6&0xffffffff|s>>>26),s=a+(n^(t|~i))+r[11]+0xbd3af235&0xffffffff,a=t+(s<<10&0xffffffff|s>>>22),s=i+(t^(a|~n))+r[2]+0x2ad7d2bb&0xffffffff,i=a+(s<<15&0xffffffff|s>>>17),s=n+(a^(i|~t))+r[9]+0xeb86d391&0xffffffff,e.g[0]=e.g[0]+t&0xffffffff,e.g[1]=e.g[1]+(i+(s<<21&0xffffffff|s>>>11))&0xffffffff,e.g[2]=e.g[2]+i&0xffffffff,e.g[3]=e.g[3]+a&0xffffffff}function n(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}(e,function(){this.blockSize=-1}),e.prototype.s=function(){this.g[0]=0x67452301,this.g[1]=0xefcdab89,this.g[2]=0x98badcfe,this.g[3]=0x10325476,this.o=this.h=0},e.prototype.u=function(e,n){void 0===n&&(n=e.length);for(var r=n-this.blockSize,i=this.B,a=this.h,s=0;s<n;){if(0==a)for(;s<=r;)t(this,e,s),s+=this.blockSize;if("string"==typeof e){for(;s<n;)if(i[a++]=e.charCodeAt(s++),a==this.blockSize){t(this,i),a=0;break}}else for(;s<n;)if(i[a++]=e[s++],a==this.blockSize){t(this,i),a=0;break}}this.h=a,this.o+=n},e.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var r,i={};function a(e){var t;return -128<=e&&128>e?(t=function(e){return new n([0|e],0>e?-1:0)},Object.prototype.hasOwnProperty.call(i,e)?i[e]:i[e]=t(e)):new n([0|e],0>e?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return p(s(-e));for(var t=[],r=1,i=0;e>=r;i++)t[i]=e/r|0,r*=0x100000000;return new n(t,0)}var o=a(0),l=a(1),u=a(0x1000000);function f(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return -1==e.h}function p(e){for(var t=e.g.length,r=[],i=0;i<t;i++)r[i]=~e.g[i];return new n(r,~e.h).add(l)}function m(e,t){return e.add(p(t))}function g(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function y(e,t){this.g=e,this.h=t}function v(e,t){if(f(t))throw Error("division by zero");if(f(e))return new y(o,o);if(d(e))return t=v(p(e),t),new y(p(t.g),p(t.h));if(d(t))return t=v(e,p(t)),new y(p(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=b(n),r=b(r);var i=w(n,1),a=w(r,1);for(r=w(r,2),n=w(n,2);!f(r);){var u=a.add(r);0>=u.l(e)&&(i=i.add(n),a=u),r=w(r,1),n=w(n,1)}return t=m(e,i.j(t)),new y(i,t)}for(i=o;0<=e.l(t);){for(r=48>=(r=Math.ceil(Math.log(n=Math.max(1,Math.floor(e.m()/t.m())))/Math.LN2))?1:Math.pow(2,r-48),u=(a=s(n)).j(t);d(u)||0<u.l(e);)n-=r,u=(a=s(n)).j(t);f(a)&&(a=l),i=i.add(a),e=m(e,u)}return new y(i,e)}function b(e){for(var t=e.g.length+1,r=[],i=0;i<t;i++)r[i]=e.i(i)<<1|e.i(i-1)>>>31;return new n(r,e.h)}function w(e,t){var r=t>>5;t%=32;for(var i=e.g.length-r,a=[],s=0;s<i;s++)a[s]=0<t?e.i(s+r)>>>t|e.i(s+r+1)<<32-t:e.i(s+r);return new n(a,e.h)}(r=n.prototype).m=function(){if(d(this))return-p(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:0x100000000+r)*t,t*=0x100000000}return e},r.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(f(this))return"0";if(d(this))return"-"+p(this).toString(e);for(var t=s(Math.pow(e,6)),n=this,r="";;){var i=v(n,t).g,a=((0<(n=m(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(f(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},r.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},r.l=function(e){return d(e=m(this,e))?-1:f(e)?0:1},r.abs=function(){return d(this)?p(this):this},r.add=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],i=0,a=0;a<=t;a++){var s=i+(65535&this.i(a))+(65535&e.i(a)),o=(s>>>16)+(this.i(a)>>>16)+(e.i(a)>>>16);i=o>>>16,s&=65535,o&=65535,r[a]=o<<16|s}return new n(r,-0x80000000&r[r.length-1]?-1:0)},r.j=function(e){if(f(this)||f(e))return o;if(d(this))return d(e)?p(this).j(p(e)):p(p(this).j(e));if(d(e))return p(this.j(p(e)));if(0>this.l(u)&&0>e.l(u))return s(this.m()*e.m());for(var t=this.g.length+e.g.length,r=[],i=0;i<2*t;i++)r[i]=0;for(i=0;i<this.g.length;i++)for(var a=0;a<e.g.length;a++){var l=this.i(i)>>>16,c=65535&this.i(i),h=e.i(a)>>>16,m=65535&e.i(a);r[2*i+2*a]+=c*m,g(r,2*i+2*a),r[2*i+2*a+1]+=l*m,g(r,2*i+2*a+1),r[2*i+2*a+1]+=c*h,g(r,2*i+2*a+1),r[2*i+2*a+2]+=l*h,g(r,2*i+2*a+2)}for(i=0;i<t;i++)r[i]=r[2*i+1]<<16|r[2*i];for(i=t;i<2*t;i++)r[i]=0;return new n(r,0)},r.A=function(e){return v(this,e).h},r.and=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],i=0;i<t;i++)r[i]=this.i(i)&e.i(i);return new n(r,this.h&e.h)},r.or=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],i=0;i<t;i++)r[i]=this.i(i)|e.i(i);return new n(r,this.h|e.h)},r.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],i=0;i<t;i++)r[i]=this.i(i)^e.i(i);return new n(r,this.h^e.h)},e.prototype.digest=e.prototype.v,e.prototype.reset=e.prototype.s,e.prototype.update=e.prototype.u,h=aC.Md5=e,n.prototype.add=n.prototype.add,n.prototype.multiply=n.prototype.j,n.prototype.modulo=n.prototype.A,n.prototype.compare=n.prototype.l,n.prototype.toNumber=n.prototype.m,n.prototype.toString=n.prototype.toString,n.prototype.getBits=n.prototype.i,n.fromNumber=s,n.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return p(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=s(Math.pow(n,8)),i=o,a=0;a<t.length;a+=8){var l=Math.min(8,t.length-a),u=parseInt(t.substring(a,a+l),n);8>l?(l=s(Math.pow(n,l)),i=i.j(l).add(s(u))):i=(i=i.j(r)).add(s(u))}return i},c=aC.Integer=n}).apply(void 0!==aI?aI:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var aN="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==C?C:"undefined"!=typeof self?self:{},aA={};(function(){var e,t,n,r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},i=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof aN&&aN];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,t){if(t)e:{var n=i;e=e.split(".");for(var a=0;a<e.length-1;a++){var s=e[a];if(!(s in n))break e;n=n[s]}(t=t(a=n[e=e[e.length-1]]))!=a&&null!=t&&r(n,e,{configurable:!0,writable:!0,value:t})}}("Array.prototype.values",function(e){return e||function(){var e,t,n,r,i;return e=this,t=function(e,t){return t},e instanceof String&&(e+=""),n=0,r=!1,(i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}})[Symbol.iterator]=function(){return i},i}});var a=a||{},s=this||self;function o(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function l(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function u(e,t,n){return e.call.apply(e.bind,arguments)}function c(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function h(e,t,n){return(h=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?u:c).apply(null,arguments)}function w(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function E(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function S(e){let t=e.length;if(0<t){let n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function _(e,t){for(let t=1;t<arguments.length;t++){let n=arguments[t];if(o(n)){let t=e.length||0,r=n.length||0;e.length=t+r;for(let i=0;i<r;i++)e[t+i]=n[i]}else e.push(n)}}function k(e){return/^[\s\xa0]*$/.test(e)}function T(){var e=s.navigator;return e&&(e=e.userAgent)?e:""}function x(e){return x[" "](e),e}x[" "]=function(){};var I=-1!=T().indexOf("Gecko")&&!(-1!=T().toLowerCase().indexOf("webkit")&&-1==T().indexOf("Edge"))&&!(-1!=T().indexOf("Trident")||-1!=T().indexOf("MSIE"))&&-1==T().indexOf("Edge");function C(e,t,n){for(let r in e)t.call(n,e[r],r,e)}function N(e){let t={};for(let n in e)t[n]=e[n];return t}let A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t])e[n]=r[n];for(let t=0;t<A.length;t++)n=A[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}var P=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new O,e=>e.reset());class O{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let L,D=!1,M=new class{constructor(){this.h=this.g=null}add(e,t){let n=P.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},U=()=>{let e=s.Promise.resolve(void 0);L=()=>{e.then(F)}};var F=()=>{let e;for(var t;e=null,M.g&&(e=M.g,M.g=M.g.next,M.g||(M.h=null),e.next=null),t=e;){try{t.h.call(t.g)}catch(e){!function(e){s.setTimeout(()=>{throw e},0)}(e)}P.j(t),100>P.h&&(P.h++,t.next=P.g,P.g=t)}D=!1};function V(){this.s=this.s,this.C=this.C}function j(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}V.prototype.s=!1,V.prototype.ma=function(){this.s||(this.s=!0,this.N())},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},j.prototype.h=function(){this.defaultPrevented=!0};var z=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{let e=()=>{};s.addEventListener("test",e,t),s.removeEventListener("test",e,t)}catch(e){}return e}();function B(e,t){if(j.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(I){e:{try{x(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:$[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&B.aa.h.call(this)}}E(B,j);var $={2:"touch",3:"pen",4:"mouse"};B.prototype.h=function(){B.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var q="closure_listenable_"+(1e6*Math.random()|0),H=0;function W(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++H,this.da=this.fa=!1}function K(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function G(e){this.src=e,this.g={},this.h=0}function Q(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Array.prototype.indexOf.call(i,t,void 0);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(K(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Y(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.da&&a.listener==t&&!!n==a.capture&&a.ha==r)return i}return -1}G.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var s=Y(e,t,r,i);return -1<s?(t=e[s],n||(t.fa=!1)):((t=new W(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var J="closure_lm_"+(1e6*Math.random()|0),X={};function Z(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var s=l(i)?!!i.capture:!!i,o=er(e);if(o||(e[J]=o=new G(e)),(n=o.add(t,n,r,s,a)).proxy)return n;if(r=function e(t){return en.call(e.src,e.listener,t)},n.proxy=r,r.src=e,r.listener=n,e.addEventListener)z||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(et(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function ee(e){if("number"!=typeof e&&e&&!e.da){var t=e.src;if(t&&t[q])Q(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(et(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=er(t))?(Q(n,e),0==n.h&&(n.src=null,t[J]=null)):K(e)}}}function et(e){return e in X?X[e]:X[e]="on"+e}function en(e,t){if(e.da)e=!0;else{t=new B(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&ee(e),e=n.call(r,t)}return e}function er(e){return(e=e[J])instanceof G?e:null}var ei="__closure_events_fn_"+(1e9*Math.random()>>>0);function ea(e){return"function"==typeof e?e:(e[ei]||(e[ei]=function(t){return e.handleEvent(t)}),e[ei])}function es(){V.call(this),this.i=new G(this),this.M=this,this.F=null}function eo(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"==typeof t)t=new j(t,e);else if(t instanceof j)t.target=t.target||e;else{var i=t;R(t=new j(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var s=t.g=n[a];i=el(s,r,!0,t)&&i}if(i=el(s=t.g=e,r,!0,t)&&i,i=el(s,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=el(s=t.g=n[a],r,!1,t)&&i}function el(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var s=t[a];if(s&&!s.da&&s.capture==n){var o=s.listener,l=s.ha||s.src;s.fa&&Q(e.i,s),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function eu(e,t,n){if("function"==typeof e)n&&(e=h(e,n));else if(e&&"function"==typeof e.handleEvent)e=h(e.handleEvent,e);else throw Error("Invalid listener argument");return 0x7fffffff<Number(t)?-1:s.setTimeout(e,t||0)}E(es,V),es.prototype[q]=!0,es.prototype.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,a){if(Array.isArray(n))for(var s=0;s<n.length;s++)e(t,n[s],r,i,a);else(i=l(i)?!!i.capture:!!i,r=ea(r),t&&t[q])?(t=t.i,(n=String(n).toString())in t.g&&-1<(r=Y(s=t.g[n],r,i,a))&&(K(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete t.g[n],t.h--))):t&&(t=er(t))&&(n=t.g[n.toString()],t=-1,n&&(t=Y(n,r,i,a)),(r=-1<t?n[t]:null)&&ee(r))}(this,e,t,n,r)},es.prototype.N=function(){if(es.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)K(n[r]);delete t.g[e],t.h--}}this.F=null},es.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},es.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ec extends V{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:function e(t){t.g=eu(()=>{t.g=null,t.i&&(t.i=!1,e(t))},t.l);let n=t.h;t.h=null,t.m.apply(null,n)}(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function eh(e){V.call(this),this.h=e,this.g={}}E(eh,V);var ef=[];function ed(e){C(e.g,function(e,t){this.g.hasOwnProperty(t)&&ee(e)},e),e.g={}}eh.prototype.N=function(){eh.aa.N.call(this),ed(this)},eh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ep=s.JSON.stringify,em=s.JSON.parse,eg=class{stringify(e){return s.JSON.stringify(e,void 0)}parse(e){return s.JSON.parse(e,void 0)}};function ey(){}function ev(e){return e.h||(e.h=e.i())}function eb(){}ey.prototype.h=null;var ew={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function eE(){j.call(this,"d")}function eS(){j.call(this,"c")}E(eE,j),E(eS,j);var e_={},ek=null;function eT(){return ek=ek||new es}function ex(e){j.call(this,e_.La,e)}function eI(e){let t=eT();eo(t,new ex(t))}function eC(e,t){j.call(this,e_.STAT_EVENT,e),this.stat=t}function eN(e){let t=eT();eo(t,new eC(t,e))}function eA(e,t){j.call(this,e_.Ma,e),this.size=t}function eR(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){e()},t)}function eP(){this.g=!0}function eO(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var s=1;s<i.length;s++)i[s]=""}}}}return ep(n)}catch(e){return t}}(e,n)+(r?" "+r:"")})}e_.La="serverreachability",E(ex,j),e_.STAT_EVENT="statevent",E(eC,j),e_.Ma="timingevent",E(eA,j),eP.prototype.xa=function(){this.g=!1},eP.prototype.info=function(){};var eL={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},eD={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function eM(){}function eU(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new eh(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new eF}function eF(){this.i=null,this.g="",this.h=!1}E(eM,ey),eM.prototype.g=function(){return new XMLHttpRequest},eM.prototype.i=function(){return{}},t=new eM;var eV={},ej={};function ez(e,t,n){e.L=1,e.v=tn(e8(t)),e.m=n,e.P=!0,eB(e,null)}function eB(e,t){e.F=Date.now(),eq(e),e.A=e8(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),tm(n.i,"t",r),e.C=0,n=e.j.J,e.h=new eF,e.g=t1(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ec(h(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ef[0]=i.toString()),i=ef);for(var a=0;a<i.length;a++){var s=function e(t,n,r,i,a){if(i&&i.once)return function e(t,n,r,i,a){if(Array.isArray(n)){for(var s=0;s<n.length;s++)e(t,n[s],r,i,a);return null}return r=ea(r),t&&t[q]?t.L(n,r,l(i)?!!i.capture:!!i,a):Z(t,n,r,!0,i,a)}(t,n,r,i,a);if(Array.isArray(n)){for(var s=0;s<n.length;s++)e(t,n[s],r,i,a);return null}return r=ea(r),t&&t[q]?t.K(n,r,l(i)?!!i.capture:!!i,a):Z(t,n,r,!1,i,a)}(n,i[a],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}t=e.H?N(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),eI(),function(e,t,n,r,i,a){e.info(function(){if(e.g){if(a)for(var s="",o=a.split("&"),l=0;l<o.length;l++){var u=o[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");s=2<=h.length&&"type"==h[1]?s+(c+"=")+u+"&":s+(c+"=redacted&")}}else s=null}else s=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s})}(e.i,e.u,e.A,e.l,e.R,e.m)}function e$(e){return!!e.g&&"GET"==e.u&&2!=e.L&&e.j.Ca}function eq(e){e.S=Date.now()+e.I,eH(e,e.I)}function eH(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=eR(h(e.ba,e),t)}function eW(e){e.B&&(s.clearTimeout(e.B),e.B=null)}function eK(e){0==e.j.G||e.J||tY(e.j,e)}function eG(e){eW(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ed(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function eQ(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||e0(n.h,e))){if(!e.K&&e0(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(n.g.F+3e3<e.F)tQ(n),tV(n);else break e}tW(n),eN(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=eR(h(n.Za,n),6e3));if(1>=eZ(n.h)&&n.ca){try{n.ca()}catch(e){}n.ca=void 0}}else tX(n,11)}else if((e.K||n.g==e)&&tQ(n),!k(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let o=i[t];if(n.T=o[0],o=o[1],2==n.G){if("c"==o[0]){n.K=o[1],n.ia=o[2];let t=o[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));let i=o[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));let l=o[5];null!=l&&"number"==typeof l&&0<l&&(r=1.5*l,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;let u=e.g;if(u){let e=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var a=r.h;a.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(e1(a,a.h),a.h=null))}if(r.D){let e=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,tt(r.I,r.D,e))}}if(n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms")),(r=n).qa=t0(r,r.J?r.ia:null,r.W),e.K){e2(r.h,e);var s=r.L;s&&(e.I=s),e.B&&(eW(e),eq(e)),r.g=e}else tH(r);0<n.i.length&&tz(n)}else"stop"!=o[0]&&"close"!=o[0]||tX(n,7)}else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?tX(n,7):tF(n):"noop"!=o[0]&&n.l&&n.l.ta(o),n.v=0)}}eI(4)}catch(e){}}eU.prototype.ca=function(e){e=e.target;let t=this.M;t&&3==tL(e)?t.j():this.Y(e)},eU.prototype.Y=function(e){try{if(e==this.g)e:{let f=tL(this.g);var t=this.g.Ba();let d=this.g.Z();if(!(3>f)&&(3!=f||this.g&&(this.h.h||this.g.oa()||tD(this.g)))){this.J||4!=f||7==t||(8==t||0>=d?eI(3):eI(2)),eW(this);var n=this.g.Z();this.X=n;t:if(e$(this)){var r=tD(this.g);e="";var i=r.length,a=4==tL(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){eG(this),eK(this);var o="";break t}this.h.i=new s.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==i-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,a,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+s})}(this.i,this.u,this.A,this.l,this.R,f,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,u=this.g;if((l=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(l)){var c=l;break t}}c=null}if(n=c)eO(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,eQ(this,n);else{this.o=!1,this.s=3,eN(12),eG(this),eK(this);break e}}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;)if((e=function(e,t){var n=e.C,r=t.indexOf("\n",n);return -1==r?ej:isNaN(n=Number(t.substring(n,r)))?eV:(r+=1)+n>t.length?ej:(t=t.slice(r,r+n),e.C=r+n,t)}(this,o))==ej){4==f&&(this.s=4,eN(14),n=!1),eO(this.i,this.l,null,"[Incomplete Response]");break}else if(e==eV){this.s=4,eN(15),eO(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}else eO(this.i,this.l,e,null),eQ(this,e);if(e$(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=f||0!=o.length||this.h.h||(this.s=1,eN(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),tK(h),h.M=!0,eN(11))}}else eO(this.i,this.l,o,"[Invalid Chunked Response]"),eG(this),eK(this)}else eO(this.i,this.l,o,null),eQ(this,o);4==f&&eG(this),this.o&&!this.J&&(4==f?tY(this.j,this):(this.o=!1,eq(this)))}else(function(e){let t={};e=(e.g&&2<=tL(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(k(e[r]))continue;var n=function(e){var t=1;e=e.split(":");let n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}(e[r]);let i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();let a=t[i]||[];t[i]=a,a.push(n)}!function(e,t){for(let n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,eN(12)):(this.s=0,eN(13)),eG(this),eK(this)}}}catch(e){}finally{}},eU.prototype.cancel=function(){this.J=!0,eG(this)},eU.prototype.ba=function(){this.B=null;let e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(eI(),eN(17)),eG(this),this.s=2,eK(this)):eH(this,this.S-e)};var eY=class{constructor(e,t){this.g=e,this.map=t}};function eJ(e){this.l=e||10,e=s.PerformanceNavigationTiming?0<(e=s.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function eX(e){return!!e.h||!!e.g&&e.g.size>=e.j}function eZ(e){return e.h?1:e.g?e.g.size:0}function e0(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function e1(e,t){e.g?e.g.add(t):e.h=t}function e2(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function e3(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(let n of e.g.values())t=t.concat(n.D);return t}return S(e.i)}function e4(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(o(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(o(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(let r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(o(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}eJ.prototype.cancel=function(){if(this.i=e3(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(let e of this.g.values())e.cancel();this.g.clear()}};var e6=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function e5(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof e5){this.h=e.h,e9(this,e.j),this.o=e.o,this.g=e.g,e7(this,e.s),this.l=e.l;var t=e.i,n=new th;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),te(this,n),this.m=e.m}else e&&(t=String(e).match(e6))?(this.h=!1,e9(this,t[1]||"",!0),this.o=tr(t[2]||""),this.g=tr(t[3]||"",!0),e7(this,t[4]),this.l=tr(t[5]||"",!0),te(this,t[6]||"",!0),this.m=tr(t[7]||"")):(this.h=!1,this.i=new th(null,this.h))}function e8(e){return new e5(e)}function e9(e,t,n){e.j=n?tr(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function e7(e,t){if(t){if(isNaN(t=Number(t))||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function te(e,t,n){var r,i;t instanceof th?(e.i=t,r=e.i,(i=e.h)&&!r.j&&(tf(r),r.i=null,r.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(td(this,t),tm(this,n,e))},r)),r.j=i):(n||(t=ti(t,tu)),e.i=new th(t,e.h))}function tt(e,t,n){e.i.set(t,n)}function tn(e){return tt(e,"zx",Math.floor(0x80000000*Math.random()).toString(36)+Math.abs(Math.floor(0x80000000*Math.random())^Date.now()).toString(36)),e}function tr(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ti(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,ta),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ta(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}e5.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ti(t,ts,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ti(t,ts,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ti(n,"/"==n.charAt(0)?tl:to,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ti(n,tc)),e.join("")};var ts=/[#\/\?@]/g,to=/[#\?:]/g,tl=/[#\?]/g,tu=/[#\?@]/g,tc=/#/g;function th(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function tf(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function td(e,t){tf(e),t=tg(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function tp(e,t){return tf(e),t=tg(e,t),e.g.has(t)}function tm(e,t,n){td(e,t),0<n.length&&(e.i=null,e.g.set(tg(e,t),S(n)),e.h+=n.length)}function tg(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function ty(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(e){}}function tv(){this.g=new eg}function tb(e){this.l=e.Ub||null,this.j=e.eb||!1}function tw(e,t){es.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function tE(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function tS(e){e.readyState=4,e.l=null,e.j=null,e.v=null,t_(e)}function t_(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function tk(e){let t="";return C(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function tT(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=tk(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):tt(e,t,n))}function tx(e){es.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(n=th.prototype).add=function(e,t){tf(this),this.i=null,e=tg(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},n.forEach=function(e,t){tf(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},n.na=function(){tf(this);let e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){let i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},n.V=function(e){tf(this);let t=[];if("string"==typeof e)tp(this,e)&&(t=t.concat(this.g.get(tg(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},n.set=function(e,t){return tf(this),this.i=null,tp(this,e=tg(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},n.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];let a=encodeURIComponent(String(r)),s=this.V(r);for(r=0;r<s.length;r++){var i=a;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")},E(tb,ey),tb.prototype.g=function(){return new tw(this.l,this.j)},tb.prototype.i=(e={},function(){return e}),E(tw,es),(n=tw.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,t_(this)},n.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;let t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||s).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,tS(this)),this.readyState=0},n.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,t_(this)),this.g&&(this.readyState=3,t_(this),this.g))){if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(void 0!==s.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tE(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))}},n.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?tS(this):t_(this),3==this.readyState&&tE(this)}},n.Ra=function(e){this.g&&(this.response=this.responseText=e,tS(this))},n.Qa=function(e){this.g&&(this.response=e,tS(this))},n.ga=function(){this.g&&tS(this)},n.setRequestHeader=function(e,t){this.u.append(e,t)},n.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let e=[],t=this.h.entries();for(var n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(tw.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),E(tx,es);var tI=/^https?$/i,tC=["POST","PUT"];function tN(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,tA(e),tP(e)}function tA(e){e.A||(e.A=!0,eo(e,"complete"),eo(e,"error"))}function tR(e){if(e.h&&void 0!==a&&(!e.v[1]||4!=tL(e)||2!=e.Z())){if(e.u&&4==tL(e))eu(e.Ea,0,e);else if(eo(e,"readystatechange"),4==tL(e)){e.h=!1;try{let a=e.Z();switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t,n,r=!0;break;default:r=!1}if(!(t=r)){if(n=0===a){var i=String(e.D).match(e6)[1]||null;!i&&s.self&&s.self.location&&(i=s.self.location.protocol.slice(0,-1)),n=!tI.test(i?i.toLowerCase():"")}t=n}if(t)eo(e,"complete"),eo(e,"success");else{e.m=6;try{var o=2<tL(e)?e.g.statusText:""}catch(e){o=""}e.l=o+" ["+e.Z()+"]",tA(e)}}finally{tP(e)}}}}function tP(e,t){if(e.g){tO(e);let n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||eo(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function tO(e){e.I&&(s.clearTimeout(e.I),e.I=null)}function tL(e){return e.g?e.g.readyState:0}function tD(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function tM(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function tU(e){this.Aa=0,this.i=[],this.j=new eP,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=tM("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=tM("baseRetryDelayMs",5e3,e),this.cb=tM("retryDelaySeedMs",1e4,e),this.Wa=tM("forwardChannelMaxRetries",2,e),this.wa=tM("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new eJ(e&&e.concurrentRequestLimit),this.Da=new tv,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function tF(e){if(tj(e),3==e.G){var t=e.U++,n=e8(e.I);if(tt(n,"SID",e.K),tt(n,"RID",t),tt(n,"TYPE","terminate"),t$(e,n),(t=new eU(e,e.j,t)).L=2,t.v=tn(e8(n)),n=!1,s.navigator&&s.navigator.sendBeacon)try{n=s.navigator.sendBeacon(t.v.toString(),"")}catch(e){}!n&&s.Image&&((new Image).src=t.v,n=!0),n||(t.g=t1(t.j,null),t.g.ea(t.v)),t.F=Date.now(),eq(t)}tZ(e)}function tV(e){e.g&&(tK(e),e.g.cancel(),e.g=null)}function tj(e){tV(e),e.u&&(s.clearTimeout(e.u),e.u=null),tQ(e),e.h.cancel(),e.s&&("number"==typeof e.s&&s.clearTimeout(e.s),e.s=null)}function tz(e){if(!eX(e.h)&&!e.s){e.s=!0;var t=e.Ga;L||U(),D||(L(),D=!0),M.add(t,e),e.B=0}}function tB(e,t){var n;n=t?t.l:e.U++;let r=e8(e.I);tt(r,"SID",e.K),tt(r,"RID",n),tt(r,"AID",e.T),t$(e,r),e.m&&e.o&&tT(r,e.m,e.o),n=new eU(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tq(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),e1(e.h,n),ez(n,r,t)}function t$(e,t){e.H&&C(e.H,function(e,n){tt(t,n,e)}),e.l&&e4({},function(e,n){tt(t,n,e)})}function tq(e,t,n){n=Math.min(e.i.length,n);var r=e.l?h(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){let e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let s=0;s<n;s++){let n=i[s].g,o=i[s].map;if(0>(n-=t))t=Math.max(0,i[s].g-100),a=!1;else try{!function(e,t,n){let r=n||"";try{e4(e,function(e,n){let i=e;l(e)&&(i=ep(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}(o,e,"req"+n+"_")}catch(e){r&&r(o)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function tH(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;L||U(),D||(L(),D=!0),M.add(t,e),e.v=0}}function tW(e){return!e.g&&!e.u&&!(3<=e.v)&&(e.Y++,e.u=eR(h(e.Fa,e),tJ(e,e.v)),e.v++,!0)}function tK(e){null!=e.A&&(s.clearTimeout(e.A),e.A=null)}function tG(e){e.g=new eU(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=e8(e.qa);tt(t,"RID","rpc"),tt(t,"SID",e.K),tt(t,"AID",e.T),tt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&tt(t,"TO",e.ja),tt(t,"TYPE","xmlhttp"),t$(e,t),e.m&&e.o&&tT(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=tn(e8(t)),n.m=null,n.P=!0,eB(n,e)}function tQ(e){null!=e.C&&(s.clearTimeout(e.C),e.C=null)}function tY(e,t){var n=null;if(e.g==t){tQ(e),tK(e),e.g=null;var r=2}else{if(!e0(e.h,t))return;n=t.D,e2(e.h,t),r=1}if(0!=e.G){if(t.o){if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i,a=e.B;eo(r=eT(),new eA(r,n)),tz(e)}else tH(e)}else if(3==(a=t.s)||0==a&&0<t.X||!(1==r&&(i=t,!(eZ(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=i.D.concat(e.i),!0):1!=e.G&&2!=e.G&&!(e.B>=(e.Va?0:e.Wa))&&(e.s=eR(h(e.Ga,e,i),tJ(e,e.B)),e.B++,!0)))||2==r&&tW(e)))switch(n&&0<n.length&&((t=e.h).i=t.i.concat(n)),a){case 1:tX(e,5);break;case 4:tX(e,10);break;case 3:tX(e,6);break;default:tX(e,2)}}}function tJ(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function tX(e,t){if(e.j.info("Error code "+t),2==t){var n=h(e.fb,e),r=e.Xa;let t=!r;r=new e5(r||"//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||e9(r,"https"),tn(r),t?function(e,t){let n=new eP;if(s.Image){let r=new Image;r.onload=w(ty,n,"TestLoadImage: loaded",!0,t,r),r.onerror=w(ty,n,"TestLoadImage: error",!1,t,r),r.onabort=w(ty,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=w(ty,n,"TestLoadImage: timeout",!1,t,r),s.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){let n=new eP,r=new AbortController,i=setTimeout(()=>{r.abort(),ty(n,"TestPingServer: timeout",!1,t)},1e4);fetch(e,{signal:r.signal}).then(e=>{clearTimeout(i),e.ok?ty(n,"TestPingServer: ok",!0,t):ty(n,"TestPingServer: server error",!1,t)}).catch(()=>{clearTimeout(i),ty(n,"TestPingServer: error",!1,t)})}(r.toString(),n)}else eN(2);e.G=0,e.l&&e.l.sa(t),tZ(e),tj(e)}function tZ(e){if(e.G=0,e.ka=[],e.l){let t=e3(e.h);(0!=t.length||0!=e.i.length)&&(_(e.ka,t),_(e.ka,e.i),e.h.i.length=0,S(e.i),e.i.length=0),e.l.ra()}}function t0(e,t,n){var r=n instanceof e5?e8(n):new e5(n);if(""!=r.g)t&&(r.g=t+"."+r.g),e7(r,r.s);else{var i=s.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new e5(null);r&&e9(a,r),t&&(a.g=t),i&&e7(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&tt(r,n,t),tt(r,"VER",e.la),t$(e,r),r}function t1(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new tx(e.Ca&&!e.pa?new tb({eb:n}):e.pa)).Ha(e.J),t}function t2(){}function t3(){}function t4(e,t){es.call(this),this.g=new tU(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!k(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!k(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new t8(this)}function t6(e){eE.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(let n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function t5(){eS.call(this),this.status=1}function t8(e){this.g=e}(n=tx.prototype).Ha=function(e){this.J=e},n.ea=function(e,n,r,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);n=n?n.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():t.g(),this.v=this.o?ev(this.o):ev(t),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(n,String(e),!0),this.B=!1}catch(e){tN(this,e);return}if(e=r||"",r=new Map(this.headers),i){if(Object.getPrototypeOf(i)===Object.prototype)for(var a in i)r.set(a,i[a]);else if("function"==typeof i.keys&&"function"==typeof i.get)for(let e of i.keys())r.set(e,i.get(e));else throw Error("Unknown input type for opt_headers: "+String(i))}for(let[t,o]of(i=Array.from(r.keys()).find(e=>"content-type"==e.toLowerCase()),a=s.FormData&&e instanceof s.FormData,!(0<=Array.prototype.indexOf.call(tC,n,void 0))||i||a||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r))this.g.setRequestHeader(t,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{tO(this),this.u=!0,this.g.send(e),this.u=!1}catch(e){tN(this,e)}},n.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,eo(this,"complete"),eo(this,"abort"),tP(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tP(this,!0)),tx.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?tR(this):this.bb())},n.bb=function(){tR(this)},n.isActive=function(){return!!this.g},n.Z=function(){try{return 2<tL(this)?this.g.status:-1}catch(e){return -1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},n.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),em(t)}},n.Ba=function(){return this.m},n.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(n=tU.prototype).la=8,n.G=1,n.connect=function(e,t,n,r){eN(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=t0(this,null,this.W),tz(this)},n.Ga=function(e){if(this.s){if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;let i=new eU(this,this.j,e),a=this.o;if(this.S&&(a?R(a=N(a),this.S):a=this.S),null!==this.m||this.O||(i.H=a,a=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.map&&"string"==typeof(r=r.map.__data__)){r=r.length;break t}r=void 0}if(void 0===r)break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tq(this,i,t),tt(n=e8(this.I),"RID",e),tt(n,"CVER",22),this.D&&tt(n,"X-HTTP-Session-Id",this.D),t$(this,n),a&&(this.O?t="headers="+encodeURIComponent(String(tk(a)))+"&"+t:this.m&&tT(n,this.m,a)),e1(this.h,i),this.Ua&&tt(n,"TYPE","init"),this.P?(tt(n,"$req",t),tt(n,"SID","null"),i.T=!0,ez(i,n,null)):ez(i,n,t),this.G=2}}else 3==this.G&&(e?tB(this,e):0==this.i.length||eX(this.h)||tB(this))}},n.Fa=function(){if(this.u=null,tG(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=eR(h(this.ab,this),e)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,eN(10),tV(this),tG(this))},n.Za=function(){null!=this.C&&(this.C=null,tV(this),tW(this),eN(19))},n.fb=function(e){e?(this.j.info("Successfully pinged google.com"),eN(2)):(this.j.info("Failed to ping google.com"),eN(1))},n.isActive=function(){return!!this.l&&this.l.isActive(this)},(n=t2.prototype).ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){},t3.prototype.g=function(e,t){return new t4(e,t)},E(t4,es),t4.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},t4.prototype.close=function(){tF(this.g)},t4.prototype.o=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=ep(e),e=n);t.i.push(new eY(t.Ya++,e)),3==t.G&&tz(t)},t4.prototype.N=function(){this.g.l=null,delete this.j,tF(this.g),delete this.g,t4.aa.N.call(this)},E(t6,eE),E(t5,eS),E(t8,t2),t8.prototype.ua=function(){eo(this.g,"a")},t8.prototype.ta=function(e){eo(this.g,new t6(e))},t8.prototype.sa=function(e){eo(this.g,new t5)},t8.prototype.ra=function(){eo(this.g,"b")},t3.prototype.createWebChannel=t3.prototype.g,t4.prototype.send=t4.prototype.o,t4.prototype.open=t4.prototype.m,t4.prototype.close=t4.prototype.close,b=aA.createWebChannelTransport=function(){return new t3},v=aA.getStatEventTarget=function(){return eT()},y=aA.Event=e_,g=aA.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},eL.NO_ERROR=0,eL.TIMEOUT=8,eL.HTTP_ERROR=6,m=aA.ErrorCode=eL,eD.COMPLETE="complete",p=aA.EventType=eD,eb.EventType=ew,ew.OPEN="a",ew.CLOSE="b",ew.ERROR="c",ew.MESSAGE="d",es.prototype.listen=es.prototype.K,d=aA.WebChannel=eb,aA.FetchXmlHttpFactory=tb,tx.prototype.listenOnce=tx.prototype.L,tx.prototype.getLastError=tx.prototype.Ka,tx.prototype.getLastErrorCode=tx.prototype.Ba,tx.prototype.getStatus=tx.prototype.Z,tx.prototype.getResponseJson=tx.prototype.Oa,tx.prototype.getResponseText=tx.prototype.oa,tx.prototype.send=tx.prototype.ea,tx.prototype.setWithCredentials=tx.prototype.Ha,f=aA.XhrIo=tx}).apply(void 0!==aN?aN:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var ty=R("hPtJY");w=function(e){var t,n,r=function(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");-1===n&&(n=t);var r=n===t?0:4-n%4;return[n,r]}(e),i=r[0],a=r[1],s=new aO((i+a)*3/4-a),o=0,l=a>0?i-4:i;for(n=0;n<l;n+=4)t=aP[e.charCodeAt(n)]<<18|aP[e.charCodeAt(n+1)]<<12|aP[e.charCodeAt(n+2)]<<6|aP[e.charCodeAt(n+3)],s[o++]=t>>16&255,s[o++]=t>>8&255,s[o++]=255&t;return 2===a&&(t=aP[e.charCodeAt(n)]<<2|aP[e.charCodeAt(n+1)]>>4,s[o++]=255&t),1===a&&(t=aP[e.charCodeAt(n)]<<10|aP[e.charCodeAt(n+1)]<<4|aP[e.charCodeAt(n+2)]>>2,s[o++]=t>>8&255,s[o++]=255&t),s},E=function(e){for(var t,n=e.length,r=n%3,i=[],a=0,s=n-r;a<s;a+=16383)i.push(function(e,t,n){for(var r,i=[],a=t;a<n;a+=3)i.push(aR[(r=(e[a]<<16&0xff0000)+(e[a+1]<<8&65280)+(255&e[a+2]))>>18&63]+aR[r>>12&63]+aR[r>>6&63]+aR[63&r]);return i.join("")}(e,a,a+16383>s?s:a+16383));return 1===r?i.push(aR[(t=e[n-1])>>2]+aR[t<<4&63]+"=="):2===r&&i.push(aR[(t=(e[n-2]<<8)+e[n-1])>>10]+aR[t>>4&63]+aR[t<<2&63]+"="),i.join("")};for(var aR=[],aP=[],aO="undefined"!=typeof Uint8Array?Uint8Array:Array,aL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",aD=0,aM=aL.length;aD<aM;++aD)aR[aD]=aL[aD],aP[aL.charCodeAt(aD)]=aD;aP["-".charCodeAt(0)]=62,aP["_".charCodeAt(0)]=63,S=function(e,t,n,r,i){var a,s,o=8*i-r-1,l=(1<<o)-1,u=l>>1,c=-7,h=n?i-1:0,f=n?-1:1,d=e[t+h];for(h+=f,a=d&(1<<-c)-1,d>>=-c,c+=o;c>0;a=256*a+e[t+h],h+=f,c-=8);for(s=a&(1<<-c)-1,a>>=-c,c+=r;c>0;s=256*s+e[t+h],h+=f,c-=8);if(0===a)a=1-u;else{if(a===l)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),a-=u}return(d?-1:1)*s*Math.pow(2,a-r)},_=function(e,t,n,r,i,a){var s,o,l,u=8*a-i-1,c=(1<<u)-1,h=c>>1,f=23===i?5960464477539062e-23:0,d=r?0:a-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(o=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+h>=1?t+=f/l:t+=f*Math.pow(2,1-h),t*l>=2&&(s++,l/=2),s+h>=c?(o=0,s=c):s+h>=1?(o=(t*l-1)*Math.pow(2,i),s+=h):(o=t*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;e[n+d]=255&o,d+=p,o/=256,i-=8);for(s=s<<i|o,u+=i;u>0;e[n+d]=255&s,d+=p,s/=256,u-=8);e[n+d-p]|=128*m};const aU="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function aF(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,aV.prototype),t}function aV(e,t,n){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return aB(e)}return aj(e,t,n)}function aj(e,t,n){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!aV.isEncoding(t))throw TypeError("Unknown encoding: "+t);let n=0|aW(e,t),r=aF(n),i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(sa(e,Uint8Array)){let t=new Uint8Array(e);return aq(t.buffer,t.byteOffset,t.byteLength)}return a$(e)}(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(sa(e,ArrayBuffer)||e&&sa(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(sa(e,SharedArrayBuffer)||e&&sa(e.buffer,SharedArrayBuffer)))return aq(e,t,n);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return aV.from(r,t,n);let i=function(e){var t;if(aV.isBuffer(e)){let t=0|aH(e.length),n=aF(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||(t=e.length)!=t?aF(0):a$(e):"Buffer"===e.type&&Array.isArray(e.data)?a$(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return aV.from(e[Symbol.toPrimitive]("string"),t,n);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function az(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function aB(e){return az(e),aF(e<0?0:0|aH(e))}function a$(e){let t=e.length<0?0:0|aH(e.length),n=aF(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function aq(e,t,n){let r;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),aV.prototype),r}function aH(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function aW(e,t){if(aV.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||sa(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return sn(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return sr(e).length;default:if(i)return r?-1:sn(e).length;t=(""+t).toLowerCase(),i=!0}}function aK(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0||(n>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,n){let r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=t;r<n;++r)i+=ss[e[r]];return i}(this,t,n);case"utf8":case"utf-8":return aJ(this,t,n);case"ascii":return function(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}(this,t,n);case"latin1":case"binary":return function(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}(this,t,n);case"base64":var i,a;return i=t,a=n,0===i&&a===this.length?E(this):E(this.slice(i,a));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,n){let r=e.slice(t,n),i="";for(let e=0;e<r.length-1;e+=2)i+=String.fromCharCode(r[e]+256*r[e+1]);return i}(this,t,n);default:if(r)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function aG(e,t,n){let r=e[t];e[t]=e[n],e[n]=r}function aQ(e,t,n,r,i){var a;if(0===e.length)return -1;if("string"==typeof n?(r=n,n=0):n>0x7fffffff?n=0x7fffffff:n<-0x80000000&&(n=-0x80000000),(a=n=+n)!=a&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return -1;n=e.length-1}else if(n<0){if(!i)return -1;n=0}if("string"==typeof t&&(t=aV.from(t,r)),aV.isBuffer(t))return 0===t.length?-1:aY(e,t,n,r,i);if("number"==typeof t)return(t&=255,"function"==typeof Uint8Array.prototype.indexOf)?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):aY(e,[t],n,r,i);throw TypeError("val must be string, number or Buffer")}function aY(e,t,n,r,i){let a,s=1,o=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return -1;s=2,o/=2,l/=2,n/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let r=-1;for(a=n;a<o;a++)if(u(e,a)===u(t,-1===r?0:a-r)){if(-1===r&&(r=a),a-r+1===l)return r*s}else -1!==r&&(a-=a-r),r=-1}else for(n+l>o&&(n=o-l),a=n;a>=0;a--){let n=!0;for(let r=0;r<l;r++)if(u(e,a+r)!==u(t,r)){n=!1;break}if(n)return a}return -1}function aJ(e,t,n){n=Math.min(e.length,n);let r=[],i=t;for(;i<n;){let t=e[i],a=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=n){let n,r,o,l;switch(s){case 1:t<128&&(a=t);break;case 2:(192&(n=e[i+1]))==128&&(l=(31&t)<<6|63&n)>127&&(a=l);break;case 3:n=e[i+1],r=e[i+2],(192&n)==128&&(192&r)==128&&(l=(15&t)<<12|(63&n)<<6|63&r)>2047&&(l<55296||l>57343)&&(a=l);break;case 4:n=e[i+1],r=e[i+2],o=e[i+3],(192&n)==128&&(192&r)==128&&(192&o)==128&&(l=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&o)>65535&&l<1114112&&(a=l)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return function(e){let t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}function aX(e,t,n){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>n)throw RangeError("Trying to access beyond buffer length")}function aZ(e,t,n,r,i,a){if(!aV.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw RangeError('"value" argument is out of bounds');if(n+r>e.length)throw RangeError("Index out of range")}function a0(e,t,n,r,i){a9(t,r,i,e,n,7);let a=Number(t&BigInt(0xffffffff));e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a;let s=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,n}function a1(e,t,n,r,i){a9(t,r,i,e,n,7);let a=Number(t&BigInt(0xffffffff));e[n+7]=a,a>>=8,e[n+6]=a,a>>=8,e[n+5]=a,a>>=8,e[n+4]=a;let s=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[n+3]=s,s>>=8,e[n+2]=s,s>>=8,e[n+1]=s,s>>=8,e[n]=s,n+8}function a2(e,t,n,r,i,a){if(n+r>e.length||n<0)throw RangeError("Index out of range")}function a3(e,t,n,r,i){return t=+t,n>>>=0,i||a2(e,t,n,4,34028234663852886e22,-34028234663852886e22),_(e,t,n,r,23,4),n+4}function a4(e,t,n,r,i){return t=+t,n>>>=0,i||a2(e,t,n,8,17976931348623157e292,-17976931348623157e292),_(e,t,n,r,52,8),n+8}aV.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),aV.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(aV.prototype,"parent",{enumerable:!0,get:function(){if(aV.isBuffer(this))return this.buffer}}),Object.defineProperty(aV.prototype,"offset",{enumerable:!0,get:function(){if(aV.isBuffer(this))return this.byteOffset}}),aV.poolSize=8192,aV.from=function(e,t,n){return aj(e,t,n)},Object.setPrototypeOf(aV.prototype,Uint8Array.prototype),Object.setPrototypeOf(aV,Uint8Array),aV.alloc=function(e,t,n){return(az(e),e<=0)?aF(e):void 0!==t?"string"==typeof n?aF(e).fill(t,n):aF(e).fill(t):aF(e)},aV.allocUnsafe=function(e){return aB(e)},aV.allocUnsafeSlow=function(e){return aB(e)},aV.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==aV.prototype},aV.compare=function(e,t){if(sa(e,Uint8Array)&&(e=aV.from(e,e.offset,e.byteLength)),sa(t,Uint8Array)&&(t=aV.from(t,t.offset,t.byteLength)),!aV.isBuffer(e)||!aV.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},aV.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},aV.concat=function(e,t){let n;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return aV.alloc(0);if(void 0===t)for(n=0,t=0;n<e.length;++n)t+=e[n].length;let r=aV.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){let t=e[n];if(sa(t,Uint8Array))i+t.length>r.length?(aV.isBuffer(t)||(t=aV.from(t)),t.copy(r,i)):Uint8Array.prototype.set.call(r,t,i);else if(aV.isBuffer(t))t.copy(r,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=t.length}return r},aV.byteLength=aW,aV.prototype._isBuffer=!0,aV.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)aG(this,t,t+1);return this},aV.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)aG(this,t,t+3),aG(this,t+1,t+2);return this},aV.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)aG(this,t,t+7),aG(this,t+1,t+6),aG(this,t+2,t+5),aG(this,t+3,t+4);return this},aV.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?aJ(this,0,e):aK.apply(this,arguments)},aV.prototype.toLocaleString=aV.prototype.toString,aV.prototype.equals=function(e){if(!aV.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===aV.compare(this,e)},aV.prototype.inspect=function(){let e="";return e=this.toString("hex",0,50).replace(/(.{2})/g,"$1 ").trim(),this.length>50&&(e+=" ... "),"<Buffer "+e+">"},aU&&(aV.prototype[aU]=aV.prototype.inspect),aV.prototype.compare=function(e,t,n,r,i){if(sa(e,Uint8Array)&&(e=aV.from(e,e.offset,e.byteLength)),!aV.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return -1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;let a=i-r,s=n-t,o=Math.min(a,s),l=this.slice(r,i),u=e.slice(t,n);for(let e=0;e<o;++e)if(l[e]!==u[e]){a=l[e],s=u[e];break}return a<s?-1:s<a?1:0},aV.prototype.includes=function(e,t,n){return -1!==this.indexOf(e,t,n)},aV.prototype.indexOf=function(e,t,n){return aQ(this,e,t,n,!0)},aV.prototype.lastIndexOf=function(e,t,n){return aQ(this,e,t,n,!1)},aV.prototype.write=function(e,t,n,r){var i,a,s,o,l,u,c,h;if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let f=this.length-t;if((void 0===n||n>f)&&(n=f),e.length>0&&(n<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let d=!1;for(;;)switch(r){case"hex":return function(e,t,n,r){let i;n=Number(n)||0;let a=e.length-n;r?(r=Number(r))>a&&(r=a):r=a;let s=t.length;for(r>s/2&&(r=s/2),i=0;i<r;++i){let r=parseInt(t.substr(2*i,2),16);if(r!=r)break;e[n+i]=r}return i}(this,e,t,n);case"utf8":case"utf-8":return i=t,a=n,si(sn(e,this.length-i),this,i,a);case"ascii":case"latin1":case"binary":return s=t,o=n,si(function(e){let t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(e),this,s,o);case"base64":return l=t,u=n,si(sr(e),this,l,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c=t,h=n,si(function(e,t){let n,r;let i=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i.push(n%256),i.push(r);return i}(e,this.length-c),this,c,h);default:if(d)throw TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),d=!0}},aV.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},aV.prototype.slice=function(e,t){let n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);let r=this.subarray(e,t);return Object.setPrototypeOf(r,aV.prototype),r},aV.prototype.readUintLE=aV.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||aX(e,t,this.length);let r=this[e],i=1,a=0;for(;++a<t&&(i*=256);)r+=this[e+a]*i;return r},aV.prototype.readUintBE=aV.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||aX(e,t,this.length);let r=this[e+--t],i=1;for(;t>0&&(i*=256);)r+=this[e+--t]*i;return r},aV.prototype.readUint8=aV.prototype.readUInt8=function(e,t){return e>>>=0,t||aX(e,1,this.length),this[e]},aV.prototype.readUint16LE=aV.prototype.readUInt16LE=function(e,t){return e>>>=0,t||aX(e,2,this.length),this[e]|this[e+1]<<8},aV.prototype.readUint16BE=aV.prototype.readUInt16BE=function(e,t){return e>>>=0,t||aX(e,2,this.length),this[e]<<8|this[e+1]},aV.prototype.readUint32LE=aV.prototype.readUInt32LE=function(e,t){return e>>>=0,t||aX(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},aV.prototype.readUint32BE=aV.prototype.readUInt32BE=function(e,t){return e>>>=0,t||aX(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},aV.prototype.readBigUInt64LE=so(function(e){a7(e>>>=0,"offset");let t=this[e],n=this[e+7];(void 0===t||void 0===n)&&se(e,this.length-8);let r=t+256*this[++e]+65536*this[++e]+0x1000000*this[++e],i=this[++e]+256*this[++e]+65536*this[++e]+0x1000000*n;return BigInt(r)+(BigInt(i)<<BigInt(32))}),aV.prototype.readBigUInt64BE=so(function(e){a7(e>>>=0,"offset");let t=this[e],n=this[e+7];(void 0===t||void 0===n)&&se(e,this.length-8);let r=0x1000000*t+65536*this[++e]+256*this[++e]+this[++e],i=0x1000000*this[++e]+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)}),aV.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||aX(e,t,this.length);let r=this[e],i=1,a=0;for(;++a<t&&(i*=256);)r+=this[e+a]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},aV.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||aX(e,t,this.length);let r=t,i=1,a=this[e+--r];for(;r>0&&(i*=256);)a+=this[e+--r]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},aV.prototype.readInt8=function(e,t){return(e>>>=0,t||aX(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},aV.prototype.readInt16LE=function(e,t){e>>>=0,t||aX(e,2,this.length);let n=this[e]|this[e+1]<<8;return 32768&n?0xffff0000|n:n},aV.prototype.readInt16BE=function(e,t){e>>>=0,t||aX(e,2,this.length);let n=this[e+1]|this[e]<<8;return 32768&n?0xffff0000|n:n},aV.prototype.readInt32LE=function(e,t){return e>>>=0,t||aX(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},aV.prototype.readInt32BE=function(e,t){return e>>>=0,t||aX(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},aV.prototype.readBigInt64LE=so(function(e){a7(e>>>=0,"offset");let t=this[e],n=this[e+7];return(void 0===t||void 0===n)&&se(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+0x1000000*this[++e])}),aV.prototype.readBigInt64BE=so(function(e){a7(e>>>=0,"offset");let t=this[e],n=this[e+7];return(void 0===t||void 0===n)&&se(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(0x1000000*this[++e]+65536*this[++e]+256*this[++e]+n)}),aV.prototype.readFloatLE=function(e,t){return e>>>=0,t||aX(e,4,this.length),S(this,e,!0,23,4)},aV.prototype.readFloatBE=function(e,t){return e>>>=0,t||aX(e,4,this.length),S(this,e,!1,23,4)},aV.prototype.readDoubleLE=function(e,t){return e>>>=0,t||aX(e,8,this.length),S(this,e,!0,52,8)},aV.prototype.readDoubleBE=function(e,t){return e>>>=0,t||aX(e,8,this.length),S(this,e,!1,52,8)},aV.prototype.writeUintLE=aV.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){let r=Math.pow(2,8*n)-1;aZ(this,e,t,n,r,0)}let i=1,a=0;for(this[t]=255&e;++a<n&&(i*=256);)this[t+a]=e/i&255;return t+n},aV.prototype.writeUintBE=aV.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){let r=Math.pow(2,8*n)-1;aZ(this,e,t,n,r,0)}let i=n-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+n},aV.prototype.writeUint8=aV.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||aZ(this,e,t,1,255,0),this[t]=255&e,t+1},aV.prototype.writeUint16LE=aV.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||aZ(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},aV.prototype.writeUint16BE=aV.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||aZ(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},aV.prototype.writeUint32LE=aV.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||aZ(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},aV.prototype.writeUint32BE=aV.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||aZ(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},aV.prototype.writeBigUInt64LE=so(function(e,t=0){return a0(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),aV.prototype.writeBigUInt64BE=so(function(e,t=0){return a1(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),aV.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){let r=Math.pow(2,8*n-1);aZ(this,e,t,n,r-1,-r)}let i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},aV.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){let r=Math.pow(2,8*n-1);aZ(this,e,t,n,r-1,-r)}let i=n-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},aV.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||aZ(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},aV.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||aZ(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},aV.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||aZ(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},aV.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||aZ(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},aV.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||aZ(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},aV.prototype.writeBigInt64LE=so(function(e,t=0){return a0(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),aV.prototype.writeBigInt64BE=so(function(e,t=0){return a1(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),aV.prototype.writeFloatLE=function(e,t,n){return a3(this,e,t,!0,n)},aV.prototype.writeFloatBE=function(e,t,n){return a3(this,e,t,!1,n)},aV.prototype.writeDoubleLE=function(e,t,n){return a4(this,e,t,!0,n)},aV.prototype.writeDoubleBE=function(e,t,n){return a4(this,e,t,!1,n)},aV.prototype.copy=function(e,t,n,r){if(!aV.isBuffer(e))throw TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw RangeError("Index out of range");if(r<0)throw RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);let i=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},aV.prototype.fill=function(e,t,n,r){let i;if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw TypeError("encoding must be a string");if("string"==typeof r&&!aV.isEncoding(r))throw TypeError("Unknown encoding: "+r);if(1===e.length){let t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw RangeError("Out of range index");if(n<=t)return this;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{let a=aV.isBuffer(e)?e:aV.from(e,r),s=a.length;if(0===s)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=a[i%s]}return this};const a6={};function a5(e,t,n){a6[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function a8(e){let t="",n=e.length,r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function a9(e,t,n,r,i,a){if(e>n||e<t){let r;let i="bigint"==typeof t?"n":"";throw r=a>3?0===t||t===BigInt(0)?`>= 0${i} and < 2${i} ** ${(a+1)*8}${i}`:`>= -(2${i} ** ${(a+1)*8-1}${i}) and < 2 ** ${(a+1)*8-1}${i}`:`>= ${t}${i} and <= ${n}${i}`,new a6.ERR_OUT_OF_RANGE("value",r,e)}a7(i,"offset"),(void 0===r[i]||void 0===r[i+a])&&se(i,r.length-(a+1))}function a7(e,t){if("number"!=typeof e)throw new a6.ERR_INVALID_ARG_TYPE(t,"number",e)}function se(e,t,n){if(Math.floor(e)!==e)throw a7(e,n),new a6.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new a6.ERR_BUFFER_OUT_OF_BOUNDS;throw new a6.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}a5("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),a5("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),a5("ERR_OUT_OF_RANGE",function(e,t,n){let r=`The value of "${e}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>0x100000000?i=a8(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=a8(i)),i+="n"),r+=` It must be ${t}. Received ${i}`},RangeError);const st=/[^+/0-9A-Za-z-_]/g;function sn(e,t){let n;t=t||1/0;let r=e.length,i=null,a=[];for(let s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319||s+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else if(n<1114112){if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}else throw Error("Invalid code point")}return a}function sr(e){return w(function(e){if((e=(e=e.split("=")[0]).trim().replace(st,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function si(e,t,n,r){let i;for(i=0;i<r&&!(i+n>=t.length)&&!(i>=e.length);++i)t[i+n]=e[i];return i}function sa(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}const ss=function(){let e="0123456789abcdef",t=Array(256);for(let n=0;n<16;++n){let r=16*n;for(let i=0;i<16;++i)t[r+i]=e[n]+e[i]}return t}();function so(e){return"undefined"==typeof BigInt?sl:e}function sl(){throw Error("BigInt not supported")}const su="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sc.UNAUTHENTICATED=new sc(null),sc.GOOGLE_CREDENTIALS=new sc("google-credentials-uid"),sc.FIRST_PARTY=new sc("first-party-uid"),sc.MOCK_USER=new sc("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sh="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sf=new t1("@firebase/firestore");function sd(){return sf.logLevel}function sp(e,...t){if(sf.logLevel<=u.DEBUG){let n=t.map(sy);sf.debug(`Firestore (${sh}): ${e}`,...n)}}function sm(e,...t){if(sf.logLevel<=u.ERROR){let n=t.map(sy);sf.error(`Firestore (${sh}): ${e}`,...n)}}function sg(e,...t){if(sf.logLevel<=u.WARN){let n=t.map(sy);sf.warn(`Firestore (${sh}): ${e}`,...n)}}function sy(e){if("string"==typeof e)return e;try{/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */return JSON.stringify(e)}catch(t){return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(e="Unexpected state"){let t=`FIRESTORE (${sh}) INTERNAL ASSERTION FAILED: `+e;throw sm(t),Error(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class sw extends tD{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class s_{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(sc.UNAUTHENTICATED))}shutdown(){}}class sk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class sT{constructor(e){this.t=e,this.currentUser=sc.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){void 0===this.o||sv();let n=this.i,r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve(),i=new sE;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new sE,e.enqueueRetryable(()=>r(this.currentUser))};let a=()=>{let t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},s=e=>{sp("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(e=>s(e)),setTimeout(()=>{if(!this.auth){let e=this.t.getImmediate({optional:!0});e?s(e):(sp("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new sE)}},0),a()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(sp("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?("string"==typeof t.accessToken||sv(),new sS(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return null===e||"string"==typeof e||sv(),new sc(e)}}class sx{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=sc.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);let e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class sI{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new sx(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(sc.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sN{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){void 0===this.o||sv();let n=e=>{null!=e.error&&sp("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);let n=e.token!==this.R;return this.R=e.token,sp("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};let r=e=>{sp("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){let e=this.A.getImmediate({optional:!0});e?r(e):sp("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?("string"==typeof e.token||sv(),this.R=e.token,new sC(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";for(;n.length<20;){let r=/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){let t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(40);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let e=0;e<40;e++)n[e]=Math.floor(256*Math.random());return n}(0);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function sR(e,t){return e<t?-1:e>t?1:0}function sP(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{static now(){return sO.fromMillis(Date.now())}static fromDate(e){return sO.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new sO(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0||t>=1e9)throw new sw(sb.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-0xe7791f700||e>=0x3afff44180)throw new sw(sb.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?sR(this.nanoseconds,e.nanoseconds):sR(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -0xe7791f700).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{static fromTimestamp(e){return new sL(e)}static min(){return new sL(new sO(0,0))}static max(){return new sL(new sO(0x3afff4417f,0x3b9ac9ff))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e,t,n){void 0===t?t=0:t>e.length&&sv(),void 0===n?n=e.length-t:n>e.length-t&&sv(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===sD.comparator(this,e)}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof sD?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let n=Math.min(e.length,t.length);for(let r=0;r<n;r++){let n=e.get(r),i=t.get(r);if(n<i)return -1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class sM extends sD{construct(e,t,n){return new sM(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let n of e){if(n.indexOf("//")>=0)throw new sw(sb.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new sM(t)}static emptyPath(){return new sM([])}}const sU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sF extends sD{construct(e,t,n){return new sF(e,t,n)}static isValidIdentifier(e){return sU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sF.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new sF(["__name__"])}static fromServerFormat(e){let t=[],n="",r=0,i=()=>{if(0===n.length)throw new sw(sb.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""},a=!1;for(;r<e.length;){let t=e[r];if("\\"===t){if(r+1===e.length)throw new sw(sb.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new sw(sb.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?a=!a:"."!==t||a?n+=t:i(),r++}if(i(),a)throw new sw(sb.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sF(t)}static emptyPath(){return new sF([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e){this.path=e}static fromPath(e){return new sV(sM.fromString(e))}static fromName(e){return new sV(sM.fromString(e).popFirst(5))}static empty(){return new sV(sM.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===sM.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return sM.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new sV(new sM(e.slice()))}}class sj{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new sj(sL.min(),sV.empty(),-1)}static max(){return new sj(sL.max(),sV.empty(),-1)}}class sz{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sB(e){if(e.code!==sb.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==e.message)throw e;sp("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&sv(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new s$((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof s$?t:s$.resolve(t)}catch(e){return s$.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):s$.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):s$.reject(t)}static resolve(e){return new s$((t,n)=>{t(e)})}static reject(e){return new s$((t,n)=>{n(e)})}static waitFor(e){return new s$((t,n)=>{let r=0,i=0,a=!1;e.forEach(e=>{++r,e.next(()=>{++i,a&&i===r&&t()},e=>n(e))}),a=!0,i===r&&t()})}static or(e){let t=s$.resolve(!1);for(let n of e)t=t.next(e=>e?s$.resolve(e):n());return t}static forEach(e,t){let n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new s$((n,r)=>{let i=e.length,a=Array(i),s=0;for(let o=0;o<i;o++){let l=o;t(e[l]).next(e=>{a[l]=e,++s===i&&n(a)},e=>r(e))}})}static doWhile(e,t){return new s$((n,r)=>{let i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function sq(e){return"IndexedDbTransactionError"===e.name}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sH{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.se&&this.se(e),e}}function sW(e){return 0===e&&1/e==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sK(e){let t=0;for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function sG(e,t){for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function sQ(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}sH.oe=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sY{constructor(e,t){this.comparator=e,this.root=t||sX.EMPTY}insert(e,t){return new sY(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,sX.BLACK,null,null))}remove(e){return new sY(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sX.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return -1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){let e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sJ(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sJ(this.root,e,this.comparator,!1)}getReverseIterator(){return new sJ(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sJ(this.root,e,this.comparator,!0)}}class sJ{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sX{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:sX.RED,this.left=null!=r?r:sX.EMPTY,this.right=null!=i?i:sX.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new sX(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}removeMin(){if(this.left.isEmpty())return sX.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()}remove(e,t){let n,r=this;if(0>t(e,r.key))r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return sX.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}rotateLeft(){let e=this.copy(null,null,sX.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,sX.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){return Math.pow(2,this.check())<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw sv();let e=this.left.check();if(e!==this.right.check())throw sv();return e+(this.isRed()?0:1)}}sX.EMPTY=null,sX.RED=!0,sX.BLACK=!1,sX.EMPTY=new class{constructor(){this.size=0}get key(){throw sv()}get value(){throw sv()}get color(){throw sv()}get left(){throw sv()}get right(){throw sv()}copy(e,t,n,r,i){return this}insert(e,t,n){return new sX(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sZ{constructor(e){this.comparator=e,this.data=new sY(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){let n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){let r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new s0(this.data.getIterator())}getIteratorFrom(e){return new s0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof sZ)||this.size!==e.size)return!1;let t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){let e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new sZ(this.comparator);return t.data=e,t}}class s0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e){this.fields=e,e.sort(sF.comparator)}static empty(){return new s1([])}unionWith(e){let t=new sZ(sF.comparator);for(let e of this.fields)t=t.add(e);for(let n of e)t=t.add(n);return new s1(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return sP(this.fields,e.fields,(e,t)=>e.isEqual(t))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e){this.binaryString=e}static fromBase64String(e){return new s3(function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new s2("Invalid base64 string: "+e):e}}(e))}static fromUint8Array(e){return new s3(function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e))}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){let t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return sR(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}s3.EMPTY_BYTE_STRING=new s3("");const s4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function s6(e){if(e||sv(),"string"==typeof e){let t=0,n=s4.exec(e);if(n||sv(),n[1]){let e=n[1];t=Number(e=(e+"000000000").substr(0,9))}return{seconds:Math.floor(new Date(e).getTime()/1e3),nanos:t}}return{seconds:s5(e.seconds),nanos:s5(e.nanos)}}function s5(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function s8(e){return"string"==typeof e?s3.fromBase64String(e):s3.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s9(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function s7(e){let t=e.mapValue.fields.__previous_value__;return s9(t)?s7(t):t}function oe(e){let t=s6(e.mapValue.fields.__local_write_time__.timestampValue);return new sO(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,t,n,r,i,a,s,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=o,this.useFetchStreams=l}}class on{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new on("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof on&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function oi(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?s9(e)?4:ov(e)?0x1fffffffffffff:og(e)?10:11:sv()}function oa(e,t){if(e===t)return!0;let n=oi(e);if(n!==oi(t))return!1;switch(n){case 0:case 0x1fffffffffffff:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return oe(e).isEqual(oe(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;let n=s6(e.timestampValue),r=s6(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return s8(e.bytesValue).isEqual(s8(t.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return s5(e.geoPointValue.latitude)===s5(t.geoPointValue.latitude)&&s5(e.geoPointValue.longitude)===s5(t.geoPointValue.longitude);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return s5(e.integerValue)===s5(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){let n=s5(e.doubleValue),r=s5(t.doubleValue);return n===r?sW(n)===sW(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return sP(e.arrayValue.values||[],t.arrayValue.values||[],oa);case 10:case 11:return function(e,t){let n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(sK(n)!==sK(r))return!1;for(let e in n)if(n.hasOwnProperty(e)&&(void 0===r[e]||!oa(n[e],r[e])))return!1;return!0}(e,t);default:return sv()}}function os(e,t){return void 0!==(e.values||[]).find(e=>oa(e,t))}function oo(e,t){if(e===t)return 0;let n=oi(e),r=oi(t);if(n!==r)return sR(n,r);switch(n){case 0:case 0x1fffffffffffff:return 0;case 1:return sR(e.booleanValue,t.booleanValue);case 2:return function(e,t){let n=s5(e.integerValue||e.doubleValue),r=s5(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ol(e.timestampValue,t.timestampValue);case 4:return ol(oe(e),oe(t));case 5:return sR(e.stringValue,t.stringValue);case 6:return function(e,t){let n=s8(e),r=s8(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){let n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){let t=sR(n[e],r[e]);if(0!==t)return t}return sR(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){let n=sR(s5(e.latitude),s5(t.latitude));return 0!==n?n:sR(s5(e.longitude),s5(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return ou(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,a;let s=e.fields||{},o=t.fields||{},l=null===(n=s.value)||void 0===n?void 0:n.arrayValue,u=null===(r=o.value)||void 0===r?void 0:r.arrayValue,c=sR((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(a=null==u?void 0:u.values)||void 0===a?void 0:a.length)||0);return 0!==c?c:ou(l,u)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===or.mapValue&&t===or.mapValue)return 0;if(e===or.mapValue)return 1;if(t===or.mapValue)return -1;let n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let e=0;e<r.length&&e<a.length;++e){let t=sR(r[e],a[e]);if(0!==t)return t;let s=oo(n[r[e]],i[a[e]]);if(0!==s)return s}return sR(r.length,a.length)}(e.mapValue,t.mapValue);default:throw sv()}}function ol(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return sR(e,t);let n=s6(e),r=s6(t),i=sR(n.seconds,r.seconds);return 0!==i?i:sR(n.nanos,r.nanos)}function ou(e,t){let n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){let t=oo(n[e],r[e]);if(t)return t}return sR(n.length,r.length)}function oc(e){var t,n;return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){let t=s6(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?s8(e.bytesValue).toBase64():"referenceValue"in e?(t=e.referenceValue,sV.fromName(t).toString()):"geoPointValue"in e?(n=e.geoPointValue,`geo(${n.latitude},${n.longitude})`):"arrayValue"in e?function(e){let t="[",n=!0;for(let r of e.values||[])n?n=!1:t+=",",t+=oc(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){let t=Object.keys(e.fields||{}).sort(),n="{",r=!0;for(let i of t)r?r=!1:n+=",",n+=`${i}:${oc(e.fields[i])}`;return n+"}"}(e.mapValue):sv()}function oh(e){return!!e&&"integerValue"in e}function of(e){return!!e&&"arrayValue"in e}function od(e){return!!e&&"nullValue"in e}function op(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function om(e){return!!e&&"mapValue"in e}function og(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function oy(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){let t={mapValue:{fields:{}}};return sG(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=oy(n)),t}if(e.arrayValue){let t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=oy(e.arrayValue.values[n]);return t}return Object.assign({},e)}function ov(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e){this.value=e}static empty(){return new ob({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(!om(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=oy(t)}setAll(e){let t=sF.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){let e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=oy(e):r.push(i.lastSegment())});let i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){let t=this.field(e.popLast());om(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return oa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];om(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){for(let r of(sG(t,(t,n)=>e[t]=n),n))delete e[r]}clone(){return new ob(oy(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,t,n,r,i,a,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=s}static newInvalidDocument(e){return new ow(e,0,sL.min(),sL.min(),sL.min(),ob.empty(),0)}static newFoundDocument(e,t,n,r){return new ow(e,1,t,sL.min(),n,r,0)}static newNoDocument(e,t){return new ow(e,2,t,sL.min(),sL.min(),ob.empty(),0)}static newUnknownDocument(e,t){return new ow(e,3,t,sL.min(),sL.min(),ob.empty(),2)}convertToFoundDocument(e,t){return this.createTime.isEqual(sL.min())&&(2===this.documentType||0===this.documentType)&&(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ob.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ob.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=sL.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ow&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ow(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,t){this.position=e,this.inclusive=t}}function oS(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){let a=t[i],s=e.position[i];if(r=a.field.isKeyField()?sV.comparator(sV.fromName(s.referenceValue),n.key):oo(s,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function o_(e,t){if(null===e)return null===t;if(null===t||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!oa(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e,t="asc"){this.field=e,this.dir=t}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{}class ox extends oT{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new oA(e,t,n):"array-contains"===t?new oL(e,n):"in"===t?new oD(e,n):"not-in"===t?new oM(e,n):"array-contains-any"===t?new oU(e,n):new ox(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new oR(e,n):new oP(e,n)}matches(e){let t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(oo(t,this.value)):null!==t&&oi(this.value)===oi(t)&&this.matchesComparison(oo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return sv()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class oI extends oT{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new oI(e,t)}matches(e){return oC(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function oC(e){return"and"===e.op}function oN(e){for(let t of e.filters)if(t instanceof oI)return!1;return!0}class oA extends ox{constructor(e,t,n){super(e,t,n),this.key=sV.fromName(n.referenceValue)}matches(e){let t=sV.comparator(e.key,this.key);return this.matchesComparison(t)}}class oR extends ox{constructor(e,t){super(e,"in",t),this.keys=oO("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class oP extends ox{constructor(e,t){super(e,"not-in",t),this.keys=oO("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function oO(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>sV.fromName(e.referenceValue))}class oL extends ox{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return of(t)&&os(t.arrayValue,this.value)}}class oD extends ox{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return null!==t&&os(this.value.arrayValue,t)}}class oM extends ox{constructor(e,t){super(e,"not-in",t)}matches(e){if(os(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return null!==t&&!os(this.value.arrayValue,t)}}class oU extends ox{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!of(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>os(this.value.arrayValue,e))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(e,t=null,n=[],r=[],i=null,a=null,s=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=s,this.ue=null}}function oV(e,t=null,n=[],r=[],i=null,a=null,s=null){return new oF(e,t,n,r,i,a,s)}function oj(e){if(null===e.ue){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(e=>(function e(t){if(t instanceof ox)return t.field.canonicalString()+t.op.toString()+oc(t.value);if(oN(t)&&oC(t))return t.filters.map(t=>e(t)).join(",");{let n=t.filters.map(t=>e(t)).join(",");return`${t.op}(${n})`}})(e)).join(","),t+="|ob:",t+=e.orderBy.map(e=>e.field.canonicalString()+e.dir).join(","),null==e.limit||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>oc(e)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>oc(e)).join(",")),e.ue=t}return e.ue}function oz(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++){var n,r;if(n=e.orderBy[i],r=t.orderBy[i],!(n.dir===r.dir&&n.field.isEqual(r.field)))return!1}if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!function e(t,n){return t instanceof ox?n instanceof ox&&t.op===n.op&&t.field.isEqual(n.field)&&oa(t.value,n.value):t instanceof oI?n instanceof oI&&t.op===n.op&&t.filters.length===n.filters.length&&t.filters.reduce((t,r,i)=>t&&e(r,n.filters[i]),!0):void sv()}(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!o_(e.startAt,t.startAt)&&o_(e.endAt,t.endAt)}function oB(e){return sV.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o${constructor(e,t=null,n=[],r=[],i=null,a="F",s=null,o=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=s,this.endAt=o,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function oq(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function oH(e){if(null===e.ce){let t;e.ce=[];let n=new Set;for(let t of e.explicitOrderBy)e.ce.push(t),n.add(t.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(t=new sZ(sF.comparator),e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t).forEach(t=>{n.has(t.canonicalString())||t.isKeyField()||e.ce.push(new ok(t,r))}),n.has(sF.keyField().canonicalString())||e.ce.push(new ok(sF.keyField(),r))}return e.ce}function oW(e){return e.le||(e.le=function(e,t){if("F"===e.limitType)return oV(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{let t="desc"===e.dir?"asc":"desc";return new ok(e.field,t)});let n=e.endAt?new oE(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new oE(e.startAt.position,e.startAt.inclusive):null;return oV(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}(e,oH(e))),e.le}function oK(e,t,n){return new o$(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function oG(e,t){return oz(oW(e),oW(t))&&e.limitType===t.limitType}function oQ(e){return`${oj(oW(e))}|lt:${e.limitType}`}function oY(e){var t;let n;return`Query(target=${n=(t=oW(e)).path.canonicalString(),null!==t.collectionGroup&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(e=>(function e(t){return t instanceof ox?`${t.field.canonicalString()} ${t.op} ${oc(t.value)}`:t instanceof oI?t.op.toString()+" {"+t.getFilters().map(e).join(" ,")+"}":"Filter"})(e)).join(", ")}]`),null==t.limit||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(e=>`${e.field.canonicalString()} (${e.dir})`).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(e=>oc(e)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(e=>oc(e)).join(",")),`Target(${n})`}; limitType=${e.limitType})`}function oJ(e,t){return t.isFoundDocument()&&function(e,t){let n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):sV.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(let n of oH(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(let n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&(!e.startAt||!!function(e,t,n){let r=oS(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,oH(e),t))&&(!e.endAt||!!function(e,t,n){let r=oS(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,oH(e),t))}function oX(e){return(t,n)=>{let r=!1;for(let i of oH(e)){let e=function(e,t,n){let r=e.field.isKeyField()?sV.comparator(t.key,n.key):function(e,t,n){let r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?oo(r,i):sv()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return -1*r;default:return sv()}}(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oZ{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){for(let[t,r]of n)if(this.equalsFn(t,e))return r}}has(e){return void 0!==this.get(e)}set(e,t){let n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){sG(this.inner,(t,n)=>{for(let[t,r]of n)e(t,r)})}isEmpty(){return sQ(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0=new sY(sV.comparator),o1=new sY(sV.comparator);function o2(...e){let t=o1;for(let n of e)t=t.insert(n.key,n);return t}function o3(e){let t=o1;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function o4(){return new oZ(e=>e.toString(),(e,t)=>e.isEqual(t))}const o6=new sY(sV.comparator),o5=new sZ(sV.comparator);function o8(...e){let t=o5;for(let n of e)t=t.add(n);return t}const o9=new sZ(sR);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o7(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sW(t)?"-0":t}}function le(e){return{integerValue:""+e}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(){this._=void 0}}function ln(e,t){return e instanceof ll?oh(t)||t&&"doubleValue"in t?t:{integerValue:0}:null}class lr extends lt{}class li extends lt{constructor(e){super(),this.elements=e}}function la(e,t){let n=lc(t);for(let t of e.elements)n.some(e=>oa(e,t))||n.push(t);return{arrayValue:{values:n}}}class ls extends lt{constructor(e){super(),this.elements=e}}function lo(e,t){let n=lc(t);for(let t of e.elements)n=n.filter(e=>!oa(e,t));return{arrayValue:{values:n}}}class ll extends lt{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function lu(e){return s5(e.integerValue||e.doubleValue)}function lc(e){return of(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class lh{constructor(e,t){this.version=e,this.transformResults=t}}class lf{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new lf}static exists(e){return new lf(void 0,e)}static updateTime(e){return new lf(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ld(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class lp{}function lm(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new l_(e.key,lf.none()):new lv(e.key,e.data,lf.none());{let n=e.data,r=ob.empty(),i=new sZ(sF.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new lb(e.key,r,new s1(i.toArray()),lf.none())}}function lg(e,t,n,r){return e instanceof lv?function(e,t,n,r){if(!ld(e.precondition,t))return n;let i=e.value.clone(),a=lS(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof lb?function(e,t,n,r){if(!ld(e.precondition,t))return n;let i=lS(e.fieldTransforms,r,t),a=t.data;return(a.setAll(lw(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n)?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):ld(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}function ly(e,t){var n,r;return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(n=e.fieldTransforms,r=t.fieldTransforms,!!(void 0===n&&void 0===r||!(!n||!r)&&sP(n,r,(e,t)=>{var n,r;return e.field.isEqual(t.field)&&(n=e.transform,r=t.transform,n instanceof li&&r instanceof li||n instanceof ls&&r instanceof ls?sP(n.elements,r.elements,oa):n instanceof ll&&r instanceof ll?oa(n.Pe,r.Pe):n instanceof lr&&r instanceof lr)})))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class lv extends lp{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class lb extends lp{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function lw(e){let t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=e.data.field(n);t.set(n,r)}}),t}function lE(e,t,n){var r;let i=new Map;e.length===n.length||sv();for(let a=0;a<n.length;a++){let s=e[a],o=s.transform,l=t.data.field(s.field);i.set(s.field,(r=n[a],o instanceof li?la(o,l):o instanceof ls?lo(o,l):r))}return i}function lS(e,t,n){let r=new Map;for(let i of e){let e=i.transform,a=n.data.field(i.field);r.set(i.field,e instanceof lr?function(e,t){let n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&s9(t)&&(t=s7(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(t,a):e instanceof li?la(e,a):e instanceof ls?lo(e,a):function(e,t){let n=ln(e,t),r=lu(n)+lu(e.Pe);return oh(n)&&oh(e.Pe)?le(r):o7(e.serializer,r)}(e,a))}return r}class l_ extends lp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lk extends lp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){let n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){let i=this.mutations[t];if(i.key.isEqual(e.key)){var r;r=n[t],i instanceof lv?function(e,t,n){let r=e.value.clone(),i=lE(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(i,e,r):i instanceof lb?function(e,t,n){if(!ld(e.precondition,t))return void t.convertToUnknownDocument(n.version);let r=lE(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(lw(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(i,e,r):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,r)}}}applyToLocalView(e,t){for(let n of this.baseMutations)n.key.isEqual(e.key)&&(t=lg(n,e,t,this.localWriteTime));for(let n of this.mutations)n.key.isEqual(e.key)&&(t=lg(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let n=o4();return this.mutations.forEach(r=>{let i=e.get(r.key),a=i.overlayedDocument,s=this.applyToLocalView(a,i.mutatedFields),o=lm(a,s=t.has(r.key)?null:s);null!==o&&n.set(r.key,o),a.isValidDocument()||a.convertToNoDocument(sL.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),o8())}isEqual(e){return this.batchId===e.batchId&&sP(this.mutations,e.mutations,(e,t)=>ly(e,t))&&sP(this.baseMutations,e.baseMutations,(e,t)=>ly(e,t))}}class lx{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){e.mutations.length===n.length||sv();let r=o6,i=e.mutations;for(let e=0;e<i.length;e++)r=r.insert(i[e].key,n[e].version);return new lx(e,t,n,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e,t){this.count=e,this.unchangedNames=t}}function lN(e){if(void 0===e)return sm("GRPC error has no .code"),sb.UNKNOWN;switch(e){case k.OK:return sb.OK;case k.CANCELLED:return sb.CANCELLED;case k.UNKNOWN:return sb.UNKNOWN;case k.DEADLINE_EXCEEDED:return sb.DEADLINE_EXCEEDED;case k.RESOURCE_EXHAUSTED:return sb.RESOURCE_EXHAUSTED;case k.INTERNAL:return sb.INTERNAL;case k.UNAVAILABLE:return sb.UNAVAILABLE;case k.UNAUTHENTICATED:return sb.UNAUTHENTICATED;case k.INVALID_ARGUMENT:return sb.INVALID_ARGUMENT;case k.NOT_FOUND:return sb.NOT_FOUND;case k.ALREADY_EXISTS:return sb.ALREADY_EXISTS;case k.PERMISSION_DENIED:return sb.PERMISSION_DENIED;case k.FAILED_PRECONDITION:return sb.FAILED_PRECONDITION;case k.ABORTED:return sb.ABORTED;case k.OUT_OF_RANGE:return sb.OUT_OF_RANGE;case k.UNIMPLEMENTED:return sb.UNIMPLEMENTED;case k.DATA_LOSS:return sb.DATA_LOSS;default:return sv()}}(T=k||(k={}))[T.OK=0]="OK",T[T.CANCELLED=1]="CANCELLED",T[T.UNKNOWN=2]="UNKNOWN",T[T.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",T[T.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",T[T.NOT_FOUND=5]="NOT_FOUND",T[T.ALREADY_EXISTS=6]="ALREADY_EXISTS",T[T.PERMISSION_DENIED=7]="PERMISSION_DENIED",T[T.UNAUTHENTICATED=16]="UNAUTHENTICATED",T[T.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",T[T.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",T[T.ABORTED=10]="ABORTED",T[T.OUT_OF_RANGE=11]="OUT_OF_RANGE",T[T.UNIMPLEMENTED=12]="UNIMPLEMENTED",T[T.INTERNAL=13]="INTERNAL",T[T.UNAVAILABLE=14]="UNAVAILABLE",T[T.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA=new c([0xffffffff,0xffffffff],0);function lR(e){let t=(new TextEncoder).encode(e),n=new h;return n.update(t),new Uint8Array(n.digest())}function lP(e){let t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new c([n,r],0),new c([i,a],0)]}class lO{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new lL(`Invalid padding: ${t}`);if(n<0||e.length>0&&0===this.hashCount)throw new lL(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new lL(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=c.fromNumber(this.Te)}Ee(e,t,n){let r=e.add(t.multiply(c.fromNumber(n)));return 1===r.compare(lA)&&(r=new c([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ie).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;let[t,n]=lP(lR(e));for(let e=0;e<this.hashCount;e++){let r=this.Ee(t,n,e);if(!this.de(r))return!1}return!0}static create(e,t,n){let r=new lO(new Uint8Array(Math.ceil(e/8)),e%8==0?0:8-e%8,t);return n.forEach(e=>r.insert(e)),r}insert(e){if(0===this.Te)return;let[t,n]=lP(lR(e));for(let e=0;e<this.hashCount;e++){let r=this.Ee(t,n,e);this.Ae(r)}}Ae(e){let t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class lL extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){let r=new Map;return r.set(e,lM.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new lD(sL.min(),r,new sY(sR),o0,o8())}}class lM{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new lM(n,t,o8(),o8(),o8())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lU{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class lF{constructor(e,t){this.targetId=e,this.me=t}}class lV{constructor(e,t,n=s3.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class lj{constructor(){this.fe=0,this.ge=l$(),this.pe=s3.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=o8(),t=o8(),n=o8();return this.ge.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:sv()}}),new lM(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=l$()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,this.fe>=0||sv()}Ne(){this.we=!0,this.ye=!0}}class lz{constructor(e){this.Le=e,this.Be=new Map,this.ke=o0,this.qe=lB(),this.Qe=lB(),this.Ke=new sY(sR)}$e(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{let n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.je(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.De(e.resumeToken));break;default:sv()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((e,n)=>{this.je(n)&&t(n)})}Je(e){let t=e.targetId,n=e.me.count,r=this.Ye(t);if(r){let i=r.target;if(oB(i)){if(0===n){let e=new sV(i.path);this.We(t,e,ow.newNoDocument(e,sL.min()))}else 1===n||sv()}else{let r=this.Ze(t);if(r!==n){let n=this.Xe(e),i=n?this.et(n,e,r):1;0!==i&&(this.He(t),this.Ke=this.Ke.insert(t,2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){let t,n;let r=e.me.unchangedNames;if(!r||!r.bits)return null;let{bits:{bitmap:i="",padding:a=0},hashCount:s=0}=r;try{t=s8(i).toUint8Array()}catch(e){if(e instanceof s2)return sg("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{n=new lO(t,a,s)}catch(e){return sg(e instanceof lL?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===n.Te?null:n}et(e,t,n){return t.me.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){let n=this.Le.getRemoteKeysForTarget(t),r=0;return n.forEach(n=>{let i=this.Le.nt(),a=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(a)||(this.We(t,n,null),r++)}),r}it(e){let t=new Map;this.Be.forEach((n,r)=>{let i=this.Ye(r);if(i){if(n.current&&oB(i.target)){let t=new sV(i.target.path);this.st(t).has(r)||this.ot(r,t)||this.We(r,t,ow.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}});let n=o8();this.Qe.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{let t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.ke.forEach((t,n)=>n.setReadTime(e));let r=new lD(e,t,this.Ke,this.ke,n);return this.ke=o0,this.qe=lB(),this.Qe=lB(),this.Ke=new sY(sR),r}Ue(e,t){if(!this.je(e))return;let n=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,n){if(!this.je(e))return;let r=this.ze(e);this.ot(e,t)?r.Fe(t,1):r.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ze(e){let t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new lj,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new sZ(sR),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new sZ(sR),this.qe=this.qe.insert(e,t)),t}je(e){let t=null!==this.Ye(e);return t||sp("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new lj),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function lB(){return new sY(sV.comparator)}function l$(){return new sY(sV.comparator)}const lq={asc:"ASCENDING",desc:"DESCENDING"},lH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lW={and:"AND",or:"OR"};class lK{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function lG(e,t){return e.useProto3Json||null==t?t:{value:t}}function lQ(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function lY(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function lJ(e){return e||sv(),sL.fromTimestamp(function(e){let t=s6(e);return new sO(t.seconds,t.nanos)}(e))}function lX(e,t){return lZ(e,t).canonicalString()}function lZ(e,t){let n=new sM(["projects",e.projectId,"databases",e.database]).child("documents");return void 0===t?n:n.child(t)}function l0(e){let t=sM.fromString(e);return l7(t)||sv(),t}function l1(e,t){return lX(e.databaseId,t.path)}function l2(e,t){let n=l0(t);if(n.get(1)!==e.databaseId.projectId)throw new sw(sb.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new sw(sb.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new sV(l6(n))}function l3(e,t){return lX(e.databaseId,t)}function l4(e){return new sM(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function l6(e){return e.length>4&&"documents"===e.get(4)||sv(),e.popFirst(5)}function l5(e,t,n){return{name:l1(e,t),fields:n.value.mapValue.fields}}function l8(e){return{fieldPath:e.canonicalString()}}function l9(e){return sF.fromServerFormat(e.fieldPath)}function l7(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e,t,n,r,i=sL.min(),a=sL.min(),s=s3.EMPTY_BYTE_STRING,o=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=o}withSequenceNumber(e){return new ue(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ue(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ue(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ue(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.ht=e}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(){}Et(e,t){this.dt(e,t),t.At()}dt(e,t){if("nullValue"in e)this.Rt(t,5);else if("booleanValue"in e)this.Rt(t,10),t.Vt(e.booleanValue?1:0);else if("integerValue"in e)this.Rt(t,15),t.Vt(s5(e.integerValue));else if("doubleValue"in e){let n=s5(e.doubleValue);isNaN(n)?this.Rt(t,13):(this.Rt(t,15),sW(n)?t.Vt(0):t.Vt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Rt(t,20),"string"==typeof n&&(n=s6(n)),t.ft(`${n.seconds||""}`),t.Vt(n.nanos||0)}else if("stringValue"in e)this.gt(e.stringValue,t),this.yt(t);else if("bytesValue"in e)this.Rt(t,30),t.wt(s8(e.bytesValue)),this.yt(t);else if("referenceValue"in e)this.St(e.referenceValue,t);else if("geoPointValue"in e){let n=e.geoPointValue;this.Rt(t,45),t.Vt(n.latitude||0),t.Vt(n.longitude||0)}else"mapValue"in e?ov(e)?this.Rt(t,Number.MAX_SAFE_INTEGER):og(e)?this.bt(e.mapValue,t):(this.Dt(e.mapValue,t),this.yt(t)):"arrayValue"in e?(this.vt(e.arrayValue,t),this.yt(t)):sv()}gt(e,t){this.Rt(t,25),this.Ct(e,t)}Ct(e,t){t.ft(e)}Dt(e,t){let n=e.fields||{};for(let e of(this.Rt(t,55),Object.keys(n)))this.gt(e,t),this.dt(n[e],t)}bt(e,t){var n,r;let i=e.fields||{};this.Rt(t,53);let a="value",s=(null===(r=null===(n=i[a].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Rt(t,15),t.Vt(s5(s)),this.gt(a,t),this.dt(i[a],t)}vt(e,t){let n=e.values||[];for(let e of(this.Rt(t,50),n))this.dt(e,t)}St(e,t){this.Rt(t,37),sV.fromName(e).path.forEach(e=>{this.Rt(t,60),this.Ct(e,t)})}Rt(e,t){e.Vt(t)}yt(e){e.Vt(2)}}un.Ft=new un;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(){this.ln=new ui}addToCollectionParentIndex(e,t){return this.ln.add(t),s$.resolve()}getCollectionParents(e,t){return s$.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return s$.resolve()}deleteFieldIndex(e,t){return s$.resolve()}deleteAllFieldIndexes(e){return s$.resolve()}createTargetIndexes(e,t){return s$.resolve()}getDocumentsMatchingTarget(e,t){return s$.resolve(null)}getIndexType(e,t){return s$.resolve(0)}getFieldIndexes(e,t){return s$.resolve([])}getNextCollectionGroupToUpdate(e){return s$.resolve(null)}getMinOffset(e,t){return s$.resolve(sj.min())}getMinOffsetFromCollectionGroup(e,t){return s$.resolve(sj.min())}updateCollectionGroup(e,t,n){return s$.resolve()}updateIndexEntries(e,t){return s$.resolve()}}class ui{constructor(){this.index={}}add(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new sZ(sM.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new sZ(sM.comparator)).toArray()}}new Uint8Array(0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class us{static withCacheSize(e){return new us(e,us.DEFAULT_COLLECTION_PERCENTILE,us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */us.DEFAULT_COLLECTION_PERCENTILE=10,us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,us.DEFAULT=new us(0x2800000,us.DEFAULT_COLLECTION_PERCENTILE,us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),us.DISABLED=new us(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new uo(0)}static Qn(){return new uo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul([e,t],[n,r]){let i=sR(e,n);return 0===i?sR(t,r):i}class uu{constructor(e){this.Gn=e,this.buffer=new sZ(ul),this.zn=0}jn(){return++this.zn}Hn(e){let t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{let e=this.buffer.last();0>ul(t,e)&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class uc{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return null!==this.Jn}Yn(e){sp("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){sq(e)?sp("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await sB(e)}await this.Yn(3e5)})}}class uh{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return s$.resolve(sH.oe);let n=new uu(t);return this.Zn.forEachTarget(e,e=>n.Hn(e.sequenceNumber)).next(()=>this.Zn.er(e,e=>n.Hn(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.Zn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return -1===this.params.cacheSizeCollectionThreshold?(sp("LruGarbageCollector","Garbage collection skipped; disabled"),s$.resolve(ua)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(sp("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ua):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let n,r,i,a,s,o,l;let c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(sp("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,s=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),sd()<=u.DEBUG&&sp("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-c}ms
	Determined least recently used ${r} in `+(s-a)+"ms\n"+`	Removed ${i} targets in `+(o-s)+"ms\n"+`	Removed ${e} documents in `+(l-o)+"ms\n"+`Total Duration: ${l-c}ms`),s$.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(){this.changes=new oZ(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ow.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let n=this.changes.get(t);return void 0!==n?s$.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&lg(n.mutation,e,s1.empty(),sO.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,o8()).next(()=>t))}getLocalViewOfDocuments(e,t,n=o8()){let r=o4();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=o2();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){let n=o4();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,o8()))}populateOverlays(e,t,n){let r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=o0,a=o4(),s=o4();return t.forEach((e,t)=>{let s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof lb)?i=i.insert(t.key,t):void 0!==s?(a.set(t.key,s.mutation.getFieldMask()),lg(s.mutation,t,s.mutation.getFieldMask(),sO.now())):a.set(t.key,s1.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>a.set(e,t)),t.forEach((e,t)=>{var n;return s.set(e,new ud(t,null!==(n=a.get(e))&&void 0!==n?n:null))}),s))}recalculateAndSaveOverlays(e,t){let n=o4(),r=new sY((e,t)=>e-t),i=o8();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(let i of e)i.keys().forEach(e=>{let a=t.get(e);if(null===a)return;let s=n.get(e)||s1.empty();s=i.applyToLocalView(a,s),n.set(e,s);let o=(r.get(i.batchId)||o8()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{let a=[],s=r.getReverseIterator();for(;s.hasNext();){let r=s.getNext(),o=r.key,l=r.value,u=o4();l.forEach(e=>{if(!i.has(e)){let r=lm(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}}),a.push(this.documentOverlayCache.saveOverlays(e,o,u))}return s$.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return sV.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):null!==t.collectionGroup?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{let a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):s$.resolve(o4()),s=-1,o=i;return a.next(t=>s$.forEach(t,(t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?s$.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,o8())).next(e=>({batchId:s,changes:o3(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new sV(t)).next(e=>{let t=o2();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){let i=t.collectionGroup,a=o2();return this.indexManager.getCollectionParents(e,i).next(s=>s$.forEach(s,s=>{let o=new o$(s.child(i),null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt);return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{a=a.insert(e,t)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{let r=n.getKey();null===e.get(r)&&(e=e.insert(r,ow.newInvalidDocument(r)))});let n=o2();return e.forEach((e,r)=>{let a=i.get(e);void 0!==a&&lg(a.mutation,r,s1.empty(),sO.now()),oJ(t,r)&&(n=n.insert(e,r))}),n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return s$.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,{id:t.id,version:t.version,createTime:lJ(t.createTime)}),s$.resolve()}getNamedQuery(e,t){return s$.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,{name:t.name,query:function(e){let t=function(e){var t;let n,r=function(e){let t=l0(e);return 4===t.length?sM.emptyPath():l6(t)}(e.parent),i=e.structuredQuery,a=i.from?i.from.length:0,s=null;if(a>0){1===a||sv();let e=i.from[0];e.allDescendants?s=e.collectionId:r=r.child(e.collectionId)}let o=[];i.where&&(o=function(e){var t;let n=function e(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":let t=l9(e.unaryFilter.field);return ox.create(t,"==",{doubleValue:NaN});case"IS_NULL":let n=l9(e.unaryFilter.field);return ox.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let r=l9(e.unaryFilter.field);return ox.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let i=l9(e.unaryFilter.field);return ox.create(i,"!=",{nullValue:"NULL_VALUE"});default:return sv()}}(t):void 0!==t.fieldFilter?ox.create(l9(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return sv()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==t.compositeFilter?oI.create(t.compositeFilter.filters.map(t=>e(t)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return sv()}}(t.compositeFilter.op)):sv()}(e);return n instanceof oI&&oN(t=n)&&oC(t)?n.getFilters():[n]}(i.where));let l=[];i.orderBy&&(l=i.orderBy.map(e=>new ok(l9(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))));let u=null;i.limit&&(u=null==(n="object"==typeof(t=i.limit)?t.value:t)?null:n);let c=null;i.startAt&&(c=function(e){let t=!!e.before;return new oE(e.values||[],t)}(i.startAt));let h=null;return i.endAt&&(h=function(e){let t=!e.before;return new oE(e.values||[],t)}(i.endAt)),new o$(r,s,l,o,u,"F",c,h)}({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?oK(t,t.limit,"L"):t}(t.bundledQuery),readTime:lJ(t.readTime)}),s$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(){this.overlays=new sY(sV.comparator),this.Er=new Map}getOverlay(e,t){return s$.resolve(this.overlays.get(t))}getOverlays(e,t){let n=o4();return s$.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.Tt(e,t,r)}),s$.resolve()}removeOverlaysForBatchId(e,t,n){let r=this.Er.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.Er.delete(n)),s$.resolve()}getOverlaysForCollection(e,t,n){let r=o4(),i=t.length+1,a=new sV(t.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){let e=s.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return s$.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new sY((e,t)=>e-t),a=this.overlays.getIterator();for(;a.hasNext();){let e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=o4(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}let s=o4(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>s.set(e,t)),!(s.size()>=r)););return s$.resolve(s)}Tt(e,t,n){let r=this.overlays.get(n.key);if(null!==r){let e=this.Er.get(r.largestBatchId).delete(n.key);this.Er.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new lI(t,n));let i=this.Er.get(t);void 0===i&&(i=o8(),this.Er.set(t,i)),this.Er.set(t,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(){this.sessionToken=s3.EMPTY_BYTE_STRING}getSessionToken(e){return s$.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,s$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(){this.dr=new sZ(ub.Ar),this.Rr=new sZ(ub.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){let n=new ub(e,t);this.dr=this.dr.add(n),this.Rr=this.Rr.add(n)}mr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.gr(new ub(e,t))}pr(e,t){e.forEach(e=>this.removeReference(e,t))}yr(e){let t=new sV(new sM([])),n=new ub(t,e),r=new ub(t,e+1),i=[];return this.Rr.forEachInRange([n,r],e=>{this.gr(e),i.push(e.key)}),i}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){let t=new sV(new sM([])),n=new ub(t,e),r=new ub(t,e+1),i=o8();return this.Rr.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){let t=new ub(e,0),n=this.dr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class ub{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return sV.comparator(e.key,t.key)||sR(e.br,t.br)}static Vr(e,t){return sR(e.br,t.br)||sV.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new sZ(ub.Ar)}checkEmpty(e){return s$.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){let i=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let a=new lT(i,t,n,r);for(let t of(this.mutationQueue.push(a),r))this.vr=this.vr.add(new ub(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return s$.resolve(a)}lookupMutationBatch(e,t){return s$.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){let n=this.Fr(t+1),r=n<0?0:n;return s$.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return s$.resolve(0===this.mutationQueue.length?-1:this.Dr-1)}getAllMutationBatches(e){return s$.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let n=new ub(t,0),r=new ub(t,Number.POSITIVE_INFINITY),i=[];return this.vr.forEachInRange([n,r],e=>{let t=this.Cr(e.br);i.push(t)}),s$.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new sZ(sR);return t.forEach(e=>{let t=new ub(e,0),r=new ub(e,Number.POSITIVE_INFINITY);this.vr.forEachInRange([t,r],e=>{n=n.add(e.br)})}),s$.resolve(this.Mr(n))}getAllMutationBatchesAffectingQuery(e,t){let n=t.path,r=n.length+1,i=n;sV.isDocumentKey(i)||(i=i.child(""));let a=new ub(new sV(i),0),s=new sZ(sR);return this.vr.forEachWhile(e=>{let t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.br)),!0)},a),s$.resolve(this.Mr(s))}Mr(e){let t=[];return e.forEach(e=>{let n=this.Cr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){0===this.Or(t.batchId,"removed")||sv(),this.mutationQueue.shift();let n=this.vr;return s$.forEach(t.mutations,r=>{let i=new ub(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.vr=n})}Ln(e){}containsKey(e,t){let n=new ub(t,0),r=this.vr.firstAfterOrEqual(n);return s$.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,s$.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Cr(e){let t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e){this.Nr=e,this.docs=new sY(sV.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Nr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let n=this.docs.get(t);return s$.resolve(n?n.document.mutableCopy():ow.newInvalidDocument(t))}getEntries(e,t){let n=o0;return t.forEach(e=>{let t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():ow.newInvalidDocument(e))}),s$.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=o0,a=t.path,s=new sV(a.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){let{key:e,value:{document:s}}=o.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||0>=function(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=sV.comparator(e.documentKey,t.documentKey))?n:sR(e.largestBatchId,t.largestBatchId)}(new sj(s.readTime,s.key,-1),n)||(r.has(s.key)||oJ(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return s$.resolve(i)}getAllFromCollectionGroup(e,t,n,r){sv()}Lr(e,t){return s$.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new uS(this)}getSize(e){return s$.resolve(this.size)}}class uS extends uf{constructor(e){super(),this.hr=e}applyChanges(e){let t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.hr.addEntry(e,r)):this.hr.removeEntry(n)}),s$.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e){this.persistence=e,this.Br=new oZ(e=>oj(e),oz),this.lastRemoteSnapshotVersion=sL.min(),this.highestTargetId=0,this.kr=0,this.qr=new uv,this.targetCount=0,this.Qr=uo.qn()}forEachTarget(e,t){return this.Br.forEach((e,n)=>t(n)),s$.resolve()}getLastRemoteSnapshotVersion(e){return s$.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return s$.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),s$.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.kr&&(this.kr=t),s$.resolve()}Un(e){this.Br.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.Qr=new uo(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,s$.resolve()}updateTargetData(e,t){return this.Un(t),s$.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,s$.resolve()}removeTargets(e,t,n){let r=0,i=[];return this.Br.forEach((a,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Br.delete(a),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)}),s$.waitFor(i).next(()=>r)}getTargetCount(e){return s$.resolve(this.targetCount)}getTargetData(e,t){let n=this.Br.get(t)||null;return s$.resolve(n)}addMatchingKeys(e,t,n){return this.qr.mr(t,n),s$.resolve()}removeMatchingKeys(e,t,n){this.qr.pr(t,n);let r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),s$.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),s$.resolve()}getMatchingKeysForTargetId(e,t){let n=this.qr.Sr(t);return s$.resolve(n)}containsKey(e,t){return s$.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e,t){this.Kr={},this.overlays={},this.$r=new sH(0),this.Ur=!1,this.Ur=!0,this.Wr=new uy,this.referenceDelegate=e(this),this.Gr=new u_(this),this.indexManager=new ur,this.remoteDocumentCache=new uE(e=>this.referenceDelegate.zr(e)),this.serializer=new ut(t),this.jr=new um(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ug,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Kr[e.toKey()];return n||(n=new uw(t,this.referenceDelegate),this.Kr[e.toKey()]=n),n}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,n){sp("MemoryPersistence","Starting transaction:",e);let r=new uT(this.$r.next());return this.referenceDelegate.Hr(),n(r).next(e=>this.referenceDelegate.Jr(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Yr(e,t){return s$.or(Object.values(this.Kr).map(n=>()=>n.containsKey(e,t)))}}class uT extends sz{constructor(e){super(),this.currentSequenceNumber=e}}class ux{constructor(e){this.persistence=e,this.Zr=new uv,this.Xr=null}static ei(e){return new ux(e)}get ti(){if(this.Xr)return this.Xr;throw sv()}addReference(e,t,n){return this.Zr.addReference(n,t),this.ti.delete(n.toString()),s$.resolve()}removeReference(e,t,n){return this.Zr.removeReference(n,t),this.ti.add(n.toString()),s$.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),s$.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(e=>this.ti.add(e.toString()));let n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.ti.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return s$.forEach(this.ti,n=>{let r=sV.fromPath(n);return this.ni(e,r).next(e=>{e||t.removeEntry(r,sL.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(e=>{e?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return s$.or([()=>s$.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class uI{constructor(e,t){this.persistence=e,this.ri=new oZ(e=>/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t+="\x01\x01"),t=function(e,t){let n=t,r=e.length;for(let t=0;t<r;t++){let r=e.charAt(t);switch(r){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=r}}return n}(e.get(n),t);return t+"\x01\x01"})(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=new uh(this,t)}static ei(e,t){return new uI(e,t)}Hr(){}Jr(e){return s$.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){let t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}nr(e){let t=0;return this.er(e,e=>{t++}).next(()=>t)}er(e,t){return s$.forEach(this.ri,(n,r)=>this.ir(e,n,r).next(e=>e?s$.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0,r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.Lr(e,r=>this.ir(e,r,t).next(e=>{e||(n++,i.removeEntry(r,sL.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),s$.resolve()}removeTarget(e,t){let n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.ri.set(n,e.currentSequenceNumber),s$.resolve()}removeReference(e,t,n){return this.ri.set(n,e.currentSequenceNumber),s$.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),s$.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=function e(t){switch(oi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let n=s7(t);return n?16+e(n):16;case 5:return 2*t.stringValue.length;case 6:return s8(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(t.arrayValue.values||[]).reduce((t,n)=>t+e(n),0);case 10:case 11:var r;let i;return r=t.mapValue,i=0,sG(r.fields,(t,n)=>{i+=t.length+e(n)}),i;default:throw sv()}}(e.data.value)),t}ir(e,t,n){return s$.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let e=this.ri.get(t);return s$.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Wi=n,this.Gi=r}static zi(e,t){let n=o8(),r=o8();for(let e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new uC(e,t.fromCache,n,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=!function(){var e;let t=null===(e=tC())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(C.process)}catch(e){return!1}}()&&navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")?8:function(e){let t=e.match(/Android ([\d.]+)/i);return Number(t?t[1].split(".").slice(0,2).join("."):"-1")}(tL())>0?6:4}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,n,r){let i={result:null};return this.Xi(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.es(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;let n=new uN;return this.ts(e,t,n).next(r=>{if(i.result=r,this.Hi)return this.ns(e,t,n,r.size)})}).next(()=>i.result)}ns(e,t,n,r){return n.documentReadCount<this.Ji?(sd()<=u.DEBUG&&sp("QueryEngine","SDK will not create cache indexes for query:",oY(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),s$.resolve()):(sd()<=u.DEBUG&&sp("QueryEngine","Query:",oY(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Yi*r?(sd()<=u.DEBUG&&sp("QueryEngine","The SDK decides to create cache indexes for query:",oY(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,oW(t))):s$.resolve())}Xi(e,t){if(oq(t))return s$.resolve(null);let n=oW(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(n=oW(t=oK(t,null,"F"))),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{let i=o8(...r);return this.Zi.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{let a=this.rs(t,r);return this.ss(t,a,i,n.readTime)?this.Xi(e,oK(t,null,"F")):this.os(e,a,t,n)}))})))}es(e,t,n,r){return oq(t)||r.isEqual(sL.min())?s$.resolve(null):this.Zi.getDocuments(e,n).next(i=>{let a=this.rs(t,i);return this.ss(t,a,n,r)?s$.resolve(null):(sd()<=u.DEBUG&&sp("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),oY(t)),this.os(e,a,t,function(e,t){let n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1;return new sj(sL.fromTimestamp(1e9===r?new sO(n+1,0):new sO(n,r)),sV.empty(),-1)}(r,0)).next(e=>e))})}rs(e,t){let n=new sZ(oX(e));return t.forEach((t,r)=>{oJ(e,r)&&(n=n.add(r))}),n}ss(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;let i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}ts(e,t,n){return sd()<=u.DEBUG&&sp("QueryEngine","Using full collection scan to execute query:",oY(t)),this.Zi.getDocumentsMatchingQuery(e,t,sj.min(),n)}os(e,t,n,r){return this.Zi.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,t,n,r){this.persistence=e,this._s=t,this.serializer=r,this.us=new sY(sR),this.cs=new oZ(e=>oj(e),oz),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(n)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new up(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}async function uP(e,t){return await e.persistence.runTransaction("Handle user change","readonly",n=>{let r;return e.mutationQueue.getAllMutationBatches(n).next(i=>(r=i,e.Ps(t),e.mutationQueue.getAllMutationBatches(n))).next(t=>{let i=[],a=[],s=o8();for(let e of r)for(let t of(i.push(e.batchId),e.mutations))s=s.add(t.key);for(let e of t)for(let t of(a.push(e.batchId),e.mutations))s=s.add(t.key);return e.localDocuments.getDocuments(n,s).next(e=>({Ts:e,removedBatchIds:i,addedBatchIds:a}))})})}function uO(e){return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}async function uL(e,t,n){let r=e.us.get(t);try{n||await e.persistence.runTransaction("Release target",n?"readwrite":"readwrite-primary",t=>e.persistence.referenceDelegate.removeTarget(t,r))}catch(e){if(!sq(e))throw e;sp("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}e.us=e.us.remove(t),e.cs.delete(r.target)}function uD(e,t,n){let r=sL.min(),i=o8();return e.persistence.runTransaction("Execute query","readwrite",a=>(function(e,t,n){let r=e.cs.get(n);return void 0!==r?s$.resolve(e.us.get(r)):e.Gr.getTargetData(t,n)})(e,a,oW(t)).next(t=>{if(t)return r=t.lastLimboFreeSnapshotVersion,e.Gr.getMatchingKeysForTargetId(a,t.targetId).next(e=>{i=e})}).next(()=>e._s.getDocumentsMatchingQuery(a,t,n?r:sL.min(),n?i:o8())).next(n=>{var r;let a;return r=t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2)),a=e.ls.get(r)||sL.min(),n.forEach((e,t)=>{t.readTime.compareTo(a)>0&&(a=t.readTime)}),e.ls.set(r,a),{documents:n,ds:i}}))}class uM{constructor(){this.activeTargetIds=o9}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){return JSON.stringify({activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()})}}class uU{constructor(){this._o=new uM,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,n){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new uM,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){for(let e of(sp("ConnectivityMonitor","Network connectivity changed: AVAILABLE"),this.To))e(0)}Po(){for(let e of(sp("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE"),this.To))e(1)}static p(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uj=null;function uz(){return null===uj?uj=0x10000000+Math.round(0x80000000*Math.random()):uj++,"0x"+uj.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u${constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uq="WebChannelConnection";class uH extends class{get Co(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Fo=t+"://"+e.host,this.Mo=`projects/${n}/databases/${r}`,this.xo="(default)"===this.databaseId.database?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Oo(e,t,n,r,i){let a=uz(),s=this.No(e,t.toUriEncodedString());sp("RestConnection",`Sending RPC '${e}' ${a}:`,s,n);let o={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(o,r,i),this.Bo(e,s,o,n).then(t=>(sp("RestConnection",`Received RPC '${e}' ${a}: `,t),t),t=>{throw sg("RestConnection",`RPC '${e}' ${a} failed with error: `,t,"url: ",s,"request:",n),t})}ko(e,t,n,r,i,a){return this.Oo(e,t,n,r,i)}Lo(e,t,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+sh}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}No(e,t){let n=uB[e];return`${this.Fo}/v1/${t}:${n}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,n,r){let i=uz();return new Promise((a,s)=>{let o=new f;o.setWithCredentials(!0),o.listenOnce(p.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case m.NO_ERROR:let t=o.getResponseJson();sp(uq,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),a(t);break;case m.TIMEOUT:sp(uq,`RPC '${e}' ${i} timed out`),s(new sw(sb.DEADLINE_EXCEEDED,"Request time out"));break;case m.HTTP_ERROR:let n=o.getStatus();if(sp(uq,`RPC '${e}' ${i} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);let t=null==e?void 0:e.error;if(t&&t.status&&t.message){let e=function(e){let t=e.toLowerCase().replace(/_/g,"-");return Object.values(sb).indexOf(t)>=0?t:sb.UNKNOWN}(t.status);s(new sw(e,t.message))}else s(new sw(sb.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new sw(sb.UNAVAILABLE,"Connection failed."));break;default:sv()}}finally{sp(uq,`RPC '${e}' ${i} completed.`)}});let l=JSON.stringify(r);sp(uq,`RPC '${e}' ${i} sending request:`,r),o.send(t,"POST",l,n,15)})}qo(e,t,n){let r=uz(),i=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=b(),s=v(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;let u=i.join("");sp(uq,`Creating RPC '${e}' stream ${r}: ${u}`,o);let c=a.createWebChannel(u,o),h=!1,f=!1,p=new u$({Eo:t=>{f?sp(uq,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(h||(sp(uq,`Opening RPC '${e}' stream ${r} transport.`),c.open(),h=!0),sp(uq,`RPC '${e}' stream ${r} sending:`,t),c.send(t))},Ao:()=>c.close()}),m=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return m(c,d.EventType.OPEN,()=>{f||(sp(uq,`RPC '${e}' stream ${r} transport opened.`),p.So())}),m(c,d.EventType.CLOSE,()=>{f||(f=!0,sp(uq,`RPC '${e}' stream ${r} transport closed`),p.Do())}),m(c,d.EventType.ERROR,t=>{f||(f=!0,sg(uq,`RPC '${e}' stream ${r} transport errored:`,t),p.Do(new sw(sb.UNAVAILABLE,"The operation could not be completed")))}),m(c,d.EventType.MESSAGE,t=>{var n;if(!f){let i=t.data[0];i||sv();let a=(null==i?void 0:i.error)||(null===(n=i[0])||void 0===n?void 0:n.error);if(a){sp(uq,`RPC '${e}' stream ${r} received error:`,a);let t=a.status,n=function(e){let t=k[e];if(void 0!==t)return lN(t)}(t),i=a.message;void 0===n&&(n=sb.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),f=!0,p.Do(new sw(n,i)),c.close()}else sp(uq,`RPC '${e}' stream ${r} received:`,i),p.vo(i)}}),m(s,y.STAT_EVENT,t=>{t.stat===g.PROXY?sp(uq,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===g.NOPROXY&&sp(uq,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{p.bo()},0),p}}function uW(){return"undefined"!=typeof document?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uK(e){return new lK(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uG{constructor(e,t,n=1e3,r=1.5,i=6e4){this.li=e,this.timerId=t,this.Qo=n,this.Ko=r,this.$o=i,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();let t=Math.floor(this.Uo+this.Ho()),n=Math.max(0,Date.now()-this.Go),r=Math.max(0,t-n);r>0&&sp("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,r,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){null!==this.Wo&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){null!==this.Wo&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uQ{constructor(e,t,n,r,i,a,s,o){this.li=e,this.Yo=n,this.Zo=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=o,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new uG(e,t)}i_(){return 1===this.state||5===this.state||this.s_()}s_(){return 2===this.state||3===this.state}start(){this.n_=0,4!==this.state?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&null===this.e_&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,4!==e?this.r_.reset():t&&t.code===sb.RESOURCE_EXHAUSTED?(sm(t.toString()),sm("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===sb.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;let e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,n])=>{this.Xo===t&&this.I_(e,n)},t=>{e(()=>{let e=new sw(sb.UNKNOWN,"Fetching auth token failed: "+t.message);return this.E_(e)})})}I_(e,t){let n=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{n(()=>this.listener.Ro())}),this.stream.mo(()=>{n(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(e=>{n(()=>this.E_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.n_?this.A_(e):this.onNext(e))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return sp("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(sp("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uY extends uQ{constructor(e,t,n,r,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();let t=function(e,t){let n;if("targetChange"in t){var r,i;t.targetChange;let a="NO_CHANGE"===(r=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:sv(),s=t.targetChange.targetIds||[],o=(i=t.targetChange.resumeToken,e.useProto3Json?(void 0===i||"string"==typeof i||sv(),s3.fromBase64String(i||"")):(void 0===i||i instanceof aV||i instanceof Uint8Array||sv(),s3.fromUint8Array(i||new Uint8Array))),l=t.targetChange.cause;n=new lV(a,s,o,l&&new sw(void 0===l.code?sb.UNKNOWN:lN(l.code),l.message||"")||null)}else if("documentChange"in t){t.documentChange;let r=t.documentChange;r.document,r.document.name,r.document.updateTime;let i=l2(e,r.document.name),a=lJ(r.document.updateTime),s=r.document.createTime?lJ(r.document.createTime):sL.min(),o=new ob({mapValue:{fields:r.document.fields}}),l=ow.newFoundDocument(i,a,s,o);n=new lU(r.targetIds||[],r.removedTargetIds||[],l.key,l)}else if("documentDelete"in t){t.documentDelete;let r=t.documentDelete;r.document;let i=l2(e,r.document),a=r.readTime?lJ(r.readTime):sL.min(),s=ow.newNoDocument(i,a);n=new lU([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in t){t.documentRemove;let r=t.documentRemove;r.document;let i=l2(e,r.document);n=new lU([],r.removedTargetIds||[],i,null)}else{if(!("filter"in t))return sv();{t.filter;let e=t.filter;e.targetId;let{count:r=0,unchangedNames:i}=e,a=new lC(r,i);n=new lF(e.targetId,a)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return sL.min();let t=e.targetChange;return t.targetIds&&t.targetIds.length?sL.min():t.readTime?lJ(t.readTime):sL.min()}(e);return this.listener.R_(t,n)}V_(e){let t={};t.database=l4(this.serializer),t.addTarget=function(e,t){let n;let r=t.target;if((n=oB(r)?{documents:{documents:[l3(e,r.path)]}}:{query:function(e,t){var n,r;let i;let a={structuredQuery:{}},s=t.path;null!==t.collectionGroup?(i=s,a.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=s.popLast(),a.structuredQuery.from=[{collectionId:s.lastSegment()}]),a.parent=l3(e,i);let o=function(e){if(0!==e.length)return function e(t){return t instanceof ox?function(e){if("=="===e.op){if(op(e.value))return{unaryFilter:{field:l8(e.field),op:"IS_NAN"}};if(od(e.value))return{unaryFilter:{field:l8(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(op(e.value))return{unaryFilter:{field:l8(e.field),op:"IS_NOT_NAN"}};if(od(e.value))return{unaryFilter:{field:l8(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:l8(e.field),op:lH[e.op],value:e.value}}}(t):t instanceof oI?function(t){let n=t.getFilters().map(t=>e(t));return 1===n.length?n[0]:{compositeFilter:{op:lW[t.op],filters:n}}}(t):sv()}(oI.create(e,"and"))}(t.filters);o&&(a.structuredQuery.where=o);let l=function(e){if(0!==e.length)return e.map(e=>({field:l8(e.field),direction:lq[e.dir]}))}(t.orderBy);l&&(a.structuredQuery.orderBy=l);let u=lG(e,t.limit);return null!==u&&(a.structuredQuery.limit=u),t.startAt&&(a.structuredQuery.startAt={before:(n=t.startAt).inclusive,values:n.position}),t.endAt&&(a.structuredQuery.endAt={before:!(r=t.endAt).inclusive,values:r.position}),{ct:a,parent:i}}(e,r).ct}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=lY(e,t.resumeToken);let r=lG(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(sL.min())>0){n.readTime=lQ(e,t.snapshotVersion.toTimestamp());let r=lG(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);let n=function(e,t){let n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return sv()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.c_(t)}m_(e){let t={};t.database=l4(this.serializer),t.removeTarget=e,this.c_(t)}}class uJ extends uQ{constructor(e,t,n,r,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return e.streamToken||sv(),this.lastStreamToken=e.streamToken,e.writeResults&&0!==e.writeResults.length&&sv(),this.listener.p_()}onNext(e){var t,n;e.streamToken||sv(),this.lastStreamToken=e.streamToken,this.r_.reset();let r=(t=e.writeResults,n=e.commitTime,t&&t.length>0?(void 0!==n||sv(),t.map(e=>{let t;return(t=e.updateTime?lJ(e.updateTime):lJ(n)).isEqual(sL.min())&&(t=lJ(n)),new lh(t,e.transformResults||[])})):[]),i=lJ(e.commitTime);return this.listener.y_(i,r)}w_(){let e={};e.database=l4(this.serializer),this.c_(e)}g_(e){let t={streamToken:this.lastStreamToken,writes:e.map(e=>(function(e,t){var n;let r;if(t instanceof lv)r={update:l5(e,t.key,t.value)};else if(t instanceof l_)r={delete:l1(e,t.key)};else if(t instanceof lb)r={update:l5(e,t.key,t.data),updateMask:function(e){let t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}(t.fieldMask)};else{if(!(t instanceof lk))return sv();r={verify:l1(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(e=>(function(e,t){let n=t.transform;if(n instanceof lr)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof li)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ls)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ll)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw sv()})(0,e))),t.precondition.isNone||(r.currentDocument=void 0!==(n=t.precondition).updateTime?{updateTime:lQ(e,n.updateTime.toTimestamp())}:void 0!==n.exists?{exists:n.exists}:sv()),r})(this.serializer,e))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uX extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.S_=!1}b_(){if(this.S_)throw new sw(sb.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,n,r){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Oo(e,lZ(t,n),r,i,a)).catch(e=>{throw"FirebaseError"===e.name?(e.code===sb.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new sw(sb.UNKNOWN,e.toString())})}ko(e,t,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.ko(e,lZ(t,n),r,a,s,i)).catch(e=>{throw"FirebaseError"===e.name?(e.code===sb.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new sw(sb.UNKNOWN,e.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class uZ{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){0===this.D_&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){"Online"===this.state?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,"Online"===e&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(sm(t),this.C_=!1):sp("OnlineStateTracker",t)}N_(){null!==this.v_&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=i,this.Q_.uo(e=>{n.enqueueAndForget(async()=>{u7(this)&&(sp("RemoteStore","Restarting streams for network reachability change."),await async function(e){e.k_.add(4),await u2(e),e.K_.set("Unknown"),e.k_.delete(4),await u1(e)}(this))})}),this.K_=new uZ(n,r)}}async function u1(e){if(u7(e))for(let t of e.q_)await t(!0)}async function u2(e){for(let t of e.q_)await t(!1)}function u3(e,t){e.B_.has(t.targetId)||(e.B_.set(t.targetId,t),u9(e)?u8(e):cm(e).s_()&&u6(e,t))}function u4(e,t){let n=cm(e);e.B_.delete(t),n.s_()&&u5(e,t),0===e.B_.size&&(n.s_()?n.a_():u7(e)&&e.K_.set("Unknown"))}function u6(e,t){if(e.U_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(sL.min())>0){let n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}cm(e).V_(t)}function u5(e,t){e.U_.xe(t),cm(e).m_(t)}function u8(e){e.U_=new lz({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ut:t=>e.B_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),cm(e).start(),e.K_.F_()}function u9(e){return u7(e)&&!cm(e).i_()&&e.B_.size>0}function u7(e){return 0===e.k_.size}async function ce(e){e.K_.set("Online")}async function ct(e){e.B_.forEach((t,n)=>{u6(e,t)})}async function cn(e,t){e.U_=void 0,u9(e)?(e.K_.O_(t),u8(e)):e.K_.set("Unknown")}async function cr(e,t,n){if(e.K_.set("Online"),t instanceof lV&&2===t.state&&t.cause)try{await async function(e,t){let n=t.cause;for(let r of t.targetIds)e.B_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.B_.delete(r),e.U_.removeTarget(r))}(e,t)}catch(n){sp("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await ci(e,n)}else if(t instanceof lU?e.U_.$e(t):t instanceof lF?e.U_.Je(t):e.U_.Ge(t),!n.isEqual(sL.min()))try{let t=await uO(e.localStore);n.compareTo(t)>=0&&await function(e,t){let n=e.U_.it(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){let i=e.B_.get(r);i&&e.B_.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{let r=e.B_.get(t);if(!r)return;e.B_.set(t,r.withResumeToken(s3.EMPTY_BYTE_STRING,r.snapshotVersion)),u5(e,t);let i=new ue(r.target,t,n,r.sequenceNumber);u6(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){sp("RemoteStore","Failed to raise snapshot:",t),await ci(e,t)}}async function ci(e,t,n){if(!sq(t))throw t;e.k_.add(1),await u2(e),e.K_.set("Offline"),n||(n=()=>uO(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{sp("RemoteStore","Retrying IndexedDB access"),await n(),e.k_.delete(1),await u1(e)})}function ca(e,t){return t().catch(n=>ci(e,n,t))}async function cs(e){let t=cg(e),n=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;u7(e)&&e.L_.length<10;)try{let r=await function(e,t){return e.persistence.runTransaction("Get next mutation batch","readonly",n=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}(e.localStore,n);if(null===r){0===e.L_.length&&t.a_();break}n=r.batchId,function(e,t){e.L_.push(t);let n=cg(e);n.s_()&&n.f_&&n.g_(t.mutations)}(e,r)}catch(t){await ci(e,t)}co(e)&&cl(e)}function co(e){return u7(e)&&!cg(e).i_()&&e.L_.length>0}function cl(e){cg(e).start()}async function cu(e){cg(e).w_()}async function cc(e){let t=cg(e);for(let n of e.L_)t.g_(n.mutations)}async function ch(e,t,n){let r=e.L_.shift(),i=lx.from(r,t,n);await ca(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await cs(e)}async function cf(e,t){t&&cg(e).f_&&await async function(e,t){var n;if(function(e){switch(e){default:return sv();case sb.CANCELLED:case sb.UNKNOWN:case sb.DEADLINE_EXCEEDED:case sb.RESOURCE_EXHAUSTED:case sb.INTERNAL:case sb.UNAVAILABLE:case sb.UNAUTHENTICATED:return!1;case sb.INVALID_ARGUMENT:case sb.NOT_FOUND:case sb.ALREADY_EXISTS:case sb.PERMISSION_DENIED:case sb.FAILED_PRECONDITION:case sb.ABORTED:case sb.OUT_OF_RANGE:case sb.UNIMPLEMENTED:case sb.DATA_LOSS:return!0}}(n=t.code)&&n!==sb.ABORTED){let n=e.L_.shift();cg(e).__(),await ca(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await cs(e)}}(e,t),co(e)&&cl(e)}async function cd(e,t){e.asyncQueue.verifyOperationInProgress(),sp("RemoteStore","RemoteStore received new credentials");let n=u7(e);e.k_.add(3),await u2(e),n&&e.K_.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.k_.delete(3),await u1(e)}async function cp(e,t){t?(e.k_.delete(2),await u1(e)):t||(e.k_.add(2),await u2(e),e.K_.set("Unknown"))}function cm(e){var t,n,r;return e.W_||(e.W_=(t=e.datastore,n=e.asyncQueue,r={Ro:ce.bind(null,e),mo:ct.bind(null,e),po:cn.bind(null,e),R_:cr.bind(null,e)},t.b_(),new uY(n,t.connection,t.authCredentials,t.appCheckCredentials,t.serializer,r)),e.q_.push(async t=>{t?(e.W_.__(),u9(e)?u8(e):e.K_.set("Unknown")):(await e.W_.stop(),e.U_=void 0)})),e.W_}function cg(e){var t,n,r;return e.G_||(e.G_=(t=e.datastore,n=e.asyncQueue,r={Ro:()=>Promise.resolve(),mo:cu.bind(null,e),po:cf.bind(null,e),p_:cc.bind(null,e),y_:ch.bind(null,e)},t.b_(),new uJ(n,t.connection,t.authCredentials,t.appCheckCredentials,t.serializer,r)),e.q_.push(async t=>{t?(e.G_.__(),await cs(e)):(await e.G_.stop(),e.L_.length>0&&(sp("RemoteStore",`Stopping write stream with ${e.L_.length} pending writes`),e.L_=[]))})),e.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new sE,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){let a=new cy(e,t,Date.now()+n,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new sw(sb.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cv(e,t){if(sm("AsyncQueue",`${t}: ${e}`),sq(e))return new sw(sb.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{static emptySet(e){return new cb(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||sV.comparator(t.key,n.key):(e,t)=>sV.comparator(e.key,t.key),this.keyedMap=o2(),this.sortedSet=new sY(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof cb)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){let e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){let n=new cb;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(){this.z_=new sY(sV.comparator)}track(e){let t=e.doc.key,n=this.z_.get(t);n?0!==e.type&&3===n.type?this.z_=this.z_.insert(t,e):3===e.type&&1!==n.type?this.z_=this.z_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.z_=this.z_.remove(t):1===e.type&&2===n.type?this.z_=this.z_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):sv():this.z_=this.z_.insert(t,e)}j_(){let e=[];return this.z_.inorderTraversal((t,n)=>{e.push(n)}),e}}class cE{constructor(e,t,n,r,i,a,s,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){let a=[];return t.forEach(e=>{a.push({type:0,doc:e})}),new cE(e,t,cb.emptySet(t),a,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&oG(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class c_{constructor(){this.queries=ck(),this.onlineState="Unknown",this.X_=new Set}terminate(){!function(e,t){let n=e.queries;e.queries=ck(),n.forEach((e,n)=>{for(let e of n.J_)e.onError(t)})}(this,new sw(sb.ABORTED,"Firestore shutting down"))}}function ck(){return new oZ(e=>oQ(e),oG)}async function cT(e,t){let n=3,r=t.query,i=e.queries.get(r);i?!i.Y_()&&t.Z_()&&(n=2):(i=new cS,n=t.Z_()?0:1);try{switch(n){case 0:i.H_=await e.onListen(r,!0);break;case 1:i.H_=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(n){let e=cv(n,`Initialization of query '${oY(t.query)}' failed`);return void t.onError(e)}e.queries.set(r,i),i.J_.push(t),t.ea(e.onlineState),i.H_&&t.ta(i.H_)&&cN(e)}async function cx(e,t){let n=t.query,r=3,i=e.queries.get(n);if(i){let e=i.J_.indexOf(t);e>=0&&(i.J_.splice(e,1),0===i.J_.length?r=t.Z_()?0:1:!i.Y_()&&t.Z_()&&(r=2))}switch(r){case 0:return e.queries.delete(n),e.onUnlisten(n,!0);case 1:return e.queries.delete(n),e.onUnlisten(n,!1);case 2:return e.onLastRemoteStoreUnlisten(n);default:return}}function cI(e,t){let n=!1;for(let r of t){let t=r.query,i=e.queries.get(t);if(i){for(let e of i.J_)e.ta(r)&&(n=!0);i.H_=r}}n&&cN(e)}function cC(e,t,n){let r=e.queries.get(t);if(r)for(let e of r.J_)e.onError(n);e.queries.delete(t)}function cN(e){e.X_.forEach(e=>{e.next()})}(I=x||(x={})).na="default",I.Cache="cache";class cA{constructor(e,t,n){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=n||{}}ta(e){if(!this.options.includeMetadataChanges){let t=[];for(let n of e.docChanges)3!==n.type&&t.push(n);e=new cE(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){return!(e.fromCache&&this.Z_())||(!this.options.ua||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}oa(e){if(e.docChanges.length>0)return!0;let t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}aa(e){e=cE.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==x.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e){this.key=e}}class cP{constructor(e){this.key=e}}class cO{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=o8(),this.mutatedKeys=o8(),this.Va=oX(e),this.ma=new cb(this.Va)}get fa(){return this.da}ga(e,t){let n=t?t.pa:new cw,r=t?t.ma:this.ma,i=t?t.mutatedKeys:this.mutatedKeys,a=r,s=!1,o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{let u=r.get(e),c=oJ(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),f=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations),d=!1;u&&c?u.data.isEqual(c.data)?h!==f&&(n.track({type:3,doc:c}),d=!0):this.ya(u,c)||(n.track({type:2,doc:c}),d=!0,(o&&this.Va(c,o)>0||l&&0>this.Va(c,l))&&(s=!0)):!u&&c?(n.track({type:0,doc:c}),d=!0):u&&!c&&(n.track({type:1,doc:u}),d=!0,(o||l)&&(s=!0)),d&&(c?(a=a.add(c),i=f?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;a.size>this.query.limit;){let e="F"===this.query.limitType?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ma:a,pa:n,ss:s,mutatedKeys:i}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){let i=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;let a=e.pa.j_();a.sort((e,t)=>(function(e,t){let n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return sv()}};return n(e)-n(t)})(e.type,t.type)||this.Va(e.doc,t.doc)),this.wa(n),r=null!=r&&r;let s=t&&!r?this.Sa():[],o=0===this.Ra.size&&this.current&&!r?1:0,l=o!==this.Aa;return(this.Aa=o,0!==a.length||l)?{snapshot:new cE(this.query,e.ma,i,a,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),ba:s}:{ba:s}}ea(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ma:this.ma,pa:new cw,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(e=>this.da=this.da.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.da=this.da.delete(e)),this.current=e.current)}Sa(){if(!this.current)return[];let e=this.Ra;this.Ra=o8(),this.ma.forEach(e=>{this.Da(e.key)&&(this.Ra=this.Ra.add(e.key))});let t=[];return e.forEach(e=>{this.Ra.has(e)||t.push(new cP(e))}),this.Ra.forEach(n=>{e.has(n)||t.push(new cR(n))}),t}va(e){this.da=e.ds,this.Ra=o8();let t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return cE.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,0===this.Aa,this.hasCachedResults)}}class cL{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class cD{constructor(e){this.key=e,this.Fa=!1}}class cM{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Ma={},this.xa=new oZ(e=>oQ(e),oG),this.Oa=new Map,this.Na=new Set,this.La=new sY(sV.comparator),this.Ba=new Map,this.ka=new uv,this.qa={},this.Qa=new Map,this.Ka=uo.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return!0===this.$a}}async function cU(e,t,n=!0){let r;let i=c4(e),a=i.xa.get(t);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),r=a.view.Ca()):r=await cV(i,t,n,!0),r}async function cF(e,t){let n=c4(e);await cV(n,t,!0,!1)}async function cV(e,t,n,r){var i,a;let s;let o=await (i=e.localStore,a=oW(t),i.persistence.runTransaction("Allocate target","readwrite",e=>{let t;return i.Gr.getTargetData(e,a).next(n=>n?(t=n,s$.resolve(t)):i.Gr.allocateTargetId(e).next(n=>(t=new ue(a,n,"TargetPurposeListen",e.currentSequenceNumber),i.Gr.addTargetData(e,t).next(()=>t))))}).then(e=>{let t=i.us.get(e.targetId);return(null===t||e.snapshotVersion.compareTo(t.snapshotVersion)>0)&&(i.us=i.us.insert(e.targetId,e),i.cs.set(a,e.targetId)),e})),l=o.targetId,u=e.sharedClientState.addLocalQueryTarget(l,n);return r&&(s=await cj(e,t,l,"current"===u,o.resumeToken)),e.isPrimaryClient&&n&&u3(e.remoteStore,o),s}async function cj(e,t,n,r,i){e.Ua=(t,n,r)=>(async function(e,t,n,r){let i=t.view.ga(n);i.ss&&(i=await uD(e.localStore,t.query,!1).then(({documents:e})=>t.view.ga(e,i)));let a=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,a,s);return cZ(e,t.targetId,o.ba),o.snapshot})(e,t,n,r);let a=await uD(e.localStore,t,!0),s=new cO(t,a.ds),o=s.ga(a.documents),l=lM.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=s.applyChanges(o,e.isPrimaryClient,l);cZ(e,n,u.ba);let c=new cL(t,n,s);return e.xa.set(t,c),e.Oa.has(n)?e.Oa.get(n).push(t):e.Oa.set(n,[t]),u.snapshot}async function cz(e,t,n){let r=e.xa.get(t),i=e.Oa.get(r.targetId);if(i.length>1)return e.Oa.set(r.targetId,i.filter(e=>!oG(e,t))),void e.xa.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(r.targetId),e.sharedClientState.isActiveQueryTarget(r.targetId)||await uL(e.localStore,r.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(r.targetId),n&&u4(e.remoteStore,r.targetId),cJ(e,r.targetId)}).catch(sB)):(cJ(e,r.targetId),await uL(e.localStore,r.targetId,!0))}async function cB(e,t){let n=e.xa.get(t),r=e.Oa.get(n.targetId);e.isPrimaryClient&&1===r.length&&(e.sharedClientState.removeLocalQueryTarget(n.targetId),u4(e.remoteStore,n.targetId))}async function c$(e,t,n){var r;let i=(e.remoteStore.remoteSyncer.applySuccessfulWrite=cK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cG.bind(null,e),e);try{let e;let a=await function(e,t){let n,r;let i=sO.now(),a=t.reduce((e,t)=>e.add(t.key),o8());return e.persistence.runTransaction("Locally write mutations","readwrite",s=>{let o=o0,l=o8();return e.hs.getEntries(s,a).next(e=>{(o=e).forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>e.localDocuments.getOverlayedDocuments(s,o)).next(r=>{n=r;let a=[];for(let e of t){let t=function(e,t){let n=null;for(let r of e.fieldTransforms){let e=t.data.field(r.field),i=ln(r.transform,e||null);null!=i&&(null===n&&(n=ob.empty()),n.set(r.field,i))}return n||null}(e,n.get(e.key).overlayedDocument);null!=t&&a.push(new lb(e.key,t,function e(t){let n=[];return sG(t.fields,(t,r)=>{let i=new sF([t]);if(om(r)){let t=e(r.mapValue).fields;if(0===t.length)n.push(i);else for(let e of t)n.push(i.child(e))}else n.push(i)}),new s1(n)}(t.value.mapValue),lf.exists(!0)))}return e.mutationQueue.addMutationBatch(s,i,a,t)}).next(t=>{r=t;let i=t.applyToLocalDocumentSet(n,l);return e.documentOverlayCache.saveOverlays(s,t.batchId,i)})}).then(()=>({batchId:r.batchId,changes:o3(n)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(a.batchId),r=a.batchId,(e=i.qa[i.currentUser.toKey()])||(e=new sY(sR)),e=e.insert(r,n),i.qa[i.currentUser.toKey()]=e,await c1(i,a.changes),await cs(i.remoteStore)}catch(t){let e=cv(t,"Failed to persist write");n.reject(e)}}async function cq(e,t){try{let n=await function(e,t){let n=t.snapshotVersion,r=e.us;return e.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{var a;let s,o;let l=e.hs.newChangeBuffer({trackRemovals:!0});r=e.us;let u=[];t.targetChanges.forEach((a,s)=>{var o;let l=r.get(s);if(!l)return;u.push(e.Gr.removeMatchingKeys(i,a.removedDocuments,s).next(()=>e.Gr.addMatchingKeys(i,a.addedDocuments,s)));let c=l.withSequenceNumber(i.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(s3.EMPTY_BYTE_STRING,sL.min()).withLastLimboFreeSnapshotVersion(sL.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,n)),r=r.insert(s,c),o=c,(0===l.resumeToken.approximateByteSize()||o.snapshotVersion.toMicroseconds()-l.snapshotVersion.toMicroseconds()>=3e8||a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size>0)&&u.push(e.Gr.updateTargetData(i,c))});let c=o0,h=o8();if(t.documentUpdates.forEach(n=>{t.resolvedLimboDocuments.has(n)&&u.push(e.persistence.referenceDelegate.updateLimboDocument(i,n))}),u.push((a=t.documentUpdates,s=o8(),o=o8(),a.forEach(e=>s=s.add(e)),l.getEntries(i,s).next(e=>{let t=o0;return a.forEach((n,r)=>{let i=e.get(n);r.isFoundDocument()!==i.isFoundDocument()&&(o=o.add(n)),r.isNoDocument()&&r.version.isEqual(sL.min())?(l.removeEntry(n,r.readTime),t=t.insert(n,r)):!i.isValidDocument()||r.version.compareTo(i.version)>0||0===r.version.compareTo(i.version)&&i.hasPendingWrites?(l.addEntry(r),t=t.insert(n,r)):sp("LocalStore","Ignoring outdated watch update for ",n,". Current version:",i.version," Watch version:",r.version)}),{Is:t,Es:o}})).next(e=>{c=e.Is,h=e.Es})),!n.isEqual(sL.min())){let t=e.Gr.getLastRemoteSnapshotVersion(i).next(t=>e.Gr.setTargetsMetadata(i,i.currentSequenceNumber,n));u.push(t)}return s$.waitFor(u).next(()=>l.apply(i)).next(()=>e.localDocuments.getLocalViewOfDocuments(i,c,h)).next(()=>c)}).then(t=>(e.us=r,t))}(e.localStore,t);t.targetChanges.forEach((t,n)=>{let r=e.Ba.get(n);r&&(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1||sv(),t.addedDocuments.size>0?r.Fa=!0:t.modifiedDocuments.size>0?r.Fa||sv():t.removedDocuments.size>0&&(r.Fa||sv(),r.Fa=!1))}),await c1(e,n,t)}catch(e){await sB(e)}}function cH(e,t,n){var r;if(e.isPrimaryClient&&0===n||!e.isPrimaryClient&&1===n){let n;let i=[];e.xa.forEach((e,n)=>{let r=n.view.ea(t);r.snapshot&&i.push(r.snapshot)}),(r=e.eventManager).onlineState=t,n=!1,r.queries.forEach((e,r)=>{for(let e of r.J_)e.ea(t)&&(n=!0)}),n&&cN(r),i.length&&e.Ma.R_(i),e.onlineState=t,e.isPrimaryClient&&e.sharedClientState.setOnlineState(t)}}async function cW(e,t,n){e.sharedClientState.updateQueryState(t,"rejected",n);let r=e.Ba.get(t),i=r&&r.key;if(i){let n=new sY(sV.comparator);n=n.insert(i,ow.newNoDocument(i,sL.min()));let r=o8().add(i),a=new lD(sL.min(),new Map,new sY(sR),n,r);await cq(e,a),e.La=e.La.remove(i),e.Ba.delete(t),c0(e)}else await uL(e.localStore,t,!1).then(()=>cJ(e,t,n)).catch(sB)}async function cK(e,t){var n;let r=t.batch.batchId;try{let i=await (n=e.localStore).persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{let r=t.batch.keys(),i=n.hs.newChangeBuffer({trackRemovals:!0});return(function(e,t,n,r){let i=n.batch,a=i.keys(),s=s$.resolve();return a.forEach(e=>{s=s.next(()=>r.getEntry(t,e)).next(t=>{let a=n.docVersions.get(e);null!==a||sv(),0>t.version.compareTo(a)&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),s.next(()=>e.mutationQueue.removeMutationBatch(t,i))})(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=o8();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))});cY(e,r,null),cQ(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await c1(e,i)}catch(e){await sB(e)}}async function cG(e,t,n){var r;try{let i=await (r=e.localStore).persistence.runTransaction("Reject batch","readwrite-primary",e=>{let n;return r.mutationQueue.lookupMutationBatch(e,t).next(t=>(null!==t||sv(),n=t.keys(),r.mutationQueue.removeMutationBatch(e,t))).next(()=>r.mutationQueue.performConsistencyCheck(e)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(e,n,t)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,n)).next(()=>r.localDocuments.getDocuments(e,n))});cY(e,t,n),cQ(e,t),e.sharedClientState.updateMutationState(t,"rejected",n),await c1(e,i)}catch(e){await sB(e)}}function cQ(e,t){(e.Qa.get(t)||[]).forEach(e=>{e.resolve()}),e.Qa.delete(t)}function cY(e,t,n){let r=e.qa[e.currentUser.toKey()];if(r){let i=r.get(t);i&&(n?i.reject(n):i.resolve(),r=r.remove(t)),e.qa[e.currentUser.toKey()]=r}}function cJ(e,t,n=null){for(let r of(e.sharedClientState.removeLocalQueryTarget(t),e.Oa.get(t)))e.xa.delete(r),n&&e.Ma.Wa(r,n);e.Oa.delete(t),e.isPrimaryClient&&e.ka.yr(t).forEach(t=>{e.ka.containsKey(t)||cX(e,t)})}function cX(e,t){e.Na.delete(t.path.canonicalString());let n=e.La.get(t);null!==n&&(u4(e.remoteStore,n),e.La=e.La.remove(t),e.Ba.delete(n),c0(e))}function cZ(e,t,n){for(let r of n)r instanceof cR?(e.ka.addReference(r.key,t),function(e,t){let n=t.key,r=n.path.canonicalString();e.La.get(n)||e.Na.has(r)||(sp("SyncEngine","New document in limbo: "+n),e.Na.add(r),c0(e))}(e,r)):r instanceof cP?(sp("SyncEngine","Document no longer in limbo: "+r.key),e.ka.removeReference(r.key,t),e.ka.containsKey(r.key)||cX(e,r.key)):sv()}function c0(e){for(;e.Na.size>0&&e.La.size<e.maxConcurrentLimboResolutions;){let t=e.Na.values().next().value;e.Na.delete(t);let n=new sV(sM.fromString(t)),r=e.Ka.next();e.Ba.set(r,new cD(n)),e.La=e.La.insert(n,r),u3(e.remoteStore,new ue(oW(new o$(n.path)),r,"TargetPurposeLimboResolution",sH.oe))}}async function c1(e,t,n){let r=[],i=[],a=[];e.xa.isEmpty()||(e.xa.forEach((s,o)=>{a.push(e.Ua(o,t,n).then(t=>{var a;if((t||n)&&e.isPrimaryClient){let r=t?!t.fromCache:null===(a=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===a?void 0:a.current;e.sharedClientState.updateQueryState(o.targetId,r?"current":"not-current")}if(t){r.push(t);let e=uC.zi(o.targetId,t);i.push(e)}}))}),await Promise.all(a),e.Ma.R_(r),await async function(e,t){try{await e.persistence.runTransaction("notifyLocalViewChanges","readwrite",n=>s$.forEach(t,t=>s$.forEach(t.Wi,r=>e.persistence.referenceDelegate.addReference(n,t.targetId,r)).next(()=>s$.forEach(t.Gi,r=>e.persistence.referenceDelegate.removeReference(n,t.targetId,r)))))}catch(e){if(!sq(e))throw e;sp("LocalStore","Failed to update sequence numbers: "+e)}for(let n of t){let t=n.targetId;if(!n.fromCache){let n=e.us.get(t),r=n.snapshotVersion,i=n.withLastLimboFreeSnapshotVersion(r);e.us=e.us.insert(t,i)}}}(e.localStore,i))}async function c2(e,t){var n;if(!e.currentUser.isEqual(t)){sp("SyncEngine","User change. New user:",t.toKey());let r=await uP(e.localStore,t);e.currentUser=t,n="'waitForPendingWrites' promise is rejected due to a user change.",e.Qa.forEach(e=>{e.forEach(e=>{e.reject(new sw(sb.CANCELLED,n))})}),e.Qa.clear(),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await c1(e,r.Ts)}}function c3(e,t){let n=e.Ba.get(t);if(n&&n.Fa)return o8().add(n.key);{let n=o8(),r=e.Oa.get(t);if(!r)return n;for(let t of r){let r=e.xa.get(t);n=n.unionWith(r.view.fa)}return n}}function c4(e){return e.remoteStore.remoteSyncer.applyRemoteEvent=cq.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=c3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cW.bind(null,e),e.Ma.R_=cI.bind(null,e.eventManager),e.Ma.Wa=cC.bind(null,e.eventManager),e}class c6{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=uK(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){var t;return t=this.persistence,new uR(t,new uA,e.initialUser,this.serializer)}ja(e){return new uk(ux.ei,this.serializer)}za(e){return new uU}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}c6.provider={build:()=>new c6};class c5 extends c6{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){return this.persistence.referenceDelegate instanceof uI||sv(),new uc(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}ja(e){let t=void 0!==this.cacheSizeBytes?us.withCacheSize(this.cacheSizeBytes):us.DEFAULT;return new uk(e=>uI.ei(e,t),this.serializer)}}class c8{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>cH(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=c2.bind(null,this.syncEngine),await cp(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new c_}createDatastore(e){let t=uK(e.databaseInfo.databaseId),n=new uH(e.databaseInfo);return new uX(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){var t;return t=this.localStore,new u0(t,this.datastore,e.asyncQueue,e=>cH(this.syncEngine,e,0),uV.p()?new uV:new uF)}createSyncEngine(e,t){return function(e,t,n,r,i,a,s){let o=new cM(e,t,n,r,i,a);return s&&(o.$a=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){sp("RemoteStore","RemoteStore shutting down."),e.k_.add(5),await u2(e),e.Q_.shutdown(),e.K_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}c8.provider={build:()=>new c8};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):sm("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c7{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=sc.UNAUTHENTICATED,this.clientId=sA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{sp("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(sp("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new sE;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let t=cv(n,"Failed to shutdown persistence");e.reject(t)}}),e.promise}}async function he(e,t){e.asyncQueue.verifyOperationInProgress(),sp("FirestoreClient","Initializing OfflineComponentProvider");let n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await uP(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function ht(e,t){e.asyncQueue.verifyOperationInProgress();let n=await hn(e);sp("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>cd(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>cd(t.remoteStore,n)),e._onlineComponents=t}async function hn(e){if(!e._offlineComponents){if(e._uninitializedComponentsProvider){sp("FirestoreClient","Using user provided OfflineComponentProvider");try{await he(e,e._uninitializedComponentsProvider._offline)}catch(t){if(!("FirebaseError"===t.name?t.code===sb.FAILED_PRECONDITION||t.code===sb.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code))throw t;sg("Error using user provided cache. Falling back to memory cache: "+t),await he(e,new c6)}}else sp("FirestoreClient","Using default OfflineComponentProvider"),await he(e,new c5(void 0))}return e._offlineComponents}async function hr(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(sp("FirestoreClient","Using user provided OnlineComponentProvider"),await ht(e,e._uninitializedComponentsProvider._online)):(sp("FirestoreClient","Using default OnlineComponentProvider"),await ht(e,new c8))),e._onlineComponents}async function hi(e){let t=await hr(e),n=t.eventManager;return n.onListen=cU.bind(null,t.syncEngine),n.onUnlisten=cz.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=cF.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=cB.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(e){let t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(e,t,n){if(!n)throw new sw(sb.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function hl(e){if(!sV.isDocumentKey(e))throw new sw(sb.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function hu(e){if(sV.isDocumentKey(e))throw new sw(sb.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function hc(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{var t;let n=(t=e).constructor?t.constructor.name:null;return n?`a custom ${n} object`:"an object"}}return"function"==typeof e?"a function":sv()}function hh(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new sw(sb.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=hc(e);throw new sw(sb.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new sw(sb.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=0x2800000;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new sw(sb.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new sw(sb.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ha(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new sw(sb.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new sw(sb.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new sw(sb.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){var t,n;return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hd{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hf({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new sw(sb.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new sw(sb.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hf(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new s_;switch(e.type){case"firstParty":return new sI(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new sw(sb.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){let t=hs.get(e);t&&(sp("ComponentProvider","Removing Datastore"),hs.delete(e),t.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new hp(this.firestore,e,this._query)}}class hm{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hg(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hm(this.firestore,e,this._key)}}class hg extends hp{constructor(e,t,n){super(e,t,new o$(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new hm(this.firestore,null,new sV(e))}withConverter(e){return new hg(this.firestore,e,this._path)}}function hy(e,t,...n){if(e=tH(e),ho("collection","path",t),e instanceof hd){let r=sM.fromString(t,...n);return hu(r),new hg(e,null,r)}{if(!(e instanceof hm||e instanceof hg))throw new sw(sb.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=e._path.child(sM.fromString(t,...n));return hu(r),new hg(e.firestore,null,r)}}function hv(e,t,...n){if(e=tH(e),1==arguments.length&&(t=sA.newId()),ho("doc","path",t),e instanceof hd){let r=sM.fromString(t,...n);return hl(r),new hm(e,null,new sV(r))}{if(!(e instanceof hm||e instanceof hg))throw new sw(sb.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=e._path.child(sM.fromString(t,...n));return hl(r),new hm(e.firestore,e instanceof hg?e.converter:null,new sV(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new uG(this,"async_queue_retry"),this.fu=()=>{let e=uW();e&&sp("AsyncQueue","Visibility state changed to "+e.visibilityState),this.r_.Jo()},this.gu=e;let t=uW();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;let t=uW();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});let t=new sE;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(0!==this.Iu.length){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!sq(e))throw e;sp("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){let t=this.gu.then(()=>(this.Ru=!0,e().catch(e=>{let t;throw this.Au=e,this.Ru=!1,sm("INTERNAL UNHANDLED ERROR: ",(t=e.message||"",e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t)),e}).then(e=>(this.Ru=!1,e))));return this.gu=t,t}enqueueAfterDelay(e,t,n){this.pu(),this.mu.indexOf(e)>-1&&(t=0);let r=cy.createAndSchedule(this,e,t,n,e=>this.Su(e));return this.du.push(r),r}pu(){this.Au&&sv()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(let t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{for(let t of(this.du.sort((e,t)=>e.targetTimeMs-t.targetTimeMs),this.du))if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){let t=this.du.indexOf(e);this.du.splice(t,1)}}class hw extends hd{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new hb,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new hb(e),this._firestoreClient=void 0,await e}}}function hE(e){if(e._terminated)throw new sw(sb.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||function(e){var t,n,r,i;let a=e._freezeSettings(),s=(i=e._databaseId,new ot(i,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,ha(a.experimentalLongPollingOptions),a.useFetchStreams));e._componentsProvider||(null===(n=a.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=a.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new c7(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){let t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}(e),e._firestoreClient}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hS(s3.fromBase64String(e))}catch(e){throw new sw(sb.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new hS(s3.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new sw(sb.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sF(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new sw(sb.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new sw(sb.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return sR(this._lat,e._lat)||sR(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI=/^__.*__$/;class hC{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new lb(e,this.data,this.fieldMask,t,this.fieldTransforms):new lv(e,this.data,t,this.fieldTransforms)}}class hN{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new lb(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function hA(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw sv()}}class hR{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Fu(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new hR(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;let n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xu({path:n,Nu:!1});return r.Lu(e),r}Bu(e){var t;let n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xu({path:n,Nu:!1});return r.Fu(),r}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return hB(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(0===e.length)throw this.qu("Document fields must not be empty");if(hA(this.Mu)&&hI.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class hP{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||uK(e)}$u(e,t,n,r=!1){return new hR({Mu:e,methodName:t,Ku:n,path:sF.emptyPath(),Nu:!1,Qu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hO(e){let t=e._freezeSettings(),n=uK(e._databaseId);return new hP(e._databaseId,!!t.ignoreUndefinedProperties,n)}class hL extends hk{_toFieldTransform(e){if(2!==e.Mu)throw 1===e.Mu?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hL}}function hD(e,t){if(hU(e=tH(e)))return hF("Unsupported field value:",t,e),hM(e,t);if(e instanceof hk)return function(e,t){if(!hA(t.Mu))throw t.qu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.qu(`${e._methodName}() is not currently supported inside arrays`);let n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Nu&&4!==t.Mu)throw t.qu("Nested arrays are not supported");return function(e,t){let n=[],r=0;for(let i of e){let e=hD(i,t.ku(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){var n,r,i;if(null===(e=tH(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return n=t.serializer,"number"==typeof(i=r=e)&&Number.isInteger(i)&&!sW(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER?le(r):o7(n,r);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){let n=sO.fromDate(e);return{timestampValue:lQ(t.serializer,n)}}if(e instanceof sO){let n=new sO(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:lQ(t.serializer,n)}}if(e instanceof hT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof hS)return{bytesValue:lY(t.serializer,e._byteString)};if(e instanceof hm){let n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.qu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:lX(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof hx)return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.qu("VectorValues must only contain numeric values.");return o7(t.serializer,e)})}}}}};throw t.qu(`Unsupported field value: ${hc(e)}`)}(e,t)}function hM(e,t){let n={};return sQ(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):sG(e,(e,r)=>{let i=hD(r,t.Ou(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function hU(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof sO||e instanceof hT||e instanceof hS||e instanceof hm||e instanceof hk||e instanceof hx)}function hF(e,t,n){if(!hU(n)||!("object"==typeof n&&null!==n&&(Object.getPrototypeOf(n)===Object.prototype||null===Object.getPrototypeOf(n)))){let r=hc(n);throw"an object"===r?t.qu(e+" a custom object"):t.qu(e+" "+r)}}function hV(e,t,n){if((t=tH(t))instanceof h_)return t._internalPath;if("string"==typeof t)return hz(e,t);throw hB("Field path arguments must be of type string or ",e,!1,void 0,n)}const hj=RegExp("[~\\*/\\[\\]]");function hz(e,t,n){if(t.search(hj)>=0)throw hB(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new h_(...t.split("."))._internalPath}catch(r){throw hB(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function hB(e,t,n,r,i){let a=r&&!r.isEmpty(),s=void 0!==i,o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new sw(sb.INVALID_ARGUMENT,o+e+l)}function h$(e,t){return e.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hq{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new hm(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){let e=new hH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(hW("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class hH extends hq{data(){return super.data()}}function hW(e,t){return"string"==typeof t?hz(e,t):t instanceof h_?t._internalPath:t._delegate._internalPath}class hK{convertValue(e,t="none"){switch(oi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return s5(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(s8(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw sv()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let n={};return sG(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,r;return new hx(null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(e=>s5(e.doubleValue)))}convertGeoPoint(e){return new hT(s5(e.latitude),s5(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":let n=s7(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(oe(e));default:return null}}convertTimestamp(e){let t=s6(e);return new sO(t.seconds,t.nanos)}convertDocumentKey(e,t){let n=sM.fromString(e);l7(n)||sv();let r=new on(n.get(1),n.get(3)),i=new sV(n.popFirst(5));return r.isEqual(t)||sm(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hG{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hQ extends hq{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new hY(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let n=this._document.data.field(hW("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class hY extends hQ{data(e={}){return super.data(e)}}class hJ{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new hG(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new hY(this._firestore,this._userDataWriter,n.key,n,new hG(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new sw(sb.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{let r=new hY(e._firestore,e._userDataWriter,n.doc.key,n.doc,new hG(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{let r=new hY(e._firestore,e._userDataWriter,t.doc.key,t.doc,new hG(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(a=(n=n.add(t.doc)).indexOf(t.doc.key)),{type:function(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return sv()}}(t.type),doc:r,oldIndex:i,newIndex:a}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}class hX extends hK{constructor(e){super(),this.firestore=e}convertBytes(e){return new hS(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new hm(this.firestore,null,t)}}function hZ(e){e=hh(e,hp);let t=hh(e.firestore,hw),n=hE(t),r=new hX(t);return(/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new sw(sb.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(e._query),(function(e,t,n={}){let r=new sE;return e.asyncQueue.enqueueAndForget(async()=>(function(e,t,n,r,i){let a=new c9({next:n=>{a.eu(),t.enqueueAndForget(()=>cx(e,s)),n.fromCache&&"server"===r.source?i.reject(new sw(sb.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new cA(n,a,{includeMetadataChanges:!0,ua:!0});return cT(e,s)})(await hi(e),e.asyncQueue,t,n,r)),r.promise})(n,e._query).then(n=>new hJ(t,r,e,n)))}function h0(e,t,n,...r){e=hh(e,hm);let i=hh(e.firestore,hw),a=hO(i);return h2(i,[("string"==typeof(t=tH(t))||t instanceof h_?function(e,t,n,r,i,a){let s=e.$u(1,t,n),o=[hV(t,r,n)],l=[i];if(a.length%2!=0)throw new sw(sb.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<a.length;e+=2)o.push(hV(t,a[e])),l.push(a[e+1]);let u=[],c=ob.empty();for(let e=o.length-1;e>=0;--e)if(!h$(u,o[e])){let t=o[e],n=l[e];n=tH(n);let r=s.Bu(t);if(n instanceof hL)u.push(t);else{let e=hD(n,r);null!=e&&(u.push(t),c.set(t,e))}}return new hN(c,new s1(u),s.fieldTransforms)}(a,"updateDoc",e._key,t,n,r):function(e,t,n,r){let i=e.$u(1,t,n);hF("Data must be an object, but it was:",i,r);let a=[],s=ob.empty();return sG(r,(e,r)=>{let o=hz(t,e,n);r=tH(r);let l=i.Bu(o);if(r instanceof hL)a.push(o);else{let e=hD(r,l);null!=e&&(a.push(o),s.set(o,e))}}),new hN(s,new s1(a),i.fieldTransforms)}(a,"updateDoc",e._key,t)).toMutation(e._key,lf.exists(!0))])}function h1(e,t){var n;let r=hh(e.firestore,hw),i=hv(e),a=(n=e.converter)?n.toFirestore(t):t;return h2(r,[(function(e,t,n,r,i,a={}){let s,o;let l=e.$u(a.merge||a.mergeFields?2:0,t,n,i);hF("Data must be an object, but it was:",l,r);let u=hM(r,l);if(a.merge)s=new s1(l.fieldMask),o=l.fieldTransforms;else if(a.mergeFields){let e=[];for(let r of a.mergeFields){let i=hV(t,r,n);if(!l.contains(i))throw new sw(sb.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);h$(e,i)||e.push(i)}s=new s1(e),o=l.fieldTransforms.filter(e=>s.covers(e.field))}else s=null,o=l.fieldTransforms;return new hC(new ob(u),s,o)})(hO(e.firestore),"addDoc",i._key,a,null!==e.converter,{}).toMutation(i._key,lf.exists(!1))]).then(()=>i)}function h2(e,t){return function(e,t){let n=new sE;return e.asyncQueue.enqueueAndForget(async()=>c$(await hr(e).then(e=>e.syncEngine),t,n)),n.promise}(hE(e),t)}new WeakMap,function(e=!0){sh=nw,nm(new tW("firestore",(t,{instanceIdentifier:n,options:r})=>{let i=t.getProvider("app").getImmediate(),a=new hw(new sT(t.getProvider("auth-internal")),new sN(t.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new sw(sb.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new on(e.options.projectId,t)}(i,n),i);return r=Object.assign({useFetchStreams:e},r),a._setSettings(r),a},"PUBLIC").setMultipleInstances(!0)),n_(su,"4.7.5",void 0),n_(su,"4.7.5","esm2017")}();const h3=(0,L.createContext)(null),h4=()=>(0,L.useContext)(h3),h6=nE({apiKey:"AIzaSyAPd_OOHcDamdKsxn1jHLLaVi1uvicTwxg",authDomain:"notificationsystem-c1552.firebaseapp.com",projectId:"notificationsystem-c1552",storageBucket:"notificationsystem-c1552.firebasestorage.app",messagingSenderId:"383363146689",appId:"1:383363146689:web:2133223589b96cf31fc540",measurementId:"G-SNS7LJFETC"}),h5=function(e=nS()){let t=ng(e,"auth");if(t.isInitialized())return t.getImmediate();let n=/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e,t){let n=ng(e,"auth");if(n.isInitialized()){let e=n.getImmediate();if(tF(n.getOptions(),null!=t?t:{}))return e;nV(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:am,persistence:[ij,i_,ik]}),r=tP("authTokenSyncURL");if(r&&"boolean"==typeof isSecureContext&&isSecureContext){let e=new URL(r,location.origin);if(location.origin===e.origin){var i,a;let t=ax(e.toString());i=()=>t(n.currentUser),tH(n).beforeAuthStateChanged(t,i),a=e=>t(e),tH(n).onIdTokenChanged(a,void 0,void 0)}}let s=tN("auth");return s&&function(e,t,n){let r=tH(e);nq(r._canInitEmulator,r,"emulator-config-failed"),nq(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");let i=rK(t),{host:a,port:s}=function(e){let t=rK(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let e=i[1];return{host:e,port:rG(r.substr(e.length+1))}}{let[e,t]=r.split(":");return{host:e,port:rG(t)}}}(t),o=null===s?"":`:${s}`;r.config.emulator={url:`${i}//${a}${o}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:!1})}),function(){function e(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(n,`http://${s}`),n}(h6),h8=function(e,t){let n=ng("object"==typeof e?e:nS(),"firestore").getImmediate({identifier:"string"==typeof e?e:"(default)"});if(!n._initialized){let e=tA("firestore");e&&function(e,t,n,r={}){var i;let a=(e=hh(e,hd))._getSettings(),s=`${t}:${n}`;if("firestore.googleapis.com"!==a.host&&a.host!==s&&sg("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=sc.MOCK_USER;else{t=function(e,t){if(e.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw Error("mockUserToken must contain 'sub' or 'user_id' field!");let a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[t_(JSON.stringify({alg:"none",type:"JWT"})),t_(JSON.stringify(a)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);let a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new sw(sb.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new sc(a)}e._authCredentials=new sk(new sS(t,n))}}(n,...e)}return n}(h6),h9=new ia;var h7=()=>{let[e,t]=(0,L.useState)(""),[n,r]=(0,L.useState)(""),[i,a]=(0,L.useState)(!1),s=h4(),o=ez();(0,L.useEffect)(()=>{s.isLoggedIn&&o("/")},[s.isLoggedIn,o]);let l=async t=>{t.preventDefault(),a(!0);try{console.log("Signing up..."),await s.signupUserWithEmailAndPassword(e,n),console.log("Registration successful"),o("/")}catch(e){console.error("Error registering user:",e),alert("Registration failed. Please try again.")}finally{a(!1)}};return(0,O.jsxs)("div",{className:"max-w-md mx-auto mt-8 p-6 bg-white shadow-lg rounded-lg",children:[(0,O.jsx)("h2",{className:"text-2xl font-semibold text-center mb-4",children:"Register"}),(0,O.jsxs)("form",{onSubmit:l,children:[(0,O.jsx)("input",{type:"text",placeholder:"Username",className:"w-full p-2 mb-4 border border-gray-300 rounded",value:e,onChange:e=>t(e.target.value),required:!0}),(0,O.jsx)("input",{type:"password",placeholder:"Password",className:"w-full p-2 mb-4 border border-gray-300 rounded",value:n,onChange:e=>r(e.target.value),required:!0}),(0,O.jsx)("button",{type:"submit",className:"w-full py-2 bg-green-500 text-white rounded hover:bg-green-600",disabled:i,children:i?"Registering...":"Create Account"})]})]})},L=R("acw62"),fe=()=>{let[e,t]=(0,L.useState)(""),[n,r]=(0,L.useState)(""),[i,a]=(0,L.useState)(!1),s=h4(),o=ez();(0,L.useEffect)(()=>{s.isLoggedIn&&o("/")},[s.isLoggedIn,o]);let l=async t=>{t.preventDefault(),a(!0);try{console.log("Signing in..."),await s.loginWithEmailAndPassword(e,n),console.log("Login successful"),o("/")}catch(e){console.error("Login error:",e),alert("Login failed. Please check your credentials and try again.")}finally{a(!1)}};return(0,O.jsxs)("div",{className:"max-w-md mx-auto mt-8 p-6 bg-white shadow-lg rounded-lg",children:[(0,O.jsx)("h2",{className:"text-2xl font-semibold text-center mb-4",children:"Login"}),(0,O.jsxs)("form",{onSubmit:l,children:[(0,O.jsx)("input",{type:"text",placeholder:"Username",className:"w-full p-2 mb-4 border border-gray-300 rounded",value:e,onChange:e=>t(e.target.value),required:!0}),(0,O.jsx)("input",{type:"password",placeholder:"Password",className:"w-full p-2 mb-4 border border-gray-300 rounded",value:n,onChange:e=>r(e.target.value),required:!0}),(0,O.jsx)("button",{type:"submit",className:"w-full py-2 bg-blue-500 text-white rounded hover:bg-blue-600",disabled:i,children:i?"Logging in...":"Login"})]}),(0,O.jsx)("h1",{className:"text-center my-4",children:"OR"}),(0,O.jsx)("button",{onClick:s.signinWithGoogle,className:"w-full py-2 bg-red-500 text-white rounded hover:bg-red-600",children:"Sign in with Google"})]})},L=R("acw62"),ft=()=>{let[e,t]=(0,L.useState)(""),[n,r]=(0,L.useState)(""),[i,a]=(0,L.useState)(""),[s,o]=(0,L.useState)(!1),l=h4(),u=async s=>{s.preventDefault(),o(!0);try{let s=await l.handleCreateNewListing(e,n,i);s.success?(console.log("Listing created successfully with ID:",s.id),t(""),r(""),a("")):console.error("Error creating listing:",s.error)}catch(e){console.error("Unexpected error:",e)}finally{o(!1)}};return(0,O.jsx)("div",{children:(0,O.jsxs)("div",{className:"max-w-md mx-auto mt-8 p-6 bg-white shadow-lg rounded-lg",children:[(0,O.jsx)("h2",{className:"text-2xl font-semibold text-center mb-4",children:"Book Listing"}),(0,O.jsxs)("form",{onSubmit:u,children:[(0,O.jsx)("label",{children:"Book Name"}),(0,O.jsx)("input",{type:"text",placeholder:"Book Name",className:"w-full p-2 mb-4 border border-gray-300 rounded",value:e,onChange:e=>t(e.target.value)}),(0,O.jsx)("label",{children:"ISBN Number"}),(0,O.jsx)("input",{type:"number",placeholder:"ISBN Number",className:"w-full p-2 mb-4 border border-gray-300 rounded",value:n,onChange:e=>r(e.target.value)}),(0,O.jsx)("label",{children:"Price"}),(0,O.jsx)("input",{type:"text",placeholder:"Price",className:"w-full p-2 mb-4 border border-gray-300 rounded",value:i,onChange:e=>a(e.target.value)}),(0,O.jsx)("button",{type:"submit",className:"w-full py-2 bg-blue-500 text-white rounded hover:bg-blue-600",disabled:s,children:s?"Creating...":"Create"})]})]})})},L=R("acw62"),fn=()=>{let e=h4(),[t,n]=(0,L.useState)([]);return(0,L.useEffect)(()=>{let t=async()=>{try{let t=(await e.listAllBooks()).docs.map(e=>({id:e.id,...e.data()})).filter(t=>t.userId===e.user?.uid);console.log(t),n(t)}catch(e){console.error("Error fetching books:",e)}};e.isLoggedIn?t():n([])},[e]),(0,O.jsxs)("div",{children:[(0,O.jsx)("h1",{className:"mx-4 p-4 justify-center flex font-semibold text-red-600",children:"Your Books"}),(0,O.jsx)("div",{className:"flex flex-row mx-4",children:t.length>0?t.map(e=>(0,O.jsxs)("div",{className:"gap-4 rounded-lg flex-col mx-4 bg-emerald-100 p-4 md:w-1/2 sm:w-1/2 lg:w-1/5",children:[(0,O.jsxs)("p",{children:["Book:"," ",(0,O.jsx)("span",{className:"text-black font-bold font-mono",children:e.name})]}),(0,O.jsxs)("p",{children:["ISBN: ",(0,O.jsx)("span",{className:"text-gray-700",children:e.isbn})]}),(0,O.jsxs)("p",{children:["Price: ",e.price]})]},e.id)):(0,O.jsx)("p",{className:"mx-auto text-gray-500",children:"No books found."})})]})},L=R("acw62"),fr=()=>{let e=h4(),[t,n]=(0,L.useState)([]),[r,i]=(0,L.useState)(""),[a,s]=(0,L.useState)(!1),[o,l]=(0,L.useState)(!1);(0,L.useEffect)(()=>{(async()=>{let t=await e.listAllUsers();console.log("Fetched users:",t),n(t)})()},[e]);let u=t.filter(e=>e.isAdmin),c=t.filter(e=>!e.isAdmin),h=async()=>{try{await e.addUser({email:r,isAdmin:a}),i(""),s(!1),l(!1);let t=await e.listAllUsers();n(t)}catch(e){console.error("Error adding user:",e)}},f=async t=>{try{await e.deleteUser(t);let r=await e.listAllUsers();n(r)}catch(e){console.error("Error deleting user:",e)}},d=async t=>{try{await e.setUserAdmin(t,!0);let r=await e.listAllUsers();n(r)}catch(e){console.error("Error setting user as admin:",e)}},p=async t=>{try{await e.setUserAdmin(t,!1);let r=await e.listAllUsers();n(r)}catch(e){console.error("Error removing admin:",e)}};return(0,O.jsxs)("div",{className:"container mx-auto p-6",children:[(0,O.jsx)("h2",{className:"text-3xl font-semibold text-center mb-6",children:"Admin Dashboard"}),(0,O.jsxs)("div",{className:"mb-6",children:[(0,O.jsx)("h3",{className:"text-2xl font-semibold",children:"Admin Users"}),0===u.length?(0,O.jsx)("p",{children:"No admin users found."}):(0,O.jsx)("ul",{children:u.map(e=>(0,O.jsxs)("li",{className:"flex justify-between items-center py-2 px-4 bg-gray-100 mb-2 rounded-md",children:[(0,O.jsxs)("div",{children:[(0,O.jsx)("p",{children:e.email}),(0,O.jsx)("p",{className:"text-sm text-gray-500",children:"Status: Admin"})]}),(0,O.jsxs)("div",{className:"flex space-x-2",children:[(0,O.jsx)("button",{className:"text-red-500 hover:text-red-700",onClick:()=>p(e.uid),children:"Remove"}),(0,O.jsx)("button",{className:"text-red-500 hover:text-red-700",onClick:()=>f(e.uid),children:"Delete"})]})]},e.uid))})]}),(0,O.jsxs)("div",{className:"mb-6",children:[(0,O.jsx)("h3",{className:"text-2xl font-semibold",children:"Non-Admin Users"}),0===c.length?(0,O.jsx)("p",{children:"No non-admin users found."}):(0,O.jsx)("ul",{children:c.map(e=>(0,O.jsxs)("li",{className:"flex justify-between items-center py-2 px-4 bg-gray-100 mb-2 rounded-md",children:[(0,O.jsxs)("div",{children:[(0,O.jsx)("p",{children:e.email}),(0,O.jsx)("p",{className:"text-sm text-gray-500",children:"Status: Non-Admin"})]}),(0,O.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,O.jsx)("button",{className:"text-green-500 hover:text-green-700",onClick:()=>d(e.uid),children:"Set as Admin"}),(0,O.jsx)("button",{className:"text-red-500 hover:text-red-700",onClick:()=>f(e.uid),children:"Delete"})]})]},e.uid))})]}),(0,O.jsx)("button",{className:"w-full py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:()=>l(!0),children:"Add New User"}),o&&(0,O.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-50",children:(0,O.jsxs)("div",{className:"bg-white p-6 rounded-md shadow-lg w-96",children:[(0,O.jsx)("h3",{className:"text-2xl font-semibold mb-4",children:"Add New User"}),(0,O.jsx)("input",{type:"email",className:"w-full p-2 mb-4 border border-gray-300 rounded",placeholder:"Email",value:r,onChange:e=>i(e.target.value)}),(0,O.jsx)("label",{className:"block text-sm mb-2",children:"Role"}),(0,O.jsxs)("select",{className:"w-full p-2 mb-4 border border-gray-300 rounded",value:a,onChange:e=>s("true"===e.target.value),children:[(0,O.jsx)("option",{value:!1,children:"Non-Admin"}),(0,O.jsx)("option",{value:!0,children:"Admin"})]}),(0,O.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,O.jsx)("button",{className:"px-4 py-2 bg-gray-200 rounded text-gray-700",onClick:()=>l(!1),children:"Cancel"}),(0,O.jsx)("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:h,children:"Add User"})]})]})})]})};R("acw62"),console.log("AIzaSyAPd_OOHcDamdKsxn1jHLLaVi1uvicTwxg"),console.log("notificationsystem-c1552.firebaseapp.com");var L=R("acw62");i(D).createRoot(document.getElementById("root")).render((0,O.jsx)(i(L).StrictMode,{children:(0,O.jsx)(function({basename:e,children:t,window:n}){let r=L.useRef();null==r.current&&(r.current=function(e={}){return function(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o="POP",l=null,u=c();function c(){return(s.state||{idx:null}).idx}function h(){o="POP";let e=c(),t=null==e?null:e-u;u=e,l&&l({action:o,location:d.location,delta:t})}function f(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"==typeof e?e:eg(e);return n=n.replace(/ $/,"%20"),ef(t,`No window.location.(origin|href) available to create URL for href: ${n}`),new URL(n,t)}null==u&&(u=0,s.replaceState({...s.state,idx:u},""));let d={get action(){return o},get location(){return e(i,s)},listen(e){if(l)throw Error("A history only accepts one active listener");return i.addEventListener(eh,h),l=e,()=>{i.removeEventListener(eh,h),l=null}},createHref:e=>t(i,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o="PUSH";let n=em(d.location,e,t),r=ep(n,u=c()+1),h=d.createHref(n);try{s.pushState(r,"",h)}catch(e){if(e instanceof DOMException&&"DataCloneError"===e.name)throw e;i.location.assign(h)}a&&l&&l({action:o,location:d.location,delta:1})},replace:function(e,t){o="REPLACE";let n=em(d.location,e,t),r=ep(n,u=c()),i=d.createHref(n);s.replaceState(r,"",i),a&&l&&l({action:o,location:d.location,delta:0})},go:e=>s.go(e)};return d}(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return em("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"==typeof t?t:eg(t)},null,e)}({window:n,v5Compat:!0}));let i=r.current,[a,s]=L.useState({action:i.action,location:i.location}),o=L.useCallback(e=>{L.startTransition(()=>s(e))},[s]);return L.useLayoutEffect(()=>i.listen(o),[i,o]),L.createElement(eX,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:i})},{children:(0,O.jsxs)(e=>{let[t,n]=(0,L.useState)(null);(0,L.useEffect)(()=>{var e;let t=(e=e=>{e?n(e):n(null)},tH(h5).onAuthStateChanged(e,void 0,void 0));return()=>t()},[]);let r=async(e,t)=>{try{let n=hv(h8,"users",e);await h0(n,{isAdmin:t}),console.log(`User ${e} is now ${t?"an admin":"a regular user"}`)}catch(e){console.error("Error setting admin:",e)}},i=async()=>{try{return(await hZ(hy(h8,"users"))).docs.map(e=>({uid:e.id,...e.data()}))}catch(e){throw console.error("Error fetching users:",e),e}},a=async e=>{try{let t=hy(h8,"users");await h1(t,e)}catch(e){console.error("Error adding user:",e)}},s=async e=>{try{let t=hv(h8,"users",e);await h2(hh(t.firestore,hw),[new l_(t._key,lf.none())])}catch(e){console.error("Error deleting user:",e)}},o=async(e,t)=>{try{let n=hv(h8,"users",e);await h0(n,{isAdmin:t})}catch(e){console.error("Error updating user:",e)}},l=async()=>{try{await tH(h5).signOut(),console.log("User logged out successfully")}catch(e){console.error("Error logging out:",e)}},u=async(e,n,r)=>{try{let i=await h1(hy(h8,"books"),{name:e,isbn:n,price:r,userId:t.uid,userEmail:t.email,displayName:t.displayName,photoURL:t.photoURL});return{success:!0,id:i.id}}catch(e){return console.error("Error creating new listing:",e),{success:!1,error:e.message}}},c=async()=>await hZ(hy(h8,"books")),h=!!t;return(0,O.jsx)(h3.Provider,{value:{user:t,signupUserWithEmailAndPassword:(e,t,n)=>ib(h5,e,t,n),loginWithEmailAndPassword:(e,t,n)=>ny(h5.app)?Promise.reject(nB(h5)):iy(tH(h5),ie.credential(e,t)).catch(async e=>{throw"auth/password-does-not-meet-requirements"===e.code&&iv(h5),e}),signinWithGoogle:()=>iZ(h5,h9),handleCreateNewListing:u,isLoggedIn:h,addUser:a,deleteUser:s,setUserAdmin:o,logout:l,listAllBooks:c,setAdminPrivilege:r,listAllUsers:i},children:e.children})},{children:[(0,O.jsx)(()=>{let e=ez(),[t,n]=(0,L.useState)(!1),r=t=>{e(t),n(!1)},i=h4();return(0,O.jsxs)("header",{className:"bg-blue-500 text-white p-4 flex items-center justify-between relative",children:[(0,O.jsx)("div",{className:"flex items-center",children:(0,O.jsx)("h1",{className:"font-bold lg:text-xl ",children:"Notify"})}),(0,O.jsxs)("div",{className:"relative",children:[(0,O.jsx)("button",{onClick:()=>n(e=>!e),className:"flex items-center justify-center p-2 rounded-md bg-blue-700 hover:bg-blue-600 focus:outline-none",children:(0,O.jsxs)("div",{className:"space-y-1",children:[(0,O.jsx)("span",{className:"block w-6 h-0.5 bg-white"}),(0,O.jsx)("span",{className:"block w-6 h-0.5 bg-white"}),(0,O.jsx)("span",{className:"block w-6 h-0.5 bg-white"})]})}),t&&(0,O.jsxs)("div",{className:"absolute right-0 mt-2 w-40 bg-white text-black rounded-md shadow-lg",children:[(0,O.jsx)("button",{onClick:()=>r("/"),className:"block px-4 py-2 w-full text-left hover:bg-gray-100",children:"Home"}),(0,O.jsx)("button",{onClick:()=>r("/listBooks"),className:"block px-4 py-2 w-full text-left hover:bg-gray-100",children:"Add Books"}),(0,O.jsx)("button",{onClick:()=>r("/login"),className:"block px-4 py-2 w-full text-left hover:bg-gray-100 text-green-600 ",children:"Login"}),(0,O.jsx)("button",{className:"block px-4 py-2 w-full text-left hover:bg-gray-100 text-red-600 ",onClick:async()=>{try{await i.logout(),localStorage.removeItem("token"),window.location.href="/login"}catch(e){console.error("Error logging out:",e)}},children:"Logout"}),(0,O.jsx)("button",{onClick:()=>{localStorage.removeItem("token"),window.location.href="/register"},className:"text-red-900 hover:text-red-700 block px-4 py-2 w-full text-left",children:"register"})]})]})]})},{}),(0,O.jsx)(function(){return(0,O.jsxs)(eZ,{children:[(0,O.jsx)(eJ,{path:"/",element:(0,O.jsx)(fn,{})}),(0,O.jsx)(eJ,{path:"/listBooks",element:(0,O.jsx)(ft,{})}),(0,O.jsx)(eJ,{path:"/register",element:(0,O.jsx)(h7,{})}),(0,O.jsx)(eJ,{path:"/login",element:(0,O.jsx)(fe,{})}),(0,O.jsx)(eJ,{path:"/admin",element:(0,O.jsx)(fr,{})})," "]})},{})]})})}));
//# sourceMappingURL=index.61187088.js.map
